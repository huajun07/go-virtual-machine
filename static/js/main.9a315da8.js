/*! For license information please see main.9a315da8.js.LICENSE.txt */
(()=>{var e={219:(e,t,n)=>{"use strict";var r=n(86),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var o=f(n);o&&o!==p&&e(t,o,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!i[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},611:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",c="[object Null]",u="[object Object]",d="[object Proxy]",h="[object Undefined]",f=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m[i]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m[a]=m["[object Map]"]=m["[object Number]"]=m[u]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1;var g="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,v="object"==typeof self&&self&&self.Object===Object&&self,y=g||v||Function("return this")(),b=t&&!t.nodeType&&t,w=b&&e&&!e.nodeType&&e,x=w&&w.exports===b,S=x&&g.process,k=function(){try{var e=w&&w.require&&w.require("util").types;return e||S&&S.binding&&S.binding("util")}catch(t){}}(),C=k&&k.isTypedArray;var _,E,A=Array.prototype,M=Function.prototype,T=Object.prototype,P=y["__core-js_shared__"],O=M.toString,N=T.hasOwnProperty,D=function(){var e=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),R=T.toString,I=O.call(Object),z=RegExp("^"+O.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=x?y.Buffer:void 0,B=y.Symbol,j=y.Uint8Array,F=L?L.allocUnsafe:void 0,V=(_=Object.getPrototypeOf,E=Object,function(e){return _(E(e))}),W=Object.create,H=T.propertyIsEnumerable,U=A.splice,q=B?B.toStringTag:void 0,K=function(){try{var e=ye(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Y=L?L.isBuffer:void 0,$=Math.max,X=Date.now,G=ye(y,"Map"),Z=ye(Object,"create"),Q=function(){function e(){}return function(t){if(!Pe(t))return{};if(W)return W(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ne(e){var t=this.__data__=new ee(e);this.size=t.size}function re(e,t){var n=_e(e),r=!n&&Ce(e),o=!n&&!r&&Ae(e),i=!n&&!r&&!o&&Ne(e),s=n||r||o||i,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=a.length;for(var c in e)!t&&!N.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||be(c,l))||a.push(c);return a}function oe(e,t,n){(void 0!==n&&!ke(e[t],n)||void 0===n&&!(t in e))&&ae(e,t,n)}function ie(e,t,n){var r=e[t];N.call(e,t)&&ke(r,n)&&(void 0!==n||t in e)||ae(e,t,n)}function se(e,t){for(var n=e.length;n--;)if(ke(e[n][0],t))return n;return-1}function ae(e,t,n){"__proto__"==t&&K?K(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}J.prototype.clear=function(){this.__data__=Z?Z(null):{},this.size=0},J.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},J.prototype.get=function(e){var t=this.__data__;if(Z){var n=t[e];return n===r?void 0:n}return N.call(t,e)?t[e]:void 0},J.prototype.has=function(e){var t=this.__data__;return Z?void 0!==t[e]:N.call(t,e)},J.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Z&&void 0===t?r:t,this},ee.prototype.clear=function(){this.__data__=[],this.size=0},ee.prototype.delete=function(e){var t=this.__data__,n=se(t,e);return!(n<0)&&(n==t.length-1?t.pop():U.call(t,n,1),--this.size,!0)},ee.prototype.get=function(e){var t=this.__data__,n=se(t,e);return n<0?void 0:t[n][1]},ee.prototype.has=function(e){return se(this.__data__,e)>-1},ee.prototype.set=function(e,t){var n=this.__data__,r=se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new J,map:new(G||ee),string:new J}},te.prototype.delete=function(e){var t=ve(this,e).delete(e);return this.size-=t?1:0,t},te.prototype.get=function(e){return ve(this,e).get(e)},te.prototype.has=function(e){return ve(this,e).has(e)},te.prototype.set=function(e,t){var n=ve(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ne.prototype.clear=function(){this.__data__=new ee,this.size=0},ne.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ne.prototype.get=function(e){return this.__data__.get(e)},ne.prototype.has=function(e){return this.__data__.has(e)},ne.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ee){var r=n.__data__;if(!G||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new te(r)}return n.set(e,t),this.size=n.size,this};var le,ce=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),s=i.length;s--;){var a=i[le?s:++r];if(!1===t(o[a],a,o))break}return e};function ue(e){return null==e?void 0===e?h:c:q&&q in Object(e)?function(e){var t=N.call(e,q),n=e[q];try{e[q]=void 0;var r=!0}catch(i){}var o=R.call(e);r&&(t?e[q]=n:delete e[q]);return o}(e):function(e){return R.call(e)}(e)}function de(e){return Oe(e)&&ue(e)==i}function he(e){return!(!Pe(e)||function(e){return!!D&&D in e}(e))&&(Me(e)?z:f).test(function(e){if(null!=e){try{return O.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function fe(e){if(!Pe(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=we(e),n=[];for(var r in e)("constructor"!=r||!t&&N.call(e,r))&&n.push(r);return n}function pe(e,t,n,r,o){e!==t&&ce(t,(function(i,s){if(o||(o=new ne),Pe(i))!function(e,t,n,r,o,i,s){var a=xe(e,n),l=xe(t,n),c=s.get(l);if(c)return void oe(e,n,c);var d=i?i(a,l,n+"",e,t,s):void 0,h=void 0===d;if(h){var f=_e(l),p=!f&&Ae(l),m=!f&&!p&&Ne(l);d=l,f||p||m?_e(a)?d=a:Oe(g=a)&&Ee(g)?d=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(a):p?(h=!1,d=function(e,t){if(t)return e.slice();var n=e.length,r=F?F(n):new e.constructor(n);return e.copy(r),r}(l,!0)):m?(h=!1,d=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new j(t).set(new j(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(l,!0)):d=[]:function(e){if(!Oe(e)||ue(e)!=u)return!1;var t=V(e);if(null===t)return!0;var n=N.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&O.call(n)==I}(l)||Ce(l)?(d=a,Ce(a)?d=function(e){return function(e,t,n,r){var o=!n;n||(n={});var i=-1,s=t.length;for(;++i<s;){var a=t[i],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),o?ae(n,a,l):ie(n,a,l)}return n}(e,De(e))}(a):Pe(a)&&!Me(a)||(d=function(e){return"function"!=typeof e.constructor||we(e)?{}:Q(V(e))}(l))):h=!1}var g;h&&(s.set(l,d),o(d,l,r,i,s),s.delete(l));oe(e,n,d)}(e,t,s,n,pe,r,o);else{var a=r?r(xe(e,s),i,s+"",e,t,o):void 0;void 0===a&&(a=i),oe(e,s,a)}}),De)}function me(e,t){return Se(function(e,t,n){return t=$(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=$(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,a)}}(e,t,ze),e+"")}var ge=K?function(e,t){return K(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:ze;function ve(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ye(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return he(n)?n:void 0}function be(e,t){var n=typeof e;return!!(t=null==t?o:t)&&("number"==n||"symbol"!=n&&p.test(e))&&e>-1&&e%1==0&&e<t}function we(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||T)}function xe(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Se=function(e){var t=0,n=0;return function(){var r=X(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ge);function ke(e,t){return e===t||e!==e&&t!==t}var Ce=de(function(){return arguments}())?de:function(e){return Oe(e)&&N.call(e,"callee")&&!H.call(e,"callee")},_e=Array.isArray;function Ee(e){return null!=e&&Te(e.length)&&!Me(e)}var Ae=Y||function(){return!1};function Me(e){if(!Pe(e))return!1;var t=ue(e);return t==a||t==l||t==s||t==d}function Te(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Pe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Oe(e){return null!=e&&"object"==typeof e}var Ne=C?function(e){return function(t){return e(t)}}(C):function(e){return Oe(e)&&Te(e.length)&&!!m[ue(e)]};function De(e){return Ee(e)?re(e,!0):fe(e)}var Re,Ie=(Re=function(e,t,n,r){pe(e,t,n,r)},me((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=Re.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!Pe(n))return!1;var r=typeof t;return!!("number"==r?Ee(n)&&be(t,n.length):"string"==r&&t in n)&&ke(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var s=t[n];s&&Re(e,s,n,o)}return e})));function ze(e){return e}e.exports=Ie},730:(e,t,n)=>{"use strict";var r=n(43),o=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var z,L=Object.assign;function B(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var j=!1;function F(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function V(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case _:return"Profiler";case C:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=U(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function ie(e,t){var n=U(t.value),r=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ce=null;function _e(e){if(e=wo(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Ee(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function Ae(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Me(e,t){return e(t)}function Te(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Me(e,t,n)}finally{Pe=!1,(null!==ke||null!==Ce)&&(Te(),Ae())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var De=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){De=!1}function Ie(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var ze=!1,Le=null,Be=!1,je=null,Fe={onError:function(e){ze=!0,Le=e}};function Ve(e,t,n,r,o,i,s,a,l){ze=!1,Le=null,Ie.apply(Fe,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(We(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Ue(o),e;if(s===r)return Ue(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ye=o.unstable_scheduleCallback,$e=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,Ge=o.unstable_requestPaint,Ze=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=dt(a):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~o)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,kt,Ct,_t,Et=!1,At=[],Mt=null,Tt=null,Pt=null,Ot=new Map,Nt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function zt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=bo(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void _t(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function jt(e,t,n){Bt(e)&&n.delete(t)}function Ft(){Et=!1,null!==Mt&&Bt(Mt)&&(Mt=null),null!==Tt&&Bt(Tt)&&(Tt=null),null!==Pt&&Bt(Pt)&&(Pt=null),Ot.forEach(jt),Nt.forEach(jt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function Wt(e){function t(t){return Vt(t,e)}if(0<At.length){Vt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Vt(Mt,e),null!==Tt&&Vt(Tt,e),null!==Pt&&Vt(Pt,e),Ot.forEach(t),Nt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Dt.shift()}var Ht=w.ReactCurrentBatchConfig,Ut=!0;function qt(e,t,n,r){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=o,Ht.transition=i}}function Kt(e,t,n,r){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=o,Ht.transition=i}}function Yt(e,t,n,r){if(Ut){var o=Xt(e,t,n,r);if(null===o)Ur(e,t,r,$t,n),It(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Mt=zt(Mt,e,t,n,r,o),!0;case"dragenter":return Tt=zt(Tt,e,t,n,r,o),!0;case"mouseover":return Pt=zt(Pt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ot.set(i,zt(Ot.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Nt.set(i,zt(Nt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&xt(i),null===(i=Xt(e,t,n,r))&&Ur(e,t,r,$t,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var $t=null;function Xt(e,t,n,r){if($t=null,null!==(e=bo(e=xe(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(L({},fn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),vn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function _n(){return Cn}var En=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=on(En),Mn=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Pn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(On),Dn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var zn=u&&"TextEvent"in window&&!In,Ln=u&&(!Rn||In&&8<In&&11>=In),Bn=String.fromCharCode(32),jn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Yn=null;function $n(e){Br(e,0)}function Xn(e){if(Y(xo(e)))return e}function Gn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Qn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Yn=Kn=null)}function nr(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];qn(t,Yn,e,xe(e)),Oe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function ir(e,t){if("click"===e)return Xn(t)}function sr(e,t){if("input"===e||"change"===e)return Xn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var s=ur(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==$(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Cr={};function _r(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return kr[e]=n[t];return e}u&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Er=_r("animationend"),Ar=_r("animationiteration"),Mr=_r("animationstart"),Tr=_r("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr];Nr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Nr(Er,"onAnimationEnd"),Nr(Ar,"onAnimationIteration"),Nr(Mr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,l,c){if(Ve.apply(this,arguments),ze){if(!ze)throw Error(i(198));var u=Le;ze=!1,Le=null,Be||(Be=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,a,c),i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,a,c),i=l}}}if(Be)throw e=je,Be=!1,je=null,e}function jr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Vr]){e[Vr]=!0,s.forEach((function(t){"selectionchange"!==t&&(zr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Fr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Gt(t)){case 1:var o=qt;break;case 4:o=Kt;break;default:o=Yt}n=o.bind(null,t,n,e),o=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}a=a.parentNode}}r=r.return}Oe((function(){var r=i,o=xe(n),s=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Er:case Ar:case Mr:l=vn;break;case Tr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ne(p,h))&&u.push(qr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Mn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:xo(l),f=null==c?a:xo(c),(a=new u(m,p+"leave",l,n,o)).target=d,a.relatedTarget=f,m=null,bo(o)===r&&((u=new u(h,p+"enter",c,n,o)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Yr(f))p++;for(f=0,m=h;m;m=Yr(m))f++;for(;0<p-f;)u=Yr(u),p--;for(;0<f-p;)h=Yr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yr(u),h=Yr(h)}u=null}else u=null;null!==l&&$r(s,a,l,u,!1),null!==c&&null!==d&&$r(s,d,c,u,!0)}if("select"===(l=(a=r?xo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Gn;else if(Un(a))if(Zn)g=sr;else{g=or;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?qn(s,g,n,o):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?xo(r):window,e){case"focusin":(Un(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,o)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=en()):(Qt="value"in(Zt=o)?Zt.value:Zt.textContent,Wn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,o),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=zn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(jn=!0,Bn);case"textInput":return(e=t.data)===Bn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Rn&&Fn(e,t)?(e=en(),Jt=Qt=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=y))}Br(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Ne(e,n))&&r.unshift(qr(e,i,o)),null!=(i=Ne(e,t))&&r.push(qr(e,i,o))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Ne(n,i))&&s.unshift(qr(n,l,a)):o||null!=(l=Ne(n,i))&&s.push(qr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Gr,"")}function Qr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function Jr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Wt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),fo="__reactFiber$"+ho,po="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,vo="__reactListeners$"+ho,yo="__reactHandles$"+ho;function bo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[fo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function So(e){return e[po]||null}var ko=[],Co=-1;function _o(e){return{current:e}}function Eo(e){0>Co||(e.current=ko[Co],ko[Co]=null,Co--)}function Ao(e,t){Co++,ko[Co]=e.current,e.current=t}var Mo={},To=_o(Mo),Po=_o(!1),Oo=Mo;function No(e,t){var n=e.type.contextTypes;if(!n)return Mo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Do(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ro(){Eo(Po),Eo(To)}function Io(e,t,n){if(To.current!==Mo)throw Error(i(168));Ao(To,t),Ao(Po,n)}function zo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,H(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mo,Oo=To.current,Ao(To,e),Ao(Po,Po.current),!0}function Bo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=zo(e,t,Oo),r.__reactInternalMemoizedMergedChildContext=e,Eo(Po),Eo(To),Ao(To,e)):Eo(Po),Ao(Po,n)}var jo=null,Fo=!1,Vo=!1;function Wo(e){null===jo?jo=[e]:jo.push(e)}function Ho(){if(!Vo&&null!==jo){Vo=!0;var e=0,t=bt;try{var n=jo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}jo=null,Fo=!1}catch(o){throw null!==jo&&(jo=jo.slice(e+1)),Ye(Je,Ho),o}finally{bt=t,Vo=!1}}return null}var Uo=[],qo=0,Ko=null,Yo=0,$o=[],Xo=0,Go=null,Zo=1,Qo="";function Jo(e,t){Uo[qo++]=Yo,Uo[qo++]=Ko,Ko=e,Yo=t}function ei(e,t,n){$o[Xo++]=Zo,$o[Xo++]=Qo,$o[Xo++]=Go,Go=e;var r=Zo;e=Qo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Zo=1<<32-st(t)+o|n<<o|r,Qo=i+e}else Zo=1<<i|n<<o|r,Qo=e}function ti(e){null!==e.return&&(Jo(e,1),ei(e,1,0))}function ni(e){for(;e===Ko;)Ko=Uo[--qo],Uo[qo]=null,Yo=Uo[--qo],Uo[qo]=null;for(;e===Go;)Go=$o[--Xo],$o[Xo]=null,Qo=$o[--Xo],$o[Xo]=null,Zo=$o[--Xo],$o[Xo]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Go?{id:Zo,overflow:Qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw fi(),Error(i(418));for(;t;)ai(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=oi;e;)e=co(e.nextSibling)}function pi(){oi=ri=null,ii=!1}function mi(e){null===si?si=[e]:si.push(e)}var gi=w.ReactCurrentBatchConfig;function vi(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yi=_o(null),bi=null,wi=null,xi=null;function Si(){xi=wi=bi=null}function ki(e){var t=yi.current;Eo(yi),e._currentValue=t}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _i(e,t){bi=e,xi=wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Ei(e){var t=e._currentValue;if(xi!==e)if(e={context:e,memoizedValue:t,next:null},null===wi){if(null===bi)throw Error(i(308));wi=e,bi.dependencies={lanes:0,firstContext:e}}else wi=wi.next=e;return t}var Ai=null;function Mi(e){null===Ai?Ai=[e]:Ai.push(e)}function Ti(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Mi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Pi(e,r)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Di(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ri(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Pi(e,n)}return null===(o=r.interleaved)?(t.next=t,Mi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Pi(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bi(e,t,n,r){var o=e.updateQueue;Oi=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(s=0,u=c=l=null,a=i;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Oi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=d}}function ji(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Fi=(new r.Component).refs;function Vi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Wi={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),i=Ri(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ii(e,i,o))&&(rc(t,e,o,r),zi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),i=Ri(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ii(e,i,o))&&(rc(t,e,o,r),zi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),o=Ri(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Ii(e,o,r))&&(rc(t,e,r,n),zi(t,e,r))}};function Hi(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function Ui(e,t,n){var r=!1,o=Mo,i=t.contextType;return"object"===typeof i&&null!==i?i=Ei(i):(o=Do(t)?Oo:To.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?No(e,o):Mo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Wi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function qi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wi.enqueueReplaceState(t,t.state,null)}function Ki(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Fi,Ni(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ei(i):(i=Do(t)?Oo:To.current,o.context=No(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Vi(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Wi.enqueueReplaceState(o,o.state,null),Bi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function Yi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;t===Fi&&(t=o.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function $i(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xi(e){return(0,e._init)(e._payload)}function Gi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===N&&Xi(i)===t.type)?((r=o(t,n.props)).ref=Yi(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=Yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=zc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=Yi(e,null,t),n.return=e,n;case S:return(t=jc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=zc(t,e.mode,n,null)).return=e,t;$i(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?c(e,t,n,r):null;case S:return n.key===o?u(e,t,n,r):null;case N:return f(e,t,(o=n._init)(n._payload),r)}if(te(n)||I(n))return null!==o?null:d(e,t,n,r,null);$i(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case N:return p(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,o,null);$i(t,r)}return null}function m(o,i,a,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(o,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=s(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(o,d),ii&&Jo(o,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(o,a[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Jo(o,m),c}for(d=r(o,d);m<a.length;m++)null!==(g=p(d,o,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),ii&&Jo(o,m),c}function g(o,a,l,c){var u=I(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),ii&&Jo(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return ii&&Jo(o,g),u}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=p(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),ii&&Jo(o,g),u}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===k){if(7===u.tag){n(r,u.sibling),(i=o(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Xi(c)===u.type){n(r,u.sibling),(i=o(u,s.props)).ref=Yi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((i=zc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Ic(s.type,s.key,s.props,null,r.mode,l)).ref=Yi(r,i,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=jc(s,r.mode,l)).return=r,r=i}return a(r);case N:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(I(s))return g(r,i,s,l);$i(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Bc(s,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var Zi=Gi(!0),Qi=Gi(!1),Ji={},es=_o(Ji),ts=_o(Ji),ns=_o(Ji);function rs(e){if(e===Ji)throw Error(i(174));return e}function os(e,t){switch(Ao(ns,t),Ao(ts,e),Ao(es,Ji),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Eo(es),Ao(es,t)}function is(){Eo(es),Eo(ts),Eo(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ao(ts,e),Ao(es,n))}function as(e){ts.current===e&&(Eo(es),Eo(ts))}var ls=_o(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function ds(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var hs=w.ReactCurrentDispatcher,fs=w.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,vs=null,ys=!1,bs=!1,ws=0,xs=0;function Ss(){throw Error(i(321))}function ks(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Cs(e,t,n,r,o,s){if(ps=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?aa:la,e=n(r,o),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(i(301));s+=1,vs=gs=null,t.updateQueue=null,hs.current=ca,e=n(r,o)}while(bs)}if(hs.current=sa,t=null!==gs&&null!==gs.next,ps=0,vs=gs=ms=null,ys=!1,t)throw Error(i(300));return e}function _s(){var e=0!==ws;return ws=0,e}function Es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ms.memoizedState=vs=e:vs=vs.next=e,vs}function As(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===vs?ms.memoizedState:vs.next;if(null!==t)vs=t,gs=e;else{if(null===e)throw Error(i(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===vs?ms.memoizedState=vs=e:vs=vs.next=e}return vs}function Ms(e,t){return"function"===typeof t?t(e):t}function Ts(e){var t=As(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=gs,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ps&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,ms.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,ms.lanes|=s,Ll|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ps(e){var t=As(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Os(){}function Ns(e,t){var n=ms,r=As(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,wa=!0),r=r.queue,Us(Is.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,js(9,Rs.bind(null,n,r,o,t),void 0,null),null===Pl)throw Error(i(349));0!==(30&ps)||Ds(n,t,o)}return o}function Ds(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Rs(e,t,n,r){t.value=n,t.getSnapshot=r,zs(t)&&Ls(e)}function Is(e,t,n){return n((function(){zs(t)&&Ls(e)}))}function zs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ls(e){var t=Pi(e,1);null!==t&&rc(t,e,1,-1)}function Bs(e){var t=Es();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function js(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fs(){return As().memoizedState}function Vs(e,t,n,r){var o=Es();ms.flags|=e,o.memoizedState=js(1|t,n,void 0,void 0===r?null:r)}function Ws(e,t,n,r){var o=As();r=void 0===r?null:r;var i=void 0;if(null!==gs){var s=gs.memoizedState;if(i=s.destroy,null!==r&&ks(r,s.deps))return void(o.memoizedState=js(t,n,i,r))}ms.flags|=e,o.memoizedState=js(1|t,n,i,r)}function Hs(e,t){return Vs(8390656,8,e,t)}function Us(e,t){return Ws(2048,8,e,t)}function qs(e,t){return Ws(4,2,e,t)}function Ks(e,t){return Ws(4,4,e,t)}function Ys(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $s(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ws(4,4,Ys.bind(null,t,e),n)}function Xs(){}function Gs(e,t){var n=As();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zs(e,t){var n=As();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qs(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,Ll|=n,e.baseState=!0),t)}function Js(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function ea(){return As().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))oa(t,n);else if(null!==(n=Ti(e,t,n,r))){rc(n,e,r,tc()),ia(n,t,r)}}function na(e,t,n){var r=nc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))oa(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(o.next=o,Mi(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Ti(e,t,o,r))&&(rc(n,e,r,o=tc()),ia(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function oa(e,t){bs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ia(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:Ei,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:!1},aa={readContext:Ei,useCallback:function(e,t){return Es().memoizedState=[e,void 0===t?null:t],e},useContext:Ei,useEffect:Hs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vs(4194308,4,Ys.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=Es();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Es();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Es().memoizedState=e},useState:Bs,useDebugValue:Xs,useDeferredValue:function(e){return Es().memoizedState=e},useTransition:function(){var e=Bs(!1),t=e[0];return e=Js.bind(null,e[1]),Es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,o=Es();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Pl)throw Error(i(349));0!==(30&ps)||Ds(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Hs(Is.bind(null,r,s,e),[e]),r.flags|=2048,js(9,Rs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Es(),t=Pl.identifierPrefix;if(ii){var n=Qo;t=":"+t+"R"+(n=(Zo&~(1<<32-st(Zo)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Ei,useCallback:Gs,useContext:Ei,useEffect:Us,useImperativeHandle:$s,useInsertionEffect:qs,useLayoutEffect:Ks,useMemo:Zs,useReducer:Ts,useRef:Fs,useState:function(){return Ts(Ms)},useDebugValue:Xs,useDeferredValue:function(e){return Qs(As(),gs.memoizedState,e)},useTransition:function(){return[Ts(Ms)[0],As().memoizedState]},useMutableSource:Os,useSyncExternalStore:Ns,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Ei,useCallback:Gs,useContext:Ei,useEffect:Us,useImperativeHandle:$s,useInsertionEffect:qs,useLayoutEffect:Ks,useMemo:Zs,useReducer:Ps,useRef:Fs,useState:function(){return Ps(Ms)},useDebugValue:Xs,useDeferredValue:function(e){var t=As();return null===gs?t.memoizedState=e:Qs(t,gs.memoizedState,e)},useTransition:function(){return[Ps(Ms)[0],As().memoizedState]},useMutableSource:Os,useSyncExternalStore:Ns,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ri(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Kl=r),ha(0,t)},n}function ma(e,t,n){(n=Ri(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ha(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ri(-1,1)).tag=2,Ii(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ba=w.ReactCurrentOwner,wa=!1;function xa(e,t,n,r){t.child=null===e?Qi(t,null,n,r):Zi(t,e.child,n,r)}function Sa(e,t,n,r,o){n=n.render;var i=t.ref;return _i(t,o),r=Cs(e,t,n,r,i,o),n=_s(),null===e||wa?(ii&&n&&ti(t),t.flags|=1,xa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,qa(e,t,o))}function ka(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Dc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ca(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return qa(e,t,o)}return t.flags|=1,(e=Rc(i,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,qa(e,t,o);0!==(131072&e.flags)&&(wa=!0)}}return Aa(e,t,n,r,o)}function _a(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ao(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ao(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ao(Rl,Dl),Dl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ao(Rl,Dl),Dl|=r;return xa(e,t,o,n),t.child}function Ea(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,n,r,o){var i=Do(n)?Oo:To.current;return i=No(t,i),_i(t,o),n=Cs(e,t,n,r,i,o),r=_s(),null===e||wa?(ii&&r&&ti(t),t.flags|=1,xa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,qa(e,t,o))}function Ma(e,t,n,r,o){if(Do(n)){var i=!0;Lo(t)}else i=!1;if(_i(t,o),null===t.stateNode)Ua(e,t),Ui(t,n,r),Ki(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ei(c):c=No(t,c=Do(n)?Oo:To.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&qi(t,s,r,c),Oi=!1;var h=t.memoizedState;s.state=h,Bi(t,r,s,o),l=t.memoizedState,a!==r||h!==l||Po.current||Oi?("function"===typeof u&&(Vi(t,n,u,r),l=t.memoizedState),(a=Oi||Hi(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Di(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vi(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ei(l):l=No(t,l=Do(n)?Oo:To.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&qi(t,s,r,l),Oi=!1,h=t.memoizedState,s.state=h,Bi(t,r,s,o);var p=t.memoizedState;a!==d||h!==p||Po.current||Oi?("function"===typeof f&&(Vi(t,n,f,r),p=t.memoizedState),(c=Oi||Hi(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,i,o)}function Ta(e,t,n,r,o,i){Ea(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&Bo(t,n,!1),qa(e,t,i);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Zi(t,e.child,null,i),t.child=Zi(t,null,a,i)):xa(e,t,a,i),t.memoizedState=r.state,o&&Bo(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Io(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Io(0,t.context,!1),os(e,t.containerInfo)}function Oa(e,t,n,r,o){return pi(),mi(o),t.flags|=256,xa(e,t,n,r),t.child}var Na,Da,Ra,Ia,za={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ba(e,t,n){var r,o=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ao(ls,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lc(l,o,0,null),e=zc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=za,e):ja(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,r=da(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Lc({mode:"visible",children:r.children},o,0,null),(s=zc(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Zi(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=za,s);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Fa(e,t,a,r=da(s=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Pl)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Pi(e,o),rc(r,e,o,-1))}return gc(),Fa(e,t,a,r=da(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Mc.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&($o[Xo++]=Zo,$o[Xo++]=Qo,$o[Xo++]=Go,Zo=e.id,Qo=e.overflow,Go=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(a){a=o.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Rc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Rc(r,a):(a=zc(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=za,o}return e=(a=e.child).sibling,o=Rc(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function ja(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,r){return null!==r&&mi(r),Zi(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function Wa(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ha(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ao(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Wa(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===cs(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Wa(t,!0,n,null,i);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ua(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ya(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $a(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ya(t),null;case 1:case 17:return Do(t.type)&&Ro(),Ya(t),null;case 3:return r=t.stateNode,is(),Eo(Po),Eo(To),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(ac(si),si=null))),Da(e,t),Ya(t),null;case 5:as(t);var o=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ya(t),null}if(e=rs(es.current),hi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fo]=t,r[po]=s,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(o=0;o<Ir.length;o++)jr(Ir[o],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":G(r,s),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jr("invalid",r);break;case"textarea":oe(r,s),jr("invalid",r)}for(var l in ye(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":K(r),J(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fo]=t,e[po]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),o=r;break;case"iframe":case"object":case"embed":jr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)jr(Ir[o],e);o=r;break;case"source":jr("error",e),o=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),o=r;break;case"details":jr("toggle",e),o=r;break;case"input":G(e,r),o=X(e,r),jr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),jr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),jr("invalid",e)}for(s in ye(n,o),c=o)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&jr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+U(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ya(t),null;case 6:if(e&&null!=t.stateNode)Ia(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=rs(ns.current),rs(es.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return Ya(t),null;case 13:if(Eo(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))fi(),pi(),t.flags|=98560,s=!1;else if(s=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[fo]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ya(t),s=!1}else null!==si&&(ac(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Il&&(Il=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ya(t),null);case 4:return is(),Da(e,t),null===e&&Wr(t.stateNode.containerInfo),Ya(t),null;case 10:return ki(t.type._context),Ya(t),null;case 19:if(Eo(ls),null===(s=t.memoizedState))return Ya(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ka(s,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,Ka(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ao(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>Hl&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ii)return Ya(t),null}else 2*Ze()-s.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=ls.current,Ao(ls,r?1&n|2:1&n),t):(Ya(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ya(t),6&t.subtreeFlags&&(t.flags|=8192)):Ya(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Xa(e,t){switch(ni(t),t.tag){case 1:return Do(t.type)&&Ro(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return is(),Eo(Po),Eo(To),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(Eo(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Eo(ls),null;case 4:return is(),null;case 10:return ki(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Ra=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,rs(es.current);var i,s=null;switch(n){case"input":o=X(e,o),r=X(e,r),s=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&jr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ia=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ga=!1,Za=!1,Qa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){_c(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&tl(t,n,i)}o=o.next}while(o!==r)}}function ol(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fo],delete t[po],delete t[go],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(a){}switch(n.tag){case 5:Za||el(n,t);case 6:var r=dl,o=hl;dl=null,fl(e,t,n),hl=o,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Wt(e)):lo(dl,n.stateNode));break;case 4:r=dl,o=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=o;break;case 0:case 11:case 14:case 15:if(!Za&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&tl(n,t,s),o=o.next}while(o!==r)}fl(e,t,n);break;case 1:if(!Za&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_c(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Za=(r=Za)||null!==n.memoizedState,fl(e,t,n),Za=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qa),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(i(160));pl(s,a,o),dl=null,hl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){_c(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),ol(3,e)}catch(g){_c(e,e.return,g)}try{rl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(g){_c(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(o,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):b(o,d,h,u)}switch(l){case"input":Q(o,s);break;case"textarea":ie(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(o,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[po]=s}catch(g){_c(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){_c(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Wl=Ze())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Za=(u=Za)||d,gl(t,e),Za=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(h);continue}}null!==p?(p.return=f,Ja=p):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),ul(e,ll(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(i(161))}}catch(a){_c(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Ja=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var o=Ja,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Ga;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Za;a=Ga;var c=Za;if(Ga=s,(Za=l)&&!c)for(Ja=o;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?kl(o):null!==l?(l.return=s,Ja=l):kl(o);for(;null!==i;)Ja=i,wl(i,t,n),i=i.sibling;Ja=o,Ga=a,Za=c}xl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Ja=i):xl(e)}}function xl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Za||ol(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Za)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:vi(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&ji(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ji(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(i(163))}Za||512&t.flags&&il(t)}catch(f){_c(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function kl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ol(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){_c(t,o,l)}}var i=t.return;try{il(t)}catch(l){_c(t,i,l)}break;case 5:var s=t.return;try{il(t)}catch(l){_c(t,s,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Cl,_l=Math.ceil,El=w.ReactCurrentDispatcher,Al=w.ReactCurrentOwner,Ml=w.ReactCurrentBatchConfig,Tl=0,Pl=null,Ol=null,Nl=0,Dl=0,Rl=_o(0),Il=0,zl=null,Ll=0,Bl=0,jl=0,Fl=null,Vl=null,Wl=0,Hl=1/0,Ul=null,ql=!1,Kl=null,Yl=null,$l=!1,Xl=null,Gl=0,Zl=0,Ql=null,Jl=-1,ec=0;function tc(){return 0!==(6&Tl)?Ze():-1!==Jl?Jl:Jl=Ze()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Nl?Nl&-Nl:null!==gi.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function rc(e,t,n,r){if(50<Zl)throw Zl=0,Ql=null,Error(i(185));vt(e,n,r),0!==(2&Tl)&&e===Pl||(e===Pl&&(0===(2&Tl)&&(Bl|=n),4===Il&&lc(e,Nl)),oc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Hl=Ze()+500,Fo&&Ho()))}function oc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ht(e,e===Pl?Nl:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Fo=!0,Wo(e)}(cc.bind(null,e)):Wo(cc.bind(null,e)),so((function(){0===(6&Tl)&&Ho()})),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,ec=0,0!==(6&Tl))throw Error(i(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var o=Tl;Tl|=2;var s=mc();for(Pl===e&&Nl===t||(Ul=null,Hl=Ze()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}Si(),El.current=s,Tl=o,null!==Ol?t=0:(Pl=null,Nl=0,t=Il)}if(0!==t){if(2===t&&(0!==(o=pt(e))&&(r=o,t=sc(e,o))),1===t)throw n=zl,fc(e,0),lc(e,r),oc(e,Ze()),n;if(6===t)lc(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=vc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=zl,fc(e,0),lc(e,r),oc(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Sc(e,Vl,Ul);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Wl+500-Ze())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(Sc.bind(null,e,Vl,Ul),t);break}Sc(e,Vl,Ul);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ro(Sc.bind(null,e,Vl,Ul),r);break}Sc(e,Vl,Ul);break;default:throw Error(i(329))}}}return oc(e,Ze()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~jl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Tl))throw Error(i(327));kc();var t=ht(e,0);if(0===(1&t))return oc(e,Ze()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=zl,fc(e,0),lc(e,t),oc(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Vl,Ul),oc(e,Ze()),null}function uc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Hl=Ze()+500,Fo&&Ho())}}function dc(e){null!==Xl&&0===Xl.tag&&0===(6&Tl)&&kc();var t=Tl;Tl|=1;var n=Ml.transition,r=bt;try{if(Ml.transition=null,bt=1,e)return e()}finally{bt=r,Ml.transition=n,0===(6&(Tl=t))&&Ho()}}function hc(){Dl=Rl.current,Eo(Rl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ro();break;case 3:is(),Eo(Po),Eo(To),ds();break;case 5:as(r);break;case 4:is();break;case 13:case 19:Eo(ls);break;case 10:ki(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pl=e,Ol=e=Rc(e.current,null),Nl=Dl=t,Il=0,zl=null,jl=Bl=Ll=0,Vl=Fl=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(r=(n=Ai[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}Ai=null}return e}function pc(e,t){for(;;){var n=Ol;try{if(Si(),hs.current=sa,ys){for(var r=ms.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ys=!1}if(ps=0,vs=gs=ms=null,bs=!1,ws=0,Al.current=null,null===n||null===n.return){Il=1,zl=t,Ol=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(s,u,t),gc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),mi(ua(c,l));break e}}s=c=ua(c,l),4!==Il&&(Il=2),null===Fl?Fl=[s]:Fl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Li(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yl||!Yl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Li(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}xc(n)}catch(w){t=w,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function mc(){var e=El.current;return El.current=sa,null===e?sa:e}function gc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Pl||0===(268435455&Ll)&&0===(268435455&Bl)||lc(Pl,Nl)}function vc(e,t){var n=Tl;Tl|=2;var r=mc();for(Pl===e&&Nl===t||(Ul=null,fc(e,t));;)try{yc();break}catch(o){pc(e,o)}if(Si(),Tl=n,El.current=r,null!==Ol)throw Error(i(261));return Pl=null,Nl=0,Il}function yc(){for(;null!==Ol;)wc(Ol)}function bc(){for(;null!==Ol&&!Xe();)wc(Ol)}function wc(e){var t=Cl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?xc(e):Ol=t,Al.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$a(n,t,Dl)))return void(Ol=n)}else{if(null!==(n=Xa(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Il=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Il&&(Il=5)}function Sc(e,t,n){var r=bt,o=Ml.transition;try{Ml.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Xl);if(0!==(6&Tl))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===Pl&&(Ol=Pl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Pc(tt,(function(){return kc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Ml.transition,Ml.transition=null;var a=bt;bt=1;var l=Tl;Tl|=4,Al.current=null,function(e,t){if(eo=Ut,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===o&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ut=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vi(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(to),Ut=!!eo,to=eo=null,e.current=n,bl(n,e,o),Ge(),Tl=l,bt=a,Ml.transition=s}else e.current=n;if($l&&($l=!1,Xl=e,Gl=o),s=e.pendingLanes,0===s&&(Yl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),oc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ql)throw ql=!1,e=Kl,Kl=null,e;0!==(1&Gl)&&0!==e.tag&&kc(),s=e.pendingLanes,0!==(1&s)?e===Ql?Zl++:(Zl=0,Ql=e):Zl=0,Ho()}(e,t,n,r)}finally{Ml.transition=o,bt=r}return null}function kc(){if(null!==Xl){var e=wt(Gl),t=Ml.transition,n=bt;try{if(Ml.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Gl=0,0!==(6&Tl))throw Error(i(331));var o=Tl;for(Tl|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var f=(d=Ja).sibling,p=d.return;if(sl(d),d===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:ol(9,l)}}catch(S){_c(l,l.return,S)}if(l===a){Ja=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ja=x;break e}Ja=l.return}}if(Tl=o,Ho(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(S){}r=!0}return r}finally{bt=n,Ml.transition=t}}return!1}function Cc(e,t,n){e=Ii(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),oc(e,t))}function _c(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=Ii(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),oc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Nl&n)===n&&(4===Il||3===Il&&(130023424&Nl)===Nl&&500>Ze()-Wl?fc(e,0):jl|=n),oc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Pi(e,t))&&(vt(e,t,n),oc(e,n))}function Mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ac(e,n)}function Pc(e,t){return Ye(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Oc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,o,s){var a=2;if(r=e,"function"===typeof e)Dc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return zc(n.children,o,s,t);case C:a=8,o|=8;break;case _:return(e=Nc(12,n,t,2|o)).elementType=_,e.lanes=s,e;case T:return(e=Nc(13,n,t,o)).elementType=T,e.lanes=s,e;case P:return(e=Nc(19,n,t,o)).elementType=P,e.lanes=s,e;case D:return Lc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case A:a=9;break e;case M:a=11;break e;case O:a=14;break e;case N:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Nc(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function zc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,o,i,s,a,l){return e=new Fc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Nc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ni(i),e}function Wc(e){if(!e)return Mo;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Do(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Do(n))return zo(e,n,t)}return t}function Hc(e,t,n,r,o,i,s,a,l){return(e=Vc(n,r,!0,e,0,i,0,a,l)).context=Wc(null),n=e.current,(i=Ri(r=tc(),o=nc(n))).callback=void 0!==t&&null!==t?t:null,Ii(n,i,o),e.current.lanes=o,vt(e,o,r),oc(e,r),e}function Uc(e,t,n,r){var o=t.current,i=tc(),s=nc(o);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ri(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ii(o,t,s))&&(rc(e,o,s,i),zi(e,o,s)),s}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),pi();break;case 5:ss(t);break;case 1:Do(t.type)&&Lo(t);break;case 4:os(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ao(yi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ao(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ba(e,t,n):(Ao(ls,1&ls.current),null!==(e=qa(e,t,n))?e.sibling:null);Ao(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ha(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ao(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,_a(e,t,n)}return qa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,ii&&0!==(1048576&t.flags)&&ei(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ua(e,t),e=t.pendingProps;var o=No(t,To.current);_i(t,n),o=Cs(null,t,r,e,o,n);var s=_s();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Do(r)?(s=!0,Lo(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ni(t),o.updater=Wi,t.stateNode=o,o._reactInternals=t,Ki(t,r,e,n),t=Ta(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),xa(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ua(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===O)return 14}return 2}(r),e=vi(r,e),o){case 0:t=Aa(null,t,r,e,n);break e;case 1:t=Ma(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,vi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Aa(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ma(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 3:e:{if(Pa(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,Di(e,t),Bi(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Oa(e,t,r,n,o=ua(Error(i(423)),t));break e}if(r!==o){t=Oa(e,t,r,n,o=ua(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=Qi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===o){t=qa(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&ui(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),Ea(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Ba(e,t,n);case 4:return os(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Zi(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Sa(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,Ao(yi,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!Po.current){t=qa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Ri(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ci(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ci(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}xa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,_i(t,n),r=r(o=Ei(o)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return o=vi(r=t.type,t.pendingProps),ka(e,t,r,o=vi(r.type,o),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vi(r,o),Ua(e,t),t.tag=1,Do(r)?(e=!0,Lo(t)):e=!1,_i(t,n),Ui(t,r,o),Ki(t,r,o,n),Ta(null,t,r,!0,e,n);case 19:return Ha(e,t,n);case 22:return _a(e,t,n)}throw Error(i(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eu(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof o){var a=o;o=function(){var e=qc(s);a.call(e)}}Uc(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=qc(s);i.call(e)}}var s=Hc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[mo]=s.current,Wr(8===e.nodeType?e.parentNode:e),dc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var a=r;r=function(){var e=qc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[mo]=l.current,Wr(8===e.nodeType?e.parentNode:e),dc((function(){Uc(t,l,n,r)})),l}(n,t,e,o,r);return qc(s)}Gc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Uc(e,t,null,null)},Gc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Uc(null,e,null,null)})),t[mo]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),oc(t,Ze()),0===(6&Tl)&&(Hl=Ze()+500,Ho()))}break;case 13:dc((function(){var t=Pi(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Yc(e,1)}},St=function(e){if(13===e.tag){var t=Pi(e,134217728);if(null!==t)rc(t,e,134217728,tc());Yc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Pi(e,t);if(null!==n)rc(n,e,t,tc());Yc(e,t)}},Ct=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(i(90));Y(r),Q(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Me=uc,Te=dc;var tu={usingClientEntryPoint:!1,Events:[wo,xo,So,Ee,Ae,uc]},nu={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{ot=ou.inject(ru),it=ou}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(i(299));var n=!1,r="",o=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(i(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,o,0,s,a),e[mo]=t.current,Wr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Gc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(i(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},366:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,o="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,l,c,u;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(l=a;0!==l--;)if(!i(e[l],s[l]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!i(l.value[1],s.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(l=a;0!==l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof s.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof s.toString)return e.toString()===s.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!i(e[c[l]],s[c[l]]))return!1;return!0}return e!==e&&s!==s}e.exports=function(e,t){try{return i(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},82:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case o:return t}}}function S(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||x(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===a},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=x},86:(e,t,n)=>{"use strict";e.exports=n(82)},153:(e,t,n)=>{"use strict";var r=n(43),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,o)&&!C.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+M(l,0):i,x(s)?(o="",null!=e&&(o=e.replace(A,"$&/")+"/"),T(s,t,o,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(A,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var u=i+M(a=e[c],c);l+=T(a,t,o,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=T(a=a.value,t,o,u=i+M(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},D={transition:null},R={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:D,ReactCurrentOwner:k};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!C.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,D(S);else{var t=r(u);null!==t&&R(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(E),E=-1),p=!0;var i=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&o(c),w(n)}else o(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&R(x,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,_=null,E=-1,A=5,M=-1;function T(){return!(t.unstable_now()-M<A)}function P(){if(null!==_){var e=t.unstable_now();M=e;var n=!0;try{n=_(!0,e)}finally{n?k():(C=!1,_=null)}}else C=!1}if("function"===typeof b)k=function(){b(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,N=O.port2;O.port1.onmessage=P,k=function(){N.postMessage(null)}}else k=function(){v(P,0)};function D(e){_=e,C||(C=!0,k())}function R(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,R(x,i-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,D(S))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},334:(e,t,n)=>{var r=n(359),o=n(66),i=n(16),s=n(538),a=n(288),l=n(262),c=n(430);c.alea=r,c.xor128=o,c.xorwow=i,c.xorshift7=s,c.xor4096=a,c.tychei=l,e.exports=c},359:function(e,t,n){var r;!function(e,o,i){function s(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new s(e),r=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,o))||(o.exports=r):this.alea=l}(0,e=n.nmd(e),n.amdD)},262:function(e,t,n){var r;!function(e,o,i){function s(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new s(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,o))||(o.exports=r):this.tychei=l}(0,e=n.nmd(e),n.amdD)},66:function(e,t,n){var r;!function(e,o,i){function s(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new s(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,o))||(o.exports=r):this.xor128=l}(0,e=n.nmd(e),n.amdD)},288:function(e,t,n){var r;!function(e,o,i){function s(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,s,a=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),o=0,i=-32;i<l;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(s=s+1640531527|0,o=0==(n=a[127&i]^=r+s)?o+1:0);for(o>=128&&(a[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=a[o+34&127],n=a[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,a[o]=r^n;e.w=s,e.X=a,e.i=o}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new s(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.X&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,o))||(o.exports=r):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},538:function(e,t,n){var r;!function(e,o,i){function s(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new s(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.x&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,o))||(o.exports=r):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},16:function(e,t,n){var r;!function(e,o,i){function s(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new s(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,o))||(o.exports=r):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},430:function(e,t,n){var r;!function(o,i,s){var a,l=256,c=s.pow(l,6),u=s.pow(2,52),d=2*u,h=l-1;function f(e,t,n){var r=[],h=v(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return a&&(e=a.randomBytes)?e=e(l):(e=new Uint8Array(l),(o.crypto||o.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=o.navigator,n=t&&t.plugins;return[+new Date,o,n,o.screen,y(i)]}}():e,3),r),f=new p(r),b=function(){for(var e=f.g(6),t=c,n=0;e<u;)e=(e+n)*l,t*=l,n=f.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|f.g(4)},b.quick=function(){return f.g(4)/4294967296},b.double=b,v(y(f.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,f),e.state=function(){return m(f,{})}),n?(s.random=e,t):e})(b,h,"global"in t?t.global:this==s,t.state)}function p(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);o<l;)s[o]=o++;for(o=0;o<l;o++)s[o]=s[i=h&i+e[o%n]+(t=s[o])],s[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,s=r.S;e--;)t=s[o=h&o+1],n=n*l+s[h&(s[o]=s[i=h&i+t])+(s[i]=t)];return r.i=o,r.j=i,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],o=typeof e;if(t&&"object"==o)for(n in e)try{r.push(g(e[n],t-1))}catch(i){}return r.length?r:"string"==o?e:e+"\0"}function v(e,t){for(var n,r=e+"",o=0;o<r.length;)t[h&o]=h&(n^=19*t[h&o])+r.charCodeAt(o++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(v(s.random(),i),e.exports){e.exports=f;try{a=n(996)}catch(b){}}else void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},956:(e,t,n)=>{"use strict";var r=n(43);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,s=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return a((function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})}),[e,n,t]),s((function(){return c(o)&&u({inst:o}),e((function(){c(o)&&u({inst:o})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},39:(e,t,n)=>{"use strict";var r=n(43),o=n(461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=o.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=a(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==o&&h.hasValue){var t=h.value;if(o(t,e))return a=t}return a=e}if(t=a,i(s,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(s=e,a=n)}var s,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,o]);var f=s(e,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=f}),[f]),u(f),f}},461:(e,t,n)=>{"use strict";e.exports=n(956)},443:(e,t,n)=>{"use strict";e.exports=n(39)},996:()=>{}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e,t=n(43),r=n.t(t,2),o=n(391),i=n(950),s=n.t(i,2);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(t,n,r,o){void 0===o&&(o={});let{window:i=document.defaultView,v5Compat:s=!1}=o,u=i.history,p=e.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:p,location:w.location,delta:n})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(a({},u.state,{idx:g}),""));let w={get action(){return p},get location(){return t(i,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(l,y),m=e,()=>{i.removeEventListener(l,y),m=null}},createHref:e=>n(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let o=h(w.location,t,n);r&&r(o,t),g=v()+1;let a=d(o,g),l=w.createHref(o);try{u.pushState(a,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;i.location.assign(l)}s&&m&&m({action:p,location:w.location,delta:1})},replace:function(t,n){p=e.Replace;let o=h(w.location,t,n);r&&r(o,t),g=v();let i=d(o,g),a=w.createHref(o);u.replaceState(i,"",a),s&&m&&m({action:p,location:w.location,delta:0})},go:e=>u.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){void 0===n&&(n="/");let r=O(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let o=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let i=null;for(let s=0;null==i&&s<o.length;++s){let e=P(r);i=M(o[s],e)}return i}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=N([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),y(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:A(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))o(e,t,r);else o(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let s=b(r.join("/")),a=[];return a.push(...s.map((e=>""===e?i:[i,e].join("/")))),o&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,x=3,S=2,k=1,C=10,_=-2,E=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=_),t&&(r+=S),n.filter((e=>!E(e))).reduce(((e,t)=>e+(w.test(t)?x:""===t?k:C)),r)}function M(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===o?t:t.slice(o.length)||"/",c=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;i.push({params:r,pathname:N([o,c.pathname]),pathnameBase:D(N([o,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(o=N([o,c.pathnameBase]))}return i}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=a[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:i,pathnameBase:s,pattern:e}}function P(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const N=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");Error;function R(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const I=["post","put","patch","delete"],z=(new Set(I),["get",...I]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}const B=t.createContext(null);const j=t.createContext(null);const F=t.createContext(null);const V=t.createContext(null);const W=t.createContext({outlet:null,matches:[],isDataRoute:!1});const H=t.createContext(null);function U(){return null!=t.useContext(V)}function q(){return U()||c(!1),t.useContext(V).location}function K(n,r,o,i){U()||c(!1);let{navigator:s}=t.useContext(F),{matches:a}=t.useContext(W),l=a[a.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=q();if(r){var m;let e="string"===typeof r?p(r):r;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),h=e}else h=f;let g=h.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(n,{pathname:y});let w=Z(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:N([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:N([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,o,i);return r&&w?t.createElement(V.Provider,{value:{location:L({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},w):w}function Y(){let e=function(){var e;let n=t.useContext(H),r=J(Q.UseRouteError),o=ee(Q.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[o]}(),n=R(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,null)}const $=t.createElement(Y,null);class X extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(W.Provider,{value:this.props.routeContext},t.createElement(H.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G(e){let{routeContext:n,match:r,children:o}=e,i=t.useContext(B);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(W.Provider,{value:n},o)}function Z(e,n,r,o){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===o&&(o=null),null==e){var s;if(null==(s=r)||!s.errors)return null;e=r.matches}let a=e,l=null==(i=r)?void 0:i.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,d=-1;if(r&&o&&o.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,o=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||o){u=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}}return a.reduceRight(((e,o,i)=>{let s,c=!1,h=null,f=null;var p;r&&(s=l&&o.route.id?l[o.route.id]:void 0,h=o.route.errorElement||$,u&&(d<0&&0===i?(p="route-fallback",!1||te[p]||(te[p]=!0),c=!0,f=null):d===i&&(c=!0,f=o.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,i+1)),g=()=>{let n;return n=s?h:c?f:o.route.Component?t.createElement(o.route.Component,null):o.route.element?o.route.element:e,t.createElement(G,{match:o,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===i)?t.createElement(X,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var Q=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Q||{});function J(e){let n=t.useContext(j);return n||c(!1),n}function ee(e){let n=function(e){let n=t.useContext(W);return n||c(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const te={};r.startTransition;function ne(e){c(!1)}function re(n){let{basename:r="/",children:o=null,location:i,navigationType:s=e.Pop,navigator:a,static:l=!1,future:u}=n;U()&&c(!1);let d=r.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:d,navigator:a,static:l,future:L({v7_relativeSplatPath:!1},u)})),[d,u,a,l]);"string"===typeof i&&(i=p(i));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=i,b=t.useMemo((()=>{let e=O(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:s}}),[d,f,m,g,v,y,s]);return null==b?null:t.createElement(F.Provider,{value:h},t.createElement(V.Provider,{children:o,value:b}))}function oe(e){let{children:t,location:n}=e;return function(e,t){return K(e,t)}(ie(t),n)}new Promise((()=>{}));t.Component;function ie(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,o)=>{if(!t.isValidElement(e))return;let i=[...n,o];if(e.type===t.Fragment)return void r.push.apply(r,ie(e.props.children,i));e.type!==ne&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ie(e.props.children,i)),r.push(s)})),r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(XG){}new Map;const se=r.startTransition;s.flushSync,r.useId;function ae(e){let{basename:n,children:r,future:o,window:i}=e,s=t.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:i,v5Compat:!0})&&(a={}),m((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return h("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,a)));let l=s.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=o||{},p=t.useCallback((e=>{d&&se?se((()=>u(e))):u(e)}),[u,d]);return t.useLayoutEffect((()=>l.listen(p)),[l,p]),t.createElement(re,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:o})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var le,ce;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(le||(le={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ce||(ce={}));function ue(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var de=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(XG){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),he=Math.abs,fe=String.fromCharCode,pe=Object.assign;function me(e){return e.trim()}function ge(e,t,n){return e.replace(t,n)}function ve(e,t){return e.indexOf(t)}function ye(e,t){return 0|e.charCodeAt(t)}function be(e,t,n){return e.slice(t,n)}function we(e){return e.length}function xe(e){return e.length}function Se(e,t){return t.push(e),e}var ke=1,Ce=1,_e=0,Ee=0,Ae=0,Me="";function Te(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:ke,column:Ce,length:s,return:""}}function Pe(e,t){return pe(Te("",null,null,"",null,null,0),e,{length:-e.length},t)}function Oe(){return Ae=Ee>0?ye(Me,--Ee):0,Ce--,10===Ae&&(Ce=1,ke--),Ae}function Ne(){return Ae=Ee<_e?ye(Me,Ee++):0,Ce++,10===Ae&&(Ce=1,ke++),Ae}function De(){return ye(Me,Ee)}function Re(){return Ee}function Ie(e,t){return be(Me,e,t)}function ze(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Le(e){return ke=Ce=1,_e=we(Me=e),Ee=0,[]}function Be(e){return Me="",e}function je(e){return me(Ie(Ee-1,We(91===e?e+2:40===e?e+1:e)))}function Fe(e){for(;(Ae=De())&&Ae<33;)Ne();return ze(e)>2||ze(Ae)>3?"":" "}function Ve(e,t){for(;--t&&Ne()&&!(Ae<48||Ae>102||Ae>57&&Ae<65||Ae>70&&Ae<97););return Ie(e,Re()+(t<6&&32==De()&&32==Ne()))}function We(e){for(;Ne();)switch(Ae){case e:return Ee;case 34:case 39:34!==e&&39!==e&&We(Ae);break;case 40:41===e&&We(e);break;case 92:Ne()}return Ee}function He(e,t){for(;Ne()&&e+Ae!==57&&(e+Ae!==84||47!==De()););return"/*"+Ie(t,Ee-1)+"*"+fe(47===e?e:Ne())}function Ue(e){for(;!ze(De());)Ne();return Ie(e,Ee)}var qe="-ms-",Ke="-moz-",Ye="-webkit-",$e="comm",Xe="rule",Ge="decl",Ze="@keyframes";function Qe(e,t){for(var n="",r=xe(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function Je(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Ge:return e.return=e.return||e.value;case $e:return"";case Ze:return e.return=e.value+"{"+Qe(e.children,r)+"}";case Xe:e.value=e.props.join(",")}return we(n=Qe(e.children,r))?e.return=e.value+"{"+n+"}":""}function et(e){return Be(tt("",null,null,null,[""],e=Le(e),0,[0],e))}function tt(e,t,n,r,o,i,s,a,l){for(var c=0,u=0,d=s,h=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",w=o,x=i,S=r,k=b;g;)switch(p=y,y=Ne()){case 40:if(108!=p&&58==ye(k,d-1)){-1!=ve(k+=ge(je(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:k+=je(y);break;case 9:case 10:case 13:case 32:k+=Fe(p);break;case 92:k+=Ve(Re()-1,7);continue;case 47:switch(De()){case 42:case 47:Se(rt(He(Ne(),Re()),t,n),l);break;default:k+="/"}break;case 123*m:a[c++]=we(k)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(k=ge(k,/\f/g,"")),f>0&&we(k)-d&&Se(f>32?ot(k+";",r,n,d-1):ot(ge(k," ","")+";",r,n,d-2),l);break;case 59:k+=";";default:if(Se(S=nt(k,t,n,c,u,o,a,b,w=[],x=[],d),i),123===y)if(0===u)tt(k,t,S,S,w,i,d,a,x);else switch(99===h&&110===ye(k,3)?100:h){case 100:case 108:case 109:case 115:tt(e,S,S,r&&Se(nt(e,S,S,0,0,o,a,b,o,w=[],d),x),o,x,d,a,r?w:x);break;default:tt(k,S,S,S,[""],x,0,a,x)}}c=u=f=0,m=v=1,b=k="",d=s;break;case 58:d=1+we(k),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==Oe())continue;switch(k+=fe(y),y*m){case 38:v=u>0?1:(k+="\f",-1);break;case 44:a[c++]=(we(k)-1)*v,v=1;break;case 64:45===De()&&(k+=je(Ne())),h=De(),u=d=we(b=k+=Ue(Re())),y++;break;case 45:45===p&&2==we(k)&&(m=0)}}return i}function nt(e,t,n,r,o,i,s,a,l,c,u){for(var d=o-1,h=0===o?i:[""],f=xe(h),p=0,m=0,g=0;p<r;++p)for(var v=0,y=be(e,d+1,d=he(m=s[p])),b=e;v<f;++v)(b=me(m>0?h[v]+" "+y:ge(y,/&\f/g,h[v])))&&(l[g++]=b);return Te(e,t,n,0===o?Xe:a,l,c,u)}function rt(e,t,n){return Te(e,t,n,$e,fe(Ae),be(e,2,-2),0)}function ot(e,t,n,r){return Te(e,t,n,Ge,be(e,0,r),be(e,r+1,-1),r)}var it=function(e,t,n){for(var r=0,o=0;r=o,o=De(),38===r&&12===o&&(t[n]=1),!ze(o);)Ne();return Ie(e,Ee)},st=function(e,t){return Be(function(e,t){var n=-1,r=44;do{switch(ze(r)){case 0:38===r&&12===De()&&(t[n]=1),e[n]+=it(Ee-1,t,n);break;case 2:e[n]+=je(r);break;case 4:if(44===r){e[++n]=58===De()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=fe(r)}}while(r=Ne());return e}(Le(e),t))},at=new WeakMap,lt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||at.get(n))&&!r){at.set(e,!0);for(var o=[],i=st(t,o),s=n.props,a=0,l=0;a<i.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=o[a]?i[a].replace(/&\f/g,s[c]):s[c]+" "+i[a]}}},ct=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ut(e,t){switch(function(e,t){return 45^ye(e,0)?(((t<<2^ye(e,0))<<2^ye(e,1))<<2^ye(e,2))<<2^ye(e,3):0}(e,t)){case 5103:return Ye+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ye+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ye+e+Ke+e+qe+e+e;case 6828:case 4268:return Ye+e+qe+e+e;case 6165:return Ye+e+qe+"flex-"+e+e;case 5187:return Ye+e+ge(e,/(\w+).+(:[^]+)/,Ye+"box-$1$2"+qe+"flex-$1$2")+e;case 5443:return Ye+e+qe+"flex-item-"+ge(e,/flex-|-self/,"")+e;case 4675:return Ye+e+qe+"flex-line-pack"+ge(e,/align-content|flex-|-self/,"")+e;case 5548:return Ye+e+qe+ge(e,"shrink","negative")+e;case 5292:return Ye+e+qe+ge(e,"basis","preferred-size")+e;case 6060:return Ye+"box-"+ge(e,"-grow","")+Ye+e+qe+ge(e,"grow","positive")+e;case 4554:return Ye+ge(e,/([^-])(transform)/g,"$1"+Ye+"$2")+e;case 6187:return ge(ge(ge(e,/(zoom-|grab)/,Ye+"$1"),/(image-set)/,Ye+"$1"),e,"")+e;case 5495:case 3959:return ge(e,/(image-set\([^]*)/,Ye+"$1$`$1");case 4968:return ge(ge(e,/(.+:)(flex-)?(.*)/,Ye+"box-pack:$3"+qe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ye+e+e;case 4095:case 3583:case 4068:case 2532:return ge(e,/(.+)-inline(.+)/,Ye+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(we(e)-1-t>6)switch(ye(e,t+1)){case 109:if(45!==ye(e,t+4))break;case 102:return ge(e,/(.+:)(.+)-([^]+)/,"$1"+Ye+"$2-$3$1"+Ke+(108==ye(e,t+3)?"$3":"$2-$3"))+e;case 115:return~ve(e,"stretch")?ut(ge(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==ye(e,t+1))break;case 6444:switch(ye(e,we(e)-3-(~ve(e,"!important")&&10))){case 107:return ge(e,":",":"+Ye)+e;case 101:return ge(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ye+(45===ye(e,14)?"inline-":"")+"box$3$1"+Ye+"$2$3$1"+qe+"$2box$3")+e}break;case 5936:switch(ye(e,t+11)){case 114:return Ye+e+qe+ge(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ye+e+qe+ge(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ye+e+qe+ge(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ye+e+qe+e+e}return e}var dt=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ge:e.return=ut(e.value,e.length);break;case Ze:return Qe([Pe(e,{value:ge(e.value,"@","@"+Ye)})],r);case Xe:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qe([Pe(e,{props:[ge(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Qe([Pe(e,{props:[ge(t,/:(plac\w+)/,":"+Ye+"input-$1")]}),Pe(e,{props:[ge(t,/:(plac\w+)/,":-moz-$1")]}),Pe(e,{props:[ge(t,/:(plac\w+)/,qe+"input-$1")]})],r)}return""}))}}],ht=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||dt;var o,i,s={},a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l,c,u=[Je,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=xe(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}([lt,ct].concat(r,u));i=function(e,t,n,r){l=n,function(e){Qe(et(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new de({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return h.sheet.hydrate(a),h};function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ft.apply(this,arguments)}var pt=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}};var mt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function gt(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var vt=/[A-Z]|^ms/g,yt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bt=function(e){return 45===e.charCodeAt(1)},wt=function(e){return null!=e&&"boolean"!==typeof e},xt=gt((function(e){return bt(e)?e:e.replace(vt,"-$&").toLowerCase()})),St=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(yt,(function(e,t,n){return Ct={name:t,styles:n,next:Ct},t}))}return 1===mt[e]||bt(e)||"number"!==typeof t||0===t?t:t+"px"};function kt(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Ct={name:n.name,styles:n.styles,next:Ct},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Ct={name:r.name,styles:r.styles,next:Ct},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=kt(e,t,n[o])+";";else for(var i in n){var s=n[i];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=i+"{"+t[s]+"}":wt(s)&&(r+=xt(i)+":"+St(i,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=kt(e,t,s);switch(i){case"animation":case"animationName":r+=xt(i)+":"+a+";";break;default:r+=i+"{"+a+"}"}}else for(var l=0;l<s.length;l++)wt(s[l])&&(r+=xt(i)+":"+St(i,s[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=Ct,i=n(e);return Ct=o,kt(e,t,i)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var Ct,_t=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Et=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";Ct=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=kt(n,t,i)):o+=i[0];for(var s=1;s<e.length;s++)o+=kt(n,t,e[s]),r&&(o+=i[s]);_t.lastIndex=0;for(var a,l="";null!==(a=_t.exec(o));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:Ct}},At=!!r.useInsertionEffect&&r.useInsertionEffect,Mt=At||function(e){return e()},Tt=At||t.useLayoutEffect,Pt=t.createContext("undefined"!==typeof HTMLElement?ht({key:"css"}):null);Pt.Provider;var Ot=function(e){return(0,t.forwardRef)((function(n,r){var o=(0,t.useContext)(Pt);return e(n,o,r)}))};var Nt=t.createContext({});var Dt=pt((function(e){return pt((function(t){return function(e,t){return"function"===typeof t?t(e):ft({},e,t)}(e,t)}))})),Rt=function(e){var n=t.useContext(Nt);return e.theme!==n&&(n=Dt(n)(e.theme)),t.createElement(Nt.Provider,{value:n},e.children)};var It=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},zt=function(e,t,n){It(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}},Lt=(n(219),Ot((function(e,n){var r=e.styles,o=Et([r],void 0,t.useContext(Nt)),i=t.useRef();return Tt((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,s=document.querySelector('style[data-emotion="'+e+" "+o.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==s&&(r=!0,s.setAttribute("data-emotion",e),t.hydrate([s])),i.current=[t,r],function(){t.flush()}}),[n]),Tt((function(){var e=i.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==o.next&&zt(n,o.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",o,t,!1)}}),[n,o.name]),null})));function Bt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Et(t)}var jt=function(){var e=Bt.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Ft,Vt,Wt=n(579),Ht=String.raw,Ut=Ht(Ft||(Ft=ue(["\n  :root,\n  :host {\n    --chakra-vh: 100vh;\n  }\n\n  @supports (height: -webkit-fill-available) {\n    :root,\n    :host {\n      --chakra-vh: -webkit-fill-available;\n    }\n  }\n\n  @supports (height: -moz-fill-available) {\n    :root,\n    :host {\n      --chakra-vh: -moz-fill-available;\n    }\n  }\n\n  @supports (height: 100dvh) {\n    :root,\n    :host {\n      --chakra-vh: 100dvh;\n    }\n  }\n"]))),qt=()=>(0,Wt.jsx)(Lt,{styles:Ut}),Kt=e=>{let{scope:t=""}=e;return(0,Wt.jsx)(Lt,{styles:Ht(Vt||(Vt=ue(['\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n        -moz-osx-font-smoothing: grayscale;\n        touch-action: manipulation;\n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        margin: 0;\n        font-feature-settings: "kern";\n      }\n\n      '," :where(*, *::before, *::after) {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n        word-wrap: break-word;\n      }\n\n      main {\n        display: block;\n      }\n\n      "," hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      "," :where(pre, code, kbd,samp) {\n        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      "," a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      "," abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      "," :where(b, strong) {\n        font-weight: bold;\n      }\n\n      "," small {\n        font-size: 80%;\n      }\n\n      "," :where(sub,sup) {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      "," sub {\n        bottom: -0.25em;\n      }\n\n      "," sup {\n        top: -0.5em;\n      }\n\n      "," img {\n        border-style: none;\n      }\n\n      "," :where(button, input, optgroup, select, textarea) {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      "," :where(button, input) {\n        overflow: visible;\n      }\n\n      "," :where(button, select) {\n        text-transform: none;\n      }\n\n      ",' :where(\n          button::-moz-focus-inner,\n          [type="button"]::-moz-focus-inner,\n          [type="reset"]::-moz-focus-inner,\n          [type="submit"]::-moz-focus-inner\n        ) {\n        border-style: none;\n        padding: 0;\n      }\n\n      '," fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      "," legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      "," progress {\n        vertical-align: baseline;\n      }\n\n      "," textarea {\n        overflow: auto;\n      }\n\n      ",' :where([type="checkbox"], [type="radio"]) {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      ',' input[type="number"]::-webkit-inner-spin-button,\n      ',' input[type="number"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      ',' input[type="number"] {\n        -moz-appearance: textfield;\n      }\n\n      ',' input[type="search"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      ',' input[type="search"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      '," ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      "," details {\n        display: block;\n      }\n\n      "," summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      "," :where(\n          blockquote,\n          dl,\n          dd,\n          h1,\n          h2,\n          h3,\n          h4,\n          h5,\n          h6,\n          hr,\n          figure,\n          p,\n          pre\n        ) {\n        margin: 0;\n      }\n\n      "," button {\n        background: transparent;\n        padding: 0;\n      }\n\n      "," fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      "," :where(ol, ul) {\n        margin: 0;\n        padding: 0;\n      }\n\n      "," textarea {\n        resize: vertical;\n      }\n\n      ",' :where(button, [role="button"]) {\n        cursor: pointer;\n      }\n\n      '," button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      "," table {\n        border-collapse: collapse;\n      }\n\n      "," :where(h1, h2, h3, h4, h5, h6) {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      "," :where(button, input, optgroup, select, textarea) {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      "," :where(img, svg, video, canvas, audio, iframe, embed, object) {\n        display: block;\n      }\n\n      "," :where(img, video) {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible]\n        :focus:not([data-focus-visible-added]):not(\n          [data-focus-visible-disabled]\n        ) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      "," select::-ms-expand {\n        display: none;\n      }\n\n      ","\n    "])),t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,Ut)})};function Yt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{name:n,strict:r=!0,hookName:o="useContext",providerName:i="Provider",errorMessage:s,defaultValue:a}=e,l=(0,t.createContext)(a);return l.displayName=n,[l.Provider,function e(){var n;const a=(0,t.useContext)(l);if(!a&&r){const t=new Error(null!=s?s:(c=i,"".concat(o," returned `undefined`. Seems you forgot to wrap component within ").concat(c)));throw t.name="ContextError",null==(n=Error.captureStackTrace)||n.call(Error,t,e),t}var c;return a},l]}var[$t,Xt]=Yt({strict:!1,name:"PortalManagerContext"});function Gt(e){const{children:t,zIndex:n}=e;return(0,Wt.jsx)($t,{value:{zIndex:n},children:t})}Gt.displayName="PortalManager";var Zt=(0,t.createContext)({});function Qt(){const e=(0,t.useContext)(Zt);if(void 0===e)throw new Error("useColorMode must be used within a ColorModeProvider");return e}function Jt(e,t){const{colorMode:n}=Qt();return"dark"===n?t:e}Zt.displayName="ColorModeContext";var en=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")};function tn(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)&&!Array.isArray(e)}function nn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return rn(e)?e(...n):e}var rn=e=>"function"===typeof e,on=e=>e?"":void 0,sn=e=>!!e||void 0;function an(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.some((t=>(null==t||t(e),null==e?void 0:e.defaultPrevented)))}}var ln=n(611),cn=e=>"string"===typeof e?e.replace(/!(important)?$/,"").trim():e,un=(e,t)=>n=>{const r=String(t),o=(e=>/!(important)?$/.test(e))(r),i=cn(r),s=e?"".concat(e,".").concat(i):i;let a=tn(n.__cssMap)&&s in n.__cssMap?n.__cssMap[s].varRef:t;return a=cn(a),o?"".concat(a," !important"):a};function dn(e){const{scale:t,transform:n,compose:r}=e;return(e,o)=>{var i;const s=un(t,e)(o);let a=null!=(i=null==n?void 0:n(s,o))?i:s;return r&&(a=r(a,o)),a}}var hn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.reduce(((e,t)=>t(e)),e)};function fn(e,t){return n=>{const r={property:n,scale:e};return r.transform=dn({scale:e,transform:t}),r}}var pn=e=>{let{rtl:t,ltr:n}=e;return e=>"rtl"===e.direction?t:n};var mn=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];var gn={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},vn={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};var yn={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},bn={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},wn=new Set(Object.values(bn)),xn=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),Sn=e=>e.trim();var kn=e=>"string"===typeof e&&e.includes("(")&&e.includes(")");var Cn=e=>t=>"".concat(e,"(").concat(t,")"),_n={filter:e=>"auto"!==e?e:gn,backdropFilter:e=>"auto"!==e?e:vn,ring:e=>function(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}(_n.px(e)),bgClip:e=>"text"===e?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e},transform:e=>"auto"===e?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...mn].join(" "):"auto-gpu"===e?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...mn].join(" "):e,vh:e=>"$100vh"===e?"var(--chakra-vh)":e,px(e){if(null==e)return e;const{unitless:t}=(e=>{const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}})(e);return t||"number"===typeof e?"".concat(e,"px"):e},fraction:e=>"number"!==typeof e||e>1?e:"".concat(100*e,"%"),float:(e,t)=>"rtl"===t.direction?{left:"right",right:"left"}[e]:e,degree(e){if(function(e){return/^var\(--.+\)$/.test(e)}(e)||null==e)return e;const t="string"===typeof e&&!e.endsWith("deg");return"number"===typeof e||t?"".concat(e,"deg"):e},gradient:(e,t)=>function(e,t){if(null==e||xn.has(e))return e;if(!kn(e)&&!xn.has(e))return"url('".concat(e,"')");const n=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),r=null==n?void 0:n[1],o=null==n?void 0:n[2];if(!r||!o)return e;const i=r.includes("-gradient")?r:"".concat(r,"-gradient"),[s,...a]=o.split(",").map(Sn).filter(Boolean);if(0===(null==a?void 0:a.length))return e;const l=s in bn?bn[s]:s;a.unshift(l);const c=a.map((e=>{if(wn.has(e))return e;const n=e.indexOf(" "),[r,o]=-1!==n?[e.substr(0,n),e.substr(n+1)]:[e],i=kn(o)?o:o&&o.split(" "),s="colors.".concat(r),a=s in t.__cssMap?t.__cssMap[s].varRef:r;return i?[a,...Array.isArray(i)?i:[i]].join(" "):a}));return"".concat(i,"(").concat(c.join(", "),")")}(e,null!=t?t:{}),blur:Cn("blur"),opacity:Cn("opacity"),brightness:Cn("brightness"),contrast:Cn("contrast"),dropShadow:Cn("drop-shadow"),grayscale:Cn("grayscale"),hueRotate:e=>Cn("hue-rotate")(_n.degree(e)),invert:Cn("invert"),saturate:Cn("saturate"),sepia:Cn("sepia"),bgImage(e){if(null==e)return e;return kn(e)||xn.has(e)?e:"url(".concat(e,")")},outline(e){const t="0"===String(e)||"none"===String(e);return null!==e&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){var t;const{space:n,divide:r}=null!=(t=yn[e])?t:{},o={flexDirection:e};return n&&(o[n]=1),r&&(o[r]=1),o}},En={borderWidths:fn("borderWidths"),borderStyles:fn("borderStyles"),colors:fn("colors"),borders:fn("borders"),gradients:fn("gradients",_n.gradient),radii:fn("radii",_n.px),space:fn("space",hn(_n.vh,_n.px)),spaceT:fn("space",hn(_n.vh,_n.px)),degreeT:e=>({property:e,transform:_n.degree}),prop:(e,t,n)=>({property:e,scale:t,...t&&{transform:dn({scale:t,transform:n})}}),propT:(e,t)=>({property:e,transform:t}),sizes:fn("sizes",hn(_n.vh,_n.px)),sizesT:fn("sizes",hn(_n.vh,_n.fraction)),shadows:fn("shadows"),logical:function(e){const{property:t,scale:n,transform:r}=e;return{scale:n,property:pn(t),transform:n?dn({scale:n,compose:r}):r}},blur:fn("blur",_n.blur)},An={background:En.colors("background"),backgroundColor:En.colors("backgroundColor"),backgroundImage:En.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:_n.bgClip},bgSize:En.prop("backgroundSize"),bgPosition:En.prop("backgroundPosition"),bg:En.colors("background"),bgColor:En.colors("backgroundColor"),bgPos:En.prop("backgroundPosition"),bgRepeat:En.prop("backgroundRepeat"),bgAttachment:En.prop("backgroundAttachment"),bgGradient:En.gradients("backgroundImage"),bgClip:{transform:_n.bgClip}};Object.assign(An,{bgImage:An.backgroundImage,bgImg:An.backgroundImage});var Mn={border:En.borders("border"),borderWidth:En.borderWidths("borderWidth"),borderStyle:En.borderStyles("borderStyle"),borderColor:En.colors("borderColor"),borderRadius:En.radii("borderRadius"),borderTop:En.borders("borderTop"),borderBlockStart:En.borders("borderBlockStart"),borderTopLeftRadius:En.radii("borderTopLeftRadius"),borderStartStartRadius:En.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:En.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:En.radii("borderTopRightRadius"),borderStartEndRadius:En.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:En.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:En.borders("borderRight"),borderInlineEnd:En.borders("borderInlineEnd"),borderBottom:En.borders("borderBottom"),borderBlockEnd:En.borders("borderBlockEnd"),borderBottomLeftRadius:En.radii("borderBottomLeftRadius"),borderBottomRightRadius:En.radii("borderBottomRightRadius"),borderLeft:En.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:En.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:En.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:En.borders(["borderLeft","borderRight"]),borderInline:En.borders("borderInline"),borderY:En.borders(["borderTop","borderBottom"]),borderBlock:En.borders("borderBlock"),borderTopWidth:En.borderWidths("borderTopWidth"),borderBlockStartWidth:En.borderWidths("borderBlockStartWidth"),borderTopColor:En.colors("borderTopColor"),borderBlockStartColor:En.colors("borderBlockStartColor"),borderTopStyle:En.borderStyles("borderTopStyle"),borderBlockStartStyle:En.borderStyles("borderBlockStartStyle"),borderBottomWidth:En.borderWidths("borderBottomWidth"),borderBlockEndWidth:En.borderWidths("borderBlockEndWidth"),borderBottomColor:En.colors("borderBottomColor"),borderBlockEndColor:En.colors("borderBlockEndColor"),borderBottomStyle:En.borderStyles("borderBottomStyle"),borderBlockEndStyle:En.borderStyles("borderBlockEndStyle"),borderLeftWidth:En.borderWidths("borderLeftWidth"),borderInlineStartWidth:En.borderWidths("borderInlineStartWidth"),borderLeftColor:En.colors("borderLeftColor"),borderInlineStartColor:En.colors("borderInlineStartColor"),borderLeftStyle:En.borderStyles("borderLeftStyle"),borderInlineStartStyle:En.borderStyles("borderInlineStartStyle"),borderRightWidth:En.borderWidths("borderRightWidth"),borderInlineEndWidth:En.borderWidths("borderInlineEndWidth"),borderRightColor:En.colors("borderRightColor"),borderInlineEndColor:En.colors("borderInlineEndColor"),borderRightStyle:En.borderStyles("borderRightStyle"),borderInlineEndStyle:En.borderStyles("borderInlineEndStyle"),borderTopRadius:En.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:En.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:En.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:En.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Mn,{rounded:Mn.borderRadius,roundedTop:Mn.borderTopRadius,roundedTopLeft:Mn.borderTopLeftRadius,roundedTopRight:Mn.borderTopRightRadius,roundedTopStart:Mn.borderStartStartRadius,roundedTopEnd:Mn.borderStartEndRadius,roundedBottom:Mn.borderBottomRadius,roundedBottomLeft:Mn.borderBottomLeftRadius,roundedBottomRight:Mn.borderBottomRightRadius,roundedBottomStart:Mn.borderEndStartRadius,roundedBottomEnd:Mn.borderEndEndRadius,roundedLeft:Mn.borderLeftRadius,roundedRight:Mn.borderRightRadius,roundedStart:Mn.borderInlineStartRadius,roundedEnd:Mn.borderInlineEndRadius,borderStart:Mn.borderInlineStart,borderEnd:Mn.borderInlineEnd,borderTopStartRadius:Mn.borderStartStartRadius,borderTopEndRadius:Mn.borderStartEndRadius,borderBottomStartRadius:Mn.borderEndStartRadius,borderBottomEndRadius:Mn.borderEndEndRadius,borderStartRadius:Mn.borderInlineStartRadius,borderEndRadius:Mn.borderInlineEndRadius,borderStartWidth:Mn.borderInlineStartWidth,borderEndWidth:Mn.borderInlineEndWidth,borderStartColor:Mn.borderInlineStartColor,borderEndColor:Mn.borderInlineEndColor,borderStartStyle:Mn.borderInlineStartStyle,borderEndStyle:Mn.borderInlineEndStyle});var Tn={color:En.colors("color"),textColor:En.colors("color"),fill:En.colors("fill"),stroke:En.colors("stroke")},Pn={boxShadow:En.shadows("boxShadow"),mixBlendMode:!0,blendMode:En.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:En.prop("backgroundBlendMode"),opacity:!0};Object.assign(Pn,{shadow:Pn.boxShadow});var On={filter:{transform:_n.filter},blur:En.blur("--chakra-blur"),brightness:En.propT("--chakra-brightness",_n.brightness),contrast:En.propT("--chakra-contrast",_n.contrast),hueRotate:En.propT("--chakra-hue-rotate",_n.hueRotate),invert:En.propT("--chakra-invert",_n.invert),saturate:En.propT("--chakra-saturate",_n.saturate),dropShadow:En.propT("--chakra-drop-shadow",_n.dropShadow),backdropFilter:{transform:_n.backdropFilter},backdropBlur:En.blur("--chakra-backdrop-blur"),backdropBrightness:En.propT("--chakra-backdrop-brightness",_n.brightness),backdropContrast:En.propT("--chakra-backdrop-contrast",_n.contrast),backdropHueRotate:En.propT("--chakra-backdrop-hue-rotate",_n.hueRotate),backdropInvert:En.propT("--chakra-backdrop-invert",_n.invert),backdropSaturate:En.propT("--chakra-backdrop-saturate",_n.saturate)},Nn={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:_n.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:En.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:En.space("gap"),rowGap:En.space("rowGap"),columnGap:En.space("columnGap")};Object.assign(Nn,{flexDir:Nn.flexDirection});var Dn={gridGap:En.space("gridGap"),gridColumnGap:En.space("gridColumnGap"),gridRowGap:En.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},Rn={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:_n.outline},outlineOffset:!0,outlineColor:En.colors("outlineColor")},In={width:En.sizesT("width"),inlineSize:En.sizesT("inlineSize"),height:En.sizes("height"),blockSize:En.sizes("blockSize"),boxSize:En.sizes(["width","height"]),minWidth:En.sizes("minWidth"),minInlineSize:En.sizes("minInlineSize"),minHeight:En.sizes("minHeight"),minBlockSize:En.sizes("minBlockSize"),maxWidth:En.sizes("maxWidth"),maxInlineSize:En.sizes("maxInlineSize"),maxHeight:En.sizes("maxHeight"),maxBlockSize:En.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,t)=>{var n,r,o;const i=null!=(o=null==(r=null==(n=t.__breakpoints)?void 0:n.get(e))?void 0:r.minW)?o:e;return{["@media screen and (min-width: ".concat(i,")")]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,t)=>{var n,r,o;const i=null!=(o=null==(r=null==(n=t.__breakpoints)?void 0:n.get(e))?void 0:r._minW)?o:e;return{["@media screen and (max-width: ".concat(i,")")]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:En.propT("float",_n.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(In,{w:In.width,h:In.height,minW:In.minWidth,maxW:In.maxWidth,minH:In.minHeight,maxH:In.maxHeight,overscroll:In.overscrollBehavior,overscrollX:In.overscrollBehaviorX,overscrollY:In.overscrollBehaviorY});var zn={listStyleType:!0,listStylePosition:!0,listStylePos:En.prop("listStylePosition"),listStyleImage:!0,listStyleImg:En.prop("listStyleImage")};var Ln=(e=>{const t=new WeakMap;return(n,r,o,i)=>{if("undefined"===typeof n)return e(n,r,o);t.has(n)||t.set(n,new Map);const s=t.get(n);if(s.has(r))return s.get(r);const a=e(n,r,o,i);return s.set(r,a),a}})((function(e,t,n,r){const o="string"===typeof t?t.split("."):[t];for(r=0;r<o.length&&e;r+=1)e=e[o[r]];return void 0===e?n:e})),Bn={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},jn={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},Fn=(e,t,n)=>{const r={},o=Ln(e,t,{});for(const i in o){i in n&&null!=n[i]||(r[i]=o[i])}return r},Vn={srOnly:{transform:e=>!0===e?Bn:"focusable"===e?jn:{}},layerStyle:{processResult:!0,transform:(e,t,n)=>Fn(t,"layerStyles.".concat(e),n)},textStyle:{processResult:!0,transform:(e,t,n)=>Fn(t,"textStyles.".concat(e),n)},apply:{processResult:!0,transform:(e,t,n)=>Fn(t,e,n)}},Wn={position:!0,pos:En.prop("position"),zIndex:En.prop("zIndex","zIndices"),inset:En.spaceT("inset"),insetX:En.spaceT(["left","right"]),insetInline:En.spaceT("insetInline"),insetY:En.spaceT(["top","bottom"]),insetBlock:En.spaceT("insetBlock"),top:En.spaceT("top"),insetBlockStart:En.spaceT("insetBlockStart"),bottom:En.spaceT("bottom"),insetBlockEnd:En.spaceT("insetBlockEnd"),left:En.spaceT("left"),insetInlineStart:En.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:En.spaceT("right"),insetInlineEnd:En.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Wn,{insetStart:Wn.insetInlineStart,insetEnd:Wn.insetInlineEnd});var Hn={ring:{transform:_n.ring},ringColor:En.colors("--chakra-ring-color"),ringOffset:En.prop("--chakra-ring-offset-width"),ringOffsetColor:En.colors("--chakra-ring-offset-color"),ringInset:En.prop("--chakra-ring-inset")},Un={margin:En.spaceT("margin"),marginTop:En.spaceT("marginTop"),marginBlockStart:En.spaceT("marginBlockStart"),marginRight:En.spaceT("marginRight"),marginInlineEnd:En.spaceT("marginInlineEnd"),marginBottom:En.spaceT("marginBottom"),marginBlockEnd:En.spaceT("marginBlockEnd"),marginLeft:En.spaceT("marginLeft"),marginInlineStart:En.spaceT("marginInlineStart"),marginX:En.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:En.spaceT("marginInline"),marginY:En.spaceT(["marginTop","marginBottom"]),marginBlock:En.spaceT("marginBlock"),padding:En.space("padding"),paddingTop:En.space("paddingTop"),paddingBlockStart:En.space("paddingBlockStart"),paddingRight:En.space("paddingRight"),paddingBottom:En.space("paddingBottom"),paddingBlockEnd:En.space("paddingBlockEnd"),paddingLeft:En.space("paddingLeft"),paddingInlineStart:En.space("paddingInlineStart"),paddingInlineEnd:En.space("paddingInlineEnd"),paddingX:En.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:En.space("paddingInline"),paddingY:En.space(["paddingTop","paddingBottom"]),paddingBlock:En.space("paddingBlock")};Object.assign(Un,{m:Un.margin,mt:Un.marginTop,mr:Un.marginRight,me:Un.marginInlineEnd,marginEnd:Un.marginInlineEnd,mb:Un.marginBottom,ml:Un.marginLeft,ms:Un.marginInlineStart,marginStart:Un.marginInlineStart,mx:Un.marginX,my:Un.marginY,p:Un.padding,pt:Un.paddingTop,py:Un.paddingY,px:Un.paddingX,pb:Un.paddingBottom,pl:Un.paddingLeft,ps:Un.paddingInlineStart,paddingStart:Un.paddingInlineStart,pr:Un.paddingRight,pe:Un.paddingInlineEnd,paddingEnd:Un.paddingInlineEnd});var qn={textDecorationColor:En.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:En.shadows("textShadow")},Kn={clipPath:!0,transform:En.propT("transform",_n.transform),transformOrigin:!0,translateX:En.spaceT("--chakra-translate-x"),translateY:En.spaceT("--chakra-translate-y"),skewX:En.degreeT("--chakra-skew-x"),skewY:En.degreeT("--chakra-skew-y"),scaleX:En.prop("--chakra-scale-x"),scaleY:En.prop("--chakra-scale-y"),scale:En.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:En.degreeT("--chakra-rotate")},Yn={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:En.prop("transitionDuration","transition.duration"),transitionProperty:En.prop("transitionProperty","transition.property"),transitionTimingFunction:En.prop("transitionTimingFunction","transition.easing")},$n={fontFamily:En.prop("fontFamily","fonts"),fontSize:En.prop("fontSize","fontSizes",_n.px),fontWeight:En.prop("fontWeight","fontWeights"),lineHeight:En.prop("lineHeight","lineHeights"),letterSpacing:En.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(!0===e)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},Xn={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:En.spaceT("scrollMargin"),scrollMarginTop:En.spaceT("scrollMarginTop"),scrollMarginBottom:En.spaceT("scrollMarginBottom"),scrollMarginLeft:En.spaceT("scrollMarginLeft"),scrollMarginRight:En.spaceT("scrollMarginRight"),scrollMarginX:En.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:En.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:En.spaceT("scrollPadding"),scrollPaddingTop:En.spaceT("scrollPaddingTop"),scrollPaddingBottom:En.spaceT("scrollPaddingBottom"),scrollPaddingLeft:En.spaceT("scrollPaddingLeft"),scrollPaddingRight:En.spaceT("scrollPaddingRight"),scrollPaddingX:En.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:En.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function Gn(e){return tn(e)&&e.reference?e.reference:String(e)}var Zn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(Gn).join(" ".concat(e," ")).replace(/calc/g,"")},Qn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(Zn("+",...t),")")},Jn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(Zn("-",...t),")")},er=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(Zn("*",...t),")")},tr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(Zn("/",...t),")")},nr=e=>{const t=Gn(e);return null==t||Number.isNaN(parseFloat(t))?er(t,-1):String(t).startsWith("-")?String(t).slice(1):"-".concat(t)},rr=Object.assign((e=>({add:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rr(Qn(e,...n))},subtract:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rr(Jn(e,...n))},multiply:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rr(er(e,...n))},divide:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rr(tr(e,...n))},negate:()=>rr(nr(e)),toString:()=>e.toString()})),{add:Qn,subtract:Jn,multiply:er,divide:tr,negate:nr});function or(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(/\s+/g,t)}(e.toString());return function(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}(function(e){if(e.includes("\\."))return e;const t=!Number.isInteger(parseFloat(e.toString()));return t?e.replace(".","\\."):e}(t))}function ir(e,t){return"var(".concat(e).concat(t?", ".concat(t):"",")")}function sr(e){return or("--".concat(function(e){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e].filter(Boolean).join("-")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")))}function ar(e,t,n){const r=sr(e,n);return{variable:r,reference:ir(r,t)}}function lr(e){const t=null==e?0:e.length;return t?e[t-1]:void 0}function cr(e){if(null==e)return e;const{unitless:t}=function(e){const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}(e);return t||"number"===typeof e?"".concat(e,"px"):e}var ur=(e,t)=>parseInt(e[1],10)>parseInt(t[1],10)?1:-1,dr=e=>Object.fromEntries(Object.entries(e).sort(ur));function hr(e){const t=dr(e);return Object.assign(Object.values(t),t)}function fr(e){var t;if(!e)return e;e=null!=(t=cr(e))?t:e;return"number"===typeof e?"".concat(e+-.02):e.replace(/(\d+\.?\d*)/u,(e=>"".concat(parseFloat(e)+-.02)))}function pr(e,t){const n=["@media screen"];return e&&n.push("and","(min-width: ".concat(cr(e),")")),t&&n.push("and","(max-width: ".concat(cr(t),")")),n.join(" ")}function mr(e){var t;if(!e)return null;e.base=null!=(t=e.base)?t:"0px";const n=hr(e),r=Object.entries(e).sort(ur).map(((e,t,n)=>{let[r,o]=e;var i;let[,s]=null!=(i=n[t+1])?i:[];return s=parseFloat(s)>0?fr(s):void 0,{_minW:fr(o),breakpoint:r,minW:o,maxW:s,maxWQuery:pr(null,s),minWQuery:pr(o),minMaxQuery:pr(o,s)}})),o=function(e){const t=Object.keys(dr(e));return new Set(t)}(e),i=Array.from(o.values());return{keys:o,normalized:n,isResponsive(e){const t=Object.keys(e);return t.length>0&&t.every((e=>o.has(e)))},asObject:dr(e),asArray:hr(e),details:r,get:e=>r.find((t=>t.breakpoint===e)),media:[null,...n.map((e=>pr(e))).slice(1)],toArrayValue(e){if(!tn(e))throw new Error("toArrayValue: value must be an object");const t=i.map((t=>{var n;return null!=(n=e[t])?n:null}));for(;null===lr(t);)t.pop();return t},toObjectValue(e){if(!Array.isArray(e))throw new Error("toObjectValue: value must be an array");return e.reduce(((e,t,n)=>{const r=i[n];return null!=r&&null!=t&&(e[r]=t),e}),{})}}}var gr=(e,t)=>"".concat(e,":hover ").concat(t,", ").concat(e,"[data-hover] ").concat(t),vr=(e,t)=>"".concat(e,":focus ").concat(t,", ").concat(e,"[data-focus] ").concat(t),yr=(e,t)=>"".concat(e,":focus-visible ").concat(t),br=(e,t)=>"".concat(e,":focus-within ").concat(t),wr=(e,t)=>"".concat(e,":active ").concat(t,", ").concat(e,"[data-active] ").concat(t),xr=(e,t)=>"".concat(e,":disabled ").concat(t,", ").concat(e,"[data-disabled] ").concat(t),Sr=(e,t)=>"".concat(e,":invalid ").concat(t,", ").concat(e,"[data-invalid] ").concat(t),kr=(e,t)=>"".concat(e,":checked ").concat(t,", ").concat(e,"[data-checked] ").concat(t),Cr=(e,t)=>"".concat(e,":placeholder-shown ").concat(t),_r=e=>Ar((t=>e(t,"&")),"[role=group]","[data-group]",".group"),Er=e=>Ar((t=>e(t,"~ &")),"[data-peer]",".peer"),Ar=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(e).join(", ")},Mr={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:_r(gr),_peerHover:Er(gr),_groupFocus:_r(vr),_peerFocus:Er(vr),_groupFocusVisible:_r(yr),_peerFocusVisible:Er(yr),_groupActive:_r(wr),_peerActive:Er(wr),_groupDisabled:_r(xr),_peerDisabled:Er(xr),_groupInvalid:_r(Sr),_peerInvalid:Er(Sr),_groupChecked:_r(kr),_peerChecked:Er(kr),_groupFocusWithin:_r(br),_peerFocusWithin:Er(br),_peerPlaceholderShown:Er(Cr),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},Tr=Object.keys(Mr);function Pr(e,t){return ar(String(e).replace(/\./g,"-"),void 0,t)}function Or(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{stop:r,getKey:o}=n;return function e(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var s;if(function(e){return"object"===typeof e&&null!=e&&!Array.isArray(e)}(n)||Array.isArray(n)){const a={};for(const[l,c]of Object.entries(n)){const u=null!=(s=null==o?void 0:o(l))?s:l,d=[...i,u];if(null==r?void 0:r(n,d))return t(n,i);a[u]=e(c,d)}return a}return t(n,i)}(e)}var Nr=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];var Dr=e=>Tr.includes(e)||"default"===e;function Rr(e){var t;const n=function(e){const{__cssMap:t,__cssVars:n,__breakpoints:r,...o}=e;return o}(e),r=function(e){return function(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}(e,Nr)}(n),o=function(e){return e.semanticTokens}(n),i=function(e){let{tokens:t,semanticTokens:n}=e;const r={};return Or(t,((e,t)=>{null!=e&&(r[t.join(".")]={isSemantic:!1,value:e})})),Or(n,((e,t)=>{null!=e&&(r[t.join(".")]={isSemantic:!0,value:e})}),{stop:e=>Object.keys(e).every(Dr)}),r}({tokens:r,semanticTokens:o}),s=null==(t=n.config)?void 0:t.cssVarPrefix,{cssMap:a,cssVars:l}=function(e,t){let n={};const r={};for(const[o,i]of Object.entries(e)){const{isSemantic:s,value:a}=i,{variable:l,reference:c}=Pr(o,null==t?void 0:t.cssVarPrefix);if(!s){if(o.startsWith("space")){const e=o.split("."),[t,...n]=e,i="".concat(t,".-").concat(n.join(".")),s=rr.negate(a),u=rr.negate(c);r[i]={value:s,var:l,varRef:u}}n[l]=a,r[o]={value:a,var:l,varRef:c};continue}const u=n=>{const r=[String(o).split(".")[0],n].join(".");if(!e[r])return n;const{reference:i}=Pr(r,null==t?void 0:t.cssVarPrefix);return i},d=tn(a)?a:{default:a};n=ln(n,Object.entries(d).reduce(((e,t)=>{let[n,r]=t;var o,i;if(!r)return e;const s=u("".concat(r));return"default"===n?(e[l]=s,e):(e[null!=(i=null==(o=Mr)?void 0:o[n])?i:n]={[l]:s},e)}),{})),r[o]={value:c,var:l,varRef:c}}return{cssVars:n,cssMap:r}}(i,{cssVarPrefix:s});return Object.assign(n,{__cssVars:{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0",...l},__cssMap:a,__breakpoints:mr(n.breakpoints)}),n}var Ir=ln({},An,Mn,Tn,Nn,In,On,Hn,Rn,Dn,Vn,Wn,Pn,Un,Xn,$n,qn,Kn,zn,Yn),zr=Object.assign({},Un,In,Nn,Dn,Wn),Lr=(Object.keys(zr),[...Object.keys(Ir),...Tr]),Br={...Ir,...Mr},jr=e=>e in Br;var Fr=(e,t)=>e.startsWith("--")&&"string"===typeof t&&!function(e){return/^var\(--.+\)$/.test(e)}(t),Vr=(e,t)=>{var n,r;if(null==t)return t;const o=t=>{var n,r;return null==(r=null==(n=e.__cssMap)?void 0:n[t])?void 0:r.varRef},i=e=>{var t;return null!=(t=o(e))?t:e},[s,a]=function(e){const t=[];let n="",r=!1;for(let o=0;o<e.length;o++){const i=e[o];"("===i?(r=!0,n+=i):")"===i?(r=!1,n+=i):","!==i||r?n+=i:(t.push(n),n="")}return n=n.trim(),n&&t.push(n),t}(t);return t=null!=(r=null!=(n=o(s))?n:i(a))?r:i(t)};function Wr(e){const{configs:t={},pseudos:n={},theme:r}=e,o=function(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var s,a,l;const c=nn(e,r),u=(e=>t=>{if(!t.__breakpoints)return e;const{isResponsive:n,toArrayValue:r,media:o}=t.__breakpoints,i={};for(const s in e){let a=nn(e[s],t);if(null==a)continue;if(a=tn(a)&&n(a)?r(a):a,!Array.isArray(a)){i[s]=a;continue}const l=a.slice(0,o.length).length;for(let e=0;e<l;e+=1){const t=null==o?void 0:o[e];t?(i[t]=i[t]||{},null!=a[e]&&(i[t][s]=a[e])):i[s]=a[e]}}return i})(c)(r);let d={};for(let h in u){let e=nn(u[h],r);h in n&&(h=n[h]),Fr(h,e)&&(e=Vr(r,e));let f=t[h];if(!0===f&&(f={property:h}),tn(e)){d[h]=null!=(s=d[h])?s:{},d[h]=ln({},d[h],o(e,!0));continue}let p=null!=(l=null==(a=null==f?void 0:f.transform)?void 0:a.call(f,e,r,c))?l:e;p=(null==f?void 0:f.processResult)?o(p,!0):p;const m=nn(null==f?void 0:f.property,r);if(!i&&(null==f?void 0:f.static)){const e=nn(f.static,r);d=ln({},d,e)}if(m&&Array.isArray(m))for(const t of m)d[t]=p;else m?"&"===m&&tn(p)?d=ln({},d,p):d[m]=p:tn(p)?d=ln({},d,p):d[h]=p}return d};return o}var Hr=e=>t=>Wr({theme:t,pseudos:Mr,configs:Ir})(e);function Ur(e){return{definePartsStyle:e=>e,defineMultiStyleConfig:t=>({parts:e,...t})}}function qr(e,t){for(let n=t+1;n<e.length;n++)if(null!=e[n])return n;return-1}function Kr(e){const t=e.__breakpoints;return function(e,n,r,o){var i,s;if(!t)return;const a={},l=function(e,t){return Array.isArray(e)?e:tn(e)?t(e):null!=e?[e]:void 0}(r,t.toArrayValue);if(!l)return a;const c=l.length,u=1===c,d=!!e.parts;for(let h=0;h<c;h++){const r=t.details[h],c=t.details[qr(l,h)],f=pr(r.minW,null==c?void 0:c._minW),p=nn(null==(i=e[n])?void 0:i[l[h]],o);p&&(d?null==(s=e.parts)||s.forEach((e=>{ln(a,{[e]:u?p[e]:{[f]:p[e]}})})):d?a[f]=p:u?ln(a,p):a[f]=p)}return a}}function Yr(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}(e,["styleConfig","size","variant","colorScheme"])}var $r=(e=>{const t=new WeakMap;return(n,r,o,i)=>{if("undefined"===typeof n)return e(n,r,o);t.has(n)||t.set(n,new Map);const s=t.get(n);if(s.has(r))return s.get(r);const a=e(n,r,o,i);return s.set(r,a),a}})((function(e,t,n,r){const o="string"===typeof t?t.split("."):[t];for(r=0;r<o.length&&e;r+=1)e=e[o[r]];return void 0===e?n:e}));function Xr(e,t){const n={};return Object.keys(e).forEach((r=>{const o=e[r];t(o,r,e)&&(n[r]=o)})),n}var Gr=e=>Xr(e,(e=>null!==e&&void 0!==e));function Zr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e?e(...n):e}function Qr(e){const{cssVarsRoot:n,theme:r,children:o}=e,i=(0,t.useMemo)((()=>Rr(r)),[r]);return(0,Wt.jsxs)(Rt,{theme:i,children:[(0,Wt.jsx)(Jr,{root:n}),o]})}function Jr(e){let{root:t=":host, :root"}=e;const n=[t,"[data-theme]"].join(",");return(0,Wt.jsx)(Lt,{styles:e=>({[n]:e.__cssVars})})}var[eo,to]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{strict:n=!0,errorMessage:r="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:o}=e,i=(0,t.createContext)(void 0);return i.displayName=o,[i.Provider,function e(){var o;const s=(0,t.useContext)(i);if(!s&&n){const t=new Error(r);throw t.name="ContextError",null==(o=Error.captureStackTrace)||o.call(Error,t,e),t}return s},i]}({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function no(){const{colorMode:e}=Qt();return(0,Wt.jsx)(Lt,{styles:t=>{const n=Zr($r(t,"styles.global"),{theme:t,colorMode:e});if(!n)return;return Hr(n)(t)}})}var ro={light:"chakra-ui-light",dark:"chakra-ui-dark"};var oo="chakra-ui-color-mode";var io,so=(io=oo,{ssr:!1,type:"localStorage",get(e){if(!(null==globalThis?void 0:globalThis.document))return e;let t;try{t=localStorage.getItem(io)||e}catch(XG){}return t||e},set(e){try{localStorage.setItem(io,e)}catch(XG){}}});function ao(e,t){const n=e.match(new RegExp("(^| )".concat(t,"=([^;]+)")));return null==n?void 0:n[2]}function lo(e,t){return{ssr:!!t,type:"cookie",get:n=>t?ao(t,e):(null==globalThis?void 0:globalThis.document)&&ao(document.cookie,e)||n,set(t){document.cookie="".concat(e,"=").concat(t,"; max-age=31536000; path=/")}}}lo(oo);var co=Boolean(null==globalThis?void 0:globalThis.document)?t.useLayoutEffect:t.useEffect,uo=()=>{};function ho(e,t){return"cookie"===e.type&&e.ssr?e.get(t):t}function fo(e){const{value:n,children:r,options:{useSystemColorMode:o,initialColorMode:i,disableTransitionOnChange:s}={},colorModeManager:a=so}=e,l="dark"===i?"dark":"light",[c,u]=(0,t.useState)((()=>ho(a,l))),[d,h]=(0,t.useState)((()=>ho(a))),{getSystemTheme:f,setClassName:p,setDataset:m,addListener:g}=(0,t.useMemo)((()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{preventTransition:t=!0}=e,n={setDataset:e=>{const r=t?n.preventTransition():void 0;document.documentElement.dataset.theme=e,document.documentElement.style.colorScheme=e,null==r||r()},setClassName(e){document.body.classList.add(e?ro.dark:ro.light),document.body.classList.remove(e?ro.light:ro.dark)},query:()=>window.matchMedia("(prefers-color-scheme: dark)"),getSystemTheme(e){var t;return(null!=(t=n.query().matches)?t:"dark"===e)?"dark":"light"},addListener(e){const t=n.query(),r=t=>{e(t.matches?"dark":"light")};return"function"===typeof t.addListener?t.addListener(r):t.addEventListener("change",r),()=>{"function"===typeof t.removeListener?t.removeListener(r):t.removeEventListener("change",r)}},preventTransition(){const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),requestAnimationFrame((()=>{requestAnimationFrame((()=>{document.head.removeChild(e)}))}))}}};return n}({preventTransition:s})),[s]),v="system"!==i||c?c:d,y=(0,t.useCallback)((e=>{const t="system"===e?f():e;u(t),p("dark"===t),m(t),a.set(t)}),[a,f,p,m]);co((()=>{"system"===i&&h(f())}),[]),(0,t.useEffect)((()=>{const e=a.get();y(e||("system"!==i?l:"system"))}),[a,l,i,y]);const b=(0,t.useCallback)((()=>{y("dark"===v?"light":"dark")}),[v,y]);(0,t.useEffect)((()=>{if(o)return g(y)}),[o,g,y]);const w=(0,t.useMemo)((()=>({colorMode:null!=n?n:v,toggleColorMode:n?uo:b,setColorMode:n?uo:y,forced:void 0!==n})),[v,b,y,n]);return(0,Wt.jsx)(Zt.Provider,{value:w,children:r})}fo.displayName="ColorModeProvider";var po=(0,t.createContext)({getDocument:()=>document,getWindow:()=>window});function mo(e){const{children:n,environment:r,disabled:o}=e,i=(0,t.useRef)(null),s=(0,t.useMemo)((()=>r||{getDocument:()=>{var e,t;return null!=(t=null==(e=i.current)?void 0:e.ownerDocument)?t:document},getWindow:()=>{var e,t;return null!=(t=null==(e=i.current)?void 0:e.ownerDocument.defaultView)?t:window}}),[r]),a=!o||!r;return(0,Wt.jsxs)(po.Provider,{value:s,children:[n,a&&(0,Wt.jsx)("span",{id:"__chakra_env",hidden:!0,ref:i})]})}po.displayName="EnvironmentContext",mo.displayName="EnvironmentProvider";var go=e=>{const{children:t,colorModeManager:n,portalZIndex:r,resetScope:o,resetCSS:i=!0,theme:s={},environment:a,cssVarsRoot:l,disableEnvironment:c,disableGlobalStyle:u}=e,d=(0,Wt.jsx)(mo,{environment:a,disabled:c,children:t});return(0,Wt.jsx)(Qr,{theme:s,cssVarsRoot:l,children:(0,Wt.jsxs)(fo,{colorModeManager:n,options:s.config,children:[i?(0,Wt.jsx)(Kt,{scope:o}):(0,Wt.jsx)(qt,{}),!u&&(0,Wt.jsx)(no,{}),r?(0,Wt.jsx)(Gt,{zIndex:r,children:d}):d]})})},vo={property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}},yo={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},bo={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},wo={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},xo={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},So={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},ko={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},Co={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},_o={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},Eo={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},Ao={...Eo,max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch",container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}},Mo={breakpoints:wo,zIndices:yo,radii:So,blur:Co,colors:xo,..._o,sizes:Ao,shadows:ko,space:Eo,borders:bo,transition:vo},{defineMultiStyleConfig:To,definePartsStyle:Po}=Ur(["stepper","step","title","description","indicator","separator","icon","number"]),Oo=ar("stepper-indicator-size"),No=ar("stepper-icon-size"),Do=ar("stepper-title-font-size"),Ro=ar("stepper-description-font-size"),Io=ar("stepper-accent-color"),zo=To({baseStyle:Po((e=>{let{colorScheme:t}=e;return{stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Io.variable]:"colors.".concat(t,".500"),_dark:{[Io.variable]:"colors.".concat(t,".200")}},title:{fontSize:Do.reference,fontWeight:"medium"},description:{fontSize:Ro.reference,color:"chakra-subtle-text"},number:{fontSize:Do.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:No.reference,height:No.reference},indicator:{flexShrink:0,borderRadius:"full",width:Oo.reference,height:Oo.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Io.reference},"&[data-status=complete]":{bg:Io.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Io.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:"calc(100% - ".concat(Oo.reference," - 8px)"),top:"calc(".concat(Oo.reference," + 4px)"),insetStart:"calc(".concat(Oo.reference," / 2 - 1px)")}}}})),sizes:{xs:Po({stepper:{[Oo.variable]:"sizes.4",[No.variable]:"sizes.3",[Do.variable]:"fontSizes.xs",[Ro.variable]:"fontSizes.xs"}}),sm:Po({stepper:{[Oo.variable]:"sizes.6",[No.variable]:"sizes.4",[Do.variable]:"fontSizes.sm",[Ro.variable]:"fontSizes.xs"}}),md:Po({stepper:{[Oo.variable]:"sizes.8",[No.variable]:"sizes.5",[Do.variable]:"fontSizes.md",[Ro.variable]:"fontSizes.sm"}}),lg:Po({stepper:{[Oo.variable]:"sizes.10",[No.variable]:"sizes.6",[Do.variable]:"fontSizes.lg",[Ro.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function Lo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;function r(t){const n=(["container","root"].includes(null!=t?t:"")?[e]:[e,t]).filter(Boolean).join("__"),r="chakra-".concat(n);return{className:r,selector:".".concat(r),toString:()=>t}}return{parts:function(){!function(){if(n)throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?");n=!0}();for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];for(const e of i)t[e]=r(e);return Lo(e,t)},toPart:r,extend:function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];for(const e of o)e in t||(t[e]=r(e));return Lo(e,t)},selectors:function(){const e=Object.fromEntries(Object.entries(t).map((e=>{let[t,n]=e;return[t,n.selector]})));return e},classnames:function(){const e=Object.fromEntries(Object.entries(t).map((e=>{let[t,n]=e;return[t,n.className]})));return e},get keys(){return Object.keys(t)},__type:{}}}var Bo=Lo("accordion").parts("root","container","button","panel").extend("icon"),jo=Lo("alert").parts("title","description","container").extend("icon","spinner"),Fo=Lo("avatar").parts("label","badge","container").extend("excessLabel","group"),Vo=Lo("breadcrumb").parts("link","item","container").extend("separator"),Wo=(Lo("button").parts(),Lo("checkbox").parts("control","icon","container").extend("label")),Ho=(Lo("progress").parts("track","filledTrack").extend("label"),Lo("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer")),Uo=Lo("editable").parts("preview","input","textarea"),qo=Lo("form").parts("container","requiredIndicator","helperText"),Ko=Lo("formError").parts("text","icon"),Yo=Lo("input").parts("addon","field","element","group"),$o=Lo("list").parts("container","item","icon"),Xo=Lo("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),Go=Lo("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),Zo=Lo("numberinput").parts("root","field","stepperGroup","stepper"),Qo=(Lo("pininput").parts("field"),Lo("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton")),Jo=Lo("progress").parts("label","filledTrack","track"),ei=Lo("radio").parts("container","control","label"),ti=Lo("select").parts("field","icon"),ni=Lo("slider").parts("container","track","thumb","filledTrack","mark"),ri=Lo("stat").parts("container","label","helpText","number","icon"),oi=Lo("switch").parts("container","track","thumb","label"),ii=Lo("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),si=Lo("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),ai=Lo("tag").parts("container","label","closeButton"),li=Lo("card").parts("container","header","body","footer");Lo("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function ci(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(/\s+/g,t)}(e.toString());return t.includes("\\.")?e:function(e){return!Number.isInteger(parseFloat(e.toString()))}(e)?t.replace(".","\\."):e}function ui(e,t){return"var(".concat(ci(e)).concat(t?", ".concat(t):"",")")}function di(e){return"--".concat(function(e){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",ci(e)].filter(Boolean).join("-")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""))}function hi(e,t){const n=di(e,null==t?void 0:t.prefix);return{variable:n,reference:ui(n,fi(null==t?void 0:t.fallback))}}function fi(e){return"string"===typeof e?e:null==e?void 0:e.reference}function pi(e){return tn(e)&&e.reference?e.reference:String(e)}var mi=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(pi).join(" ".concat(e," ")).replace(/calc/g,"")},gi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(mi("+",...t),")")},vi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(mi("-",...t),")")},yi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(mi("*",...t),")")},bi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(mi("/",...t),")")},wi=e=>{const t=pi(e);return null==t||Number.isNaN(parseFloat(t))?yi(t,-1):String(t).startsWith("-")?String(t).slice(1):"-".concat(t)},xi=Object.assign((e=>({add:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xi(gi(e,...n))},subtract:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xi(vi(e,...n))},multiply:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xi(yi(e,...n))},divide:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xi(bi(e,...n))},negate:()=>xi(wi(e)),toString:()=>e.toString()})),{add:gi,subtract:vi,multiply:yi,divide:bi,negate:wi}),{defineMultiStyleConfig:Si,definePartsStyle:ki}=Ur(oi.keys),Ci=hi("switch-track-width"),_i=hi("switch-track-height"),Ei=hi("switch-track-diff"),Ai=xi.subtract(Ci,_i),Mi=hi("switch-thumb-x"),Ti=hi("switch-bg"),Pi=e=>{const{colorScheme:t}=e;return{borderRadius:"full",p:"0.5",width:[Ci.reference],height:[_i.reference],transitionProperty:"common",transitionDuration:"fast",[Ti.variable]:"colors.gray.300",_dark:{[Ti.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Ti.variable]:"colors.".concat(t,".500"),_dark:{[Ti.variable]:"colors.".concat(t,".200")}},bg:Ti.reference}},Oi={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[_i.reference],height:[_i.reference],_checked:{transform:"translateX(".concat(Mi.reference,")")}},Ni=Si({baseStyle:ki((e=>({container:{[Ei.variable]:Ai,[Mi.variable]:Ei.reference,_rtl:{[Mi.variable]:xi(Ei).negate().toString()}},track:Pi(e),thumb:Oi}))),sizes:{sm:ki({container:{[Ci.variable]:"1.375rem",[_i.variable]:"sizes.3"}}),md:ki({container:{[Ci.variable]:"1.875rem",[_i.variable]:"sizes.4"}}),lg:ki({container:{[Ci.variable]:"2.875rem",[_i.variable]:"sizes.6"}})},defaultProps:{size:"md",colorScheme:"blue"}});function Di(e,t){return n=>"dark"===n.colorMode?t:e}function Ri(e){const{orientation:t,vertical:n,horizontal:r}=e;return t?"vertical"===t?n:r:{}}var{defineMultiStyleConfig:Ii,definePartsStyle:zi}=Ur(ii.keys),Li=zi({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),Bi={"&[data-is-numeric=true]":{textAlign:"end"}},ji=Ii({baseStyle:Li,variants:{simple:zi((e=>{const{colorScheme:t}=e;return{th:{color:Di("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Di("".concat(t,".100"),"".concat(t,".700"))(e),...Bi},td:{borderBottom:"1px",borderColor:Di("".concat(t,".100"),"".concat(t,".700"))(e),...Bi},caption:{color:Di("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),striped:zi((e=>{const{colorScheme:t}=e;return{th:{color:Di("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Di("".concat(t,".100"),"".concat(t,".700"))(e),...Bi},td:{borderBottom:"1px",borderColor:Di("".concat(t,".100"),"".concat(t,".700"))(e),...Bi},caption:{color:Di("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Di("".concat(t,".100"),"".concat(t,".700"))(e)},td:{background:Di("".concat(t,".100"),"".concat(t,".700"))(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),unstyled:{}},sizes:{sm:zi({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:zi({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:zi({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}});function Fi(e,t,n){return Math.min(Math.max(e,n),t)}class Vi extends Error{constructor(e){super('Failed to parse color: "'.concat(e,'"'))}}var Wi=Vi;function Hi(e){if("string"!==typeof e)throw new Wi(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];let t=e.trim();t=Zi.test(e)?function(e){const t=e.toLowerCase().trim(),n=qi[function(e){let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return(t>>>0)%2341}(t)];if(!n)throw new Wi(e);return"#".concat(n)}(e):e;const n=Yi.exec(t);if(n){const e=Array.from(n).slice(1);return[...e.slice(0,3).map((e=>parseInt(Ki(e,2),16))),parseInt(Ki(e[3]||"f",2),16)/255]}const r=$i.exec(t);if(r){const e=Array.from(r).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,16))),parseInt(e[3]||"ff",16)/255]}const o=Xi.exec(t);if(o){const e=Array.from(o).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,10))),parseFloat(e[3]||"1")]}const i=Gi.exec(t);if(i){const[t,n,r,o]=Array.from(i).slice(1).map(parseFloat);if(Fi(0,100,n)!==n)throw new Wi(e);if(Fi(0,100,r)!==r)throw new Wi(e);return[...Ji(t,n,r),Number.isNaN(o)?1:o]}throw new Wi(e)}const Ui=e=>parseInt(e.replace(/_/g,""),36),qi="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce(((e,t)=>{const n=Ui(t.substring(0,3)),r=Ui(t.substring(3)).toString(16);let o="";for(let i=0;i<6-r.length;i++)o+="0";return e[n]="".concat(o).concat(r),e}),{});const Ki=(e,t)=>Array.from(Array(t)).map((()=>e)).join(""),Yi=new RegExp("^#".concat(Ki("([a-f0-9])",3),"([a-f0-9])?$"),"i"),$i=new RegExp("^#".concat(Ki("([a-f0-9]{2})",3),"([a-f0-9]{2})?$"),"i"),Xi=new RegExp("^rgba?\\(\\s*(\\d+)\\s*".concat(Ki(",\\s*(\\d+)\\s*",2),"(?:,\\s*([\\d.]+))?\\s*\\)$"),"i"),Gi=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,Zi=/^[a-z]+$/i,Qi=e=>Math.round(255*e),Ji=(e,t,n)=>{let r=n/100;if(0===t)return[r,r,r].map(Qi);const o=(e%360+360)%360/60,i=(1-Math.abs(2*r-1))*(t/100),s=i*(1-Math.abs(o%2-1));let a=0,l=0,c=0;o>=0&&o<1?(a=i,l=s):o>=1&&o<2?(a=s,l=i):o>=2&&o<3?(l=i,c=s):o>=3&&o<4?(l=s,c=i):o>=4&&o<5?(a=s,c=i):o>=5&&o<6&&(a=i,c=s);const u=r-i/2;return[a+u,l+u,c+u].map(Qi)};function es(e,t,n,r){return"rgba(".concat(Fi(0,255,e).toFixed(),", ").concat(Fi(0,255,t).toFixed(),", ").concat(Fi(0,255,n).toFixed(),", ").concat(parseFloat(Fi(0,1,r).toFixed(3)),")")}function ts(e,t){const[n,r,o,i]=Hi(e);return es(n,r,o,i-t)}var ns=(e,t,n)=>{const r=function(e,t,n,r,o){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:o;return e===o?n:e}(e,"colors.".concat(t),t);try{return function(e){const[t,n,r,o]=Hi(e);let i=e=>{const t=Fi(0,255,e).toString(16);return 1===t.length?"0".concat(t):t};"#".concat(i(t)).concat(i(n)).concat(i(r)).concat(o<1?i(Math.round(255*o)):"")}(r),r}catch{return null!=n?n:"#000000"}},rs=e=>t=>{const n=(e=>{const[t,n,r]=Hi(e);return(299*t+587*n+114*r)/1e3})(ns(t,e));return n<128?"dark":"light"},os=(e,t)=>n=>ts(ns(n,e),1-t);function is(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1rem",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(255, 255, 255, 0.15)";return{backgroundImage:"linear-gradient(\n    45deg,\n    ".concat(t," 25%,\n    transparent 25%,\n    transparent 50%,\n    ").concat(t," 50%,\n    ").concat(t," 75%,\n    transparent 75%,\n    transparent\n  )"),backgroundSize:"".concat(e," ").concat(e)}}function ss(e){const t="#".concat(Math.floor(16777215*Math.random()).toString(16).padEnd(6,"0"));return e&&(n=e,0!==Object.keys(n).length)?e.string&&e.colors?function(e,t){let n=0;if(0===e.length)return t[0];for(let r=0;r<e.length;r+=1)n=e.charCodeAt(r)+((n<<5)-n),n|=0;return n=(n%t.length+t.length)%t.length,t[n]}(e.string,e.colors):e.string&&!e.colors?function(e){let t=0;if(0===e.length)return t.toString();for(let r=0;r<e.length;r+=1)t=e.charCodeAt(r)+((t<<5)-t),t|=0;let n="#";for(let r=0;r<3;r+=1){n+="00".concat((t>>8*r&255).toString(16)).substr(-2)}return n}(e.string):e.colors&&!e.string?function(e){return e[Math.floor(Math.random()*e.length)]}(e.colors):t:t;var n}var as=ar("tabs-color"),ls=ar("tabs-bg"),cs=ar("tabs-border-color"),{defineMultiStyleConfig:us,definePartsStyle:ds}=Ur(si.keys),hs=e=>{const{orientation:t}=e;return{display:"vertical"===t?"flex":"block"}},fs=e=>{const{isFitted:t}=e;return{flex:t?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},ps=e=>{const{align:t="start",orientation:n}=e;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[t],flexDirection:"vertical"===n?"column":"row"}},ms={p:4},gs=ds((e=>({root:hs(e),tab:fs(e),tablist:ps(e),tabpanel:ms}))),vs={sm:ds({tab:{py:1,px:4,fontSize:"sm"}}),md:ds({tab:{fontSize:"md",py:2,px:4}}),lg:ds({tab:{fontSize:"lg",py:3,px:4}})},ys=ds((e=>{const{colorScheme:t,orientation:n}=e,r="vertical"===n,o=r?"borderStart":"borderBottom";return{tablist:{[o]:"2px solid",borderColor:"inherit"},tab:{[o]:"2px solid",borderColor:"transparent",[r?"marginStart":"marginBottom"]:"-2px",_selected:{[as.variable]:"colors.".concat(t,".600"),_dark:{[as.variable]:"colors.".concat(t,".300")},borderColor:"currentColor"},_active:{[ls.variable]:"colors.gray.200",_dark:{[ls.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:as.reference,bg:ls.reference}}})),bs=ds((e=>{const{colorScheme:t}=e;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[cs.variable]:"transparent",_selected:{[as.variable]:"colors.".concat(t,".600"),[cs.variable]:"colors.white",_dark:{[as.variable]:"colors.".concat(t,".300"),[cs.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:cs.reference},color:as.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),ws=ds((e=>{const{colorScheme:t}=e;return{tab:{border:"1px solid",borderColor:"inherit",[ls.variable]:"colors.gray.50",_dark:{[ls.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[ls.variable]:"colors.white",[as.variable]:"colors.".concat(t,".600"),_dark:{[ls.variable]:"colors.gray.800",[as.variable]:"colors.".concat(t,".300")},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:as.reference,bg:ls.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),xs=ds((e=>{const{colorScheme:t,theme:n}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:ns(n,"".concat(t,".700")),bg:ns(n,"".concat(t,".100"))}}}})),Ss=us({baseStyle:gs,sizes:vs,variants:{line:ys,enclosed:bs,"enclosed-colored":ws,"soft-rounded":xs,"solid-rounded":ds((e=>{const{colorScheme:t}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",[as.variable]:"colors.gray.600",_dark:{[as.variable]:"inherit"},_selected:{[as.variable]:"colors.white",[ls.variable]:"colors.".concat(t,".600"),_dark:{[as.variable]:"colors.gray.800",[ls.variable]:"colors.".concat(t,".300")}},color:as.reference,bg:ls.reference}}})),unstyled:ds({})},defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),ks=function(e,t){const n={};for(const r of t)if(Array.isArray(r)){const[t,o]=r;n[t]=ar("".concat(e,"-").concat(t),o)}else n[r]=ar("".concat(e,"-").concat(r));return n}("badge",["bg","color","shadow"]),Cs=e=>{const{colorScheme:t,theme:n}=e,r=os("".concat(t,".500"),.6)(n);return{[ks.bg.variable]:"colors.".concat(t,".500"),[ks.color.variable]:"colors.white",_dark:{[ks.bg.variable]:r,[ks.color.variable]:"colors.whiteAlpha.800"}}},_s=e=>{const{colorScheme:t,theme:n}=e,r=os("".concat(t,".200"),.16)(n);return{[ks.bg.variable]:"colors.".concat(t,".100"),[ks.color.variable]:"colors.".concat(t,".800"),_dark:{[ks.bg.variable]:r,[ks.color.variable]:"colors.".concat(t,".200")}}},Es=e=>{const{colorScheme:t,theme:n}=e,r=os("".concat(t,".200"),.8)(n);return{[ks.color.variable]:"colors.".concat(t,".500"),_dark:{[ks.color.variable]:r},[ks.shadow.variable]:"inset 0 0 0px 1px ".concat(ks.color.reference)}},As={baseStyle:{px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:ks.bg.reference,color:ks.color.reference,boxShadow:ks.shadow.reference},variants:{solid:Cs,subtle:_s,outline:Es},defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:Ms,definePartsStyle:Ts}=Ur(ai.keys),Ps=ar("tag-bg"),Os=ar("tag-color"),Ns=ar("tag-shadow"),Ds=ar("tag-min-height"),Rs=ar("tag-min-width"),Is=ar("tag-font-size"),zs=ar("tag-padding-inline"),Ls=Ts({container:{fontWeight:"medium",lineHeight:1.2,outline:0,[Os.variable]:ks.color.reference,[Ps.variable]:ks.bg.reference,[Ns.variable]:ks.shadow.reference,color:Os.reference,bg:Ps.reference,boxShadow:Ns.reference,borderRadius:"md",minH:Ds.reference,minW:Rs.reference,fontSize:Is.reference,px:zs.reference,_focusVisible:{[Ns.variable]:"shadows.outline"}},label:{lineHeight:1.2,overflow:"visible"},closeButton:{fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}}}),Bs={sm:Ts({container:{[Ds.variable]:"sizes.5",[Rs.variable]:"sizes.5",[Is.variable]:"fontSizes.xs",[zs.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Ts({container:{[Ds.variable]:"sizes.6",[Rs.variable]:"sizes.6",[Is.variable]:"fontSizes.sm",[zs.variable]:"space.2"}}),lg:Ts({container:{[Ds.variable]:"sizes.8",[Rs.variable]:"sizes.8",[Is.variable]:"fontSizes.md",[zs.variable]:"space.3"}})},js={subtle:Ts((e=>{var t;return{container:null==(t=As.variants)?void 0:t.subtle(e)}})),solid:Ts((e=>{var t;return{container:null==(t=As.variants)?void 0:t.solid(e)}})),outline:Ts((e=>{var t;return{container:null==(t=As.variants)?void 0:t.outline(e)}}))},Fs=Ms({variants:js,baseStyle:Ls,sizes:Bs,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:Vs,defineMultiStyleConfig:Ws}=Ur(Yo.keys),Hs=ar("input-height"),Us=ar("input-font-size"),qs=ar("input-padding"),Ks=ar("input-border-radius"),Ys=Vs({addon:{height:Hs.reference,fontSize:Us.reference,px:qs.reference,borderRadius:Ks.reference},field:{width:"100%",height:Hs.reference,fontSize:Us.reference,px:qs.reference,borderRadius:Ks.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),$s={lg:{[Us.variable]:"fontSizes.lg",[qs.variable]:"space.4",[Ks.variable]:"radii.md",[Hs.variable]:"sizes.12"},md:{[Us.variable]:"fontSizes.md",[qs.variable]:"space.4",[Ks.variable]:"radii.md",[Hs.variable]:"sizes.10"},sm:{[Us.variable]:"fontSizes.sm",[qs.variable]:"space.3",[Ks.variable]:"radii.sm",[Hs.variable]:"sizes.8"},xs:{[Us.variable]:"fontSizes.xs",[qs.variable]:"space.2",[Ks.variable]:"radii.sm",[Hs.variable]:"sizes.6"}},Xs={lg:Vs({field:$s.lg,group:$s.lg}),md:Vs({field:$s.md,group:$s.md}),sm:Vs({field:$s.sm,group:$s.sm}),xs:Vs({field:$s.xs,group:$s.xs})};function Gs(e){const{focusBorderColor:t,errorBorderColor:n}=e;return{focusBorderColor:t||Di("blue.500","blue.300")(e),errorBorderColor:n||Di("red.500","red.300")(e)}}var Zs,Qs,Js,ea,ta,na,ra,oa,ia,sa,aa,la=Vs((e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=Gs(e);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Di("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ns(t,r),boxShadow:"0 0 0 1px ".concat(ns(t,r))},_focusVisible:{zIndex:1,borderColor:ns(t,n),boxShadow:"0 0 0 1px ".concat(ns(t,n))}},addon:{border:"1px solid",borderColor:Di("inherit","whiteAlpha.50")(e),bg:Di("gray.100","whiteAlpha.300")(e)}}})),ca=Vs((e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=Gs(e);return{field:{border:"2px solid",borderColor:"transparent",bg:Di("gray.100","whiteAlpha.50")(e),_hover:{bg:Di("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ns(t,r)},_focusVisible:{bg:"transparent",borderColor:ns(t,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:Di("gray.100","whiteAlpha.50")(e)}}})),ua=Vs((e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=Gs(e);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ns(t,r),boxShadow:"0px 1px 0px 0px ".concat(ns(t,r))},_focusVisible:{borderColor:ns(t,n),boxShadow:"0px 1px 0px 0px ".concat(ns(t,n))}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}})),da=Ws({baseStyle:Ys,sizes:Xs,variants:{outline:la,filled:ca,flushed:ua,unstyled:Vs({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}})},defaultProps:{size:"md",variant:"outline"}}),ha={...null==(Zs=da.baseStyle)?void 0:Zs.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},fa={outline:e=>{var t,n;return null!=(n=null==(t=da.variants)?void 0:t.outline(e).field)?n:{}},flushed:e=>{var t,n;return null!=(n=null==(t=da.variants)?void 0:t.flushed(e).field)?n:{}},filled:e=>{var t,n;return null!=(n=null==(t=da.variants)?void 0:t.filled(e).field)?n:{}},unstyled:null!=(Js=null==(Qs=da.variants)?void 0:Qs.unstyled.field)?Js:{}},pa={baseStyle:ha,sizes:{xs:null!=(ta=null==(ea=da.sizes)?void 0:ea.xs.field)?ta:{},sm:null!=(ra=null==(na=da.sizes)?void 0:na.sm.field)?ra:{},md:null!=(ia=null==(oa=da.sizes)?void 0:oa.md.field)?ia:{},lg:null!=(aa=null==(sa=da.sizes)?void 0:sa.lg.field)?aa:{}},variants:fa,defaultProps:{size:"md",variant:"outline"}},ma=hi("tooltip-bg"),ga=hi("tooltip-fg"),va=hi("popper-arrow-bg"),ya={baseStyle:{bg:ma.reference,color:ga.reference,[ma.variable]:"colors.gray.700",[ga.variable]:"colors.whiteAlpha.900",_dark:{[ma.variable]:"colors.gray.300",[ga.variable]:"colors.gray.900"},[va.variable]:ma.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"}},{defineMultiStyleConfig:ba,definePartsStyle:wa}=Ur(Jo.keys),xa=e=>{const{colorScheme:t,theme:n,isIndeterminate:r,hasStripe:o}=e,i=Di(is(),is("1rem","rgba(0,0,0,0.1)"))(e),s=Di("".concat(t,".500"),"".concat(t,".200"))(e),a="linear-gradient(\n    to right,\n    transparent 0%,\n    ".concat(ns(n,s)," 50%,\n    transparent 100%\n  )");return{...!r&&o&&i,...r?{bgImage:a}:{bgColor:s}}},Sa={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},ka=e=>({bg:Di("gray.100","whiteAlpha.300")(e)}),Ca=e=>({transitionProperty:"common",transitionDuration:"slow",...xa(e)}),_a=wa((e=>({label:Sa,filledTrack:Ca(e),track:ka(e)}))),Ea=ba({sizes:{xs:wa({track:{h:"1"}}),sm:wa({track:{h:"2"}}),md:wa({track:{h:"3"}}),lg:wa({track:{h:"4"}})},baseStyle:_a,defaultProps:{size:"md",colorScheme:"blue"}});function Aa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e?e(...n):e}var Ma,Ta,Pa,Oa,Na,Da,Ra,Ia,za,{definePartsStyle:La,defineMultiStyleConfig:Ba}=Ur(Wo.keys),ja=ar("checkbox-size"),Fa=e=>{const{colorScheme:t}=e;return{w:ja.reference,h:ja.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Di("".concat(t,".500"),"".concat(t,".200"))(e),borderColor:Di("".concat(t,".500"),"".concat(t,".200"))(e),color:Di("white","gray.900")(e),_hover:{bg:Di("".concat(t,".600"),"".concat(t,".300"))(e),borderColor:Di("".concat(t,".600"),"".concat(t,".300"))(e)},_disabled:{borderColor:Di("gray.200","transparent")(e),bg:Di("gray.200","whiteAlpha.300")(e),color:Di("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:Di("".concat(t,".500"),"".concat(t,".200"))(e),borderColor:Di("".concat(t,".500"),"".concat(t,".200"))(e),color:Di("white","gray.900")(e)},_disabled:{bg:Di("gray.100","whiteAlpha.100")(e),borderColor:Di("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Di("red.500","red.300")(e)}}},Va={_disabled:{cursor:"not-allowed"}},Wa={userSelect:"none",_disabled:{opacity:.4}},Ha={transitionProperty:"transform",transitionDuration:"normal"},Ua=Ba({baseStyle:La((e=>({icon:Ha,container:Va,control:Aa(Fa,e),label:Wa}))),sizes:{sm:La({control:{[ja.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:La({control:{[ja.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:La({control:{[ja.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:qa,definePartsStyle:Ka}=Ur(ei.keys),Ya=e=>{var t;const n=null==(t=Aa(Ua.baseStyle,e))?void 0:t.control;return{...n,borderRadius:"full",_checked:{...null==n?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},$a=Ka((e=>{var t,n,r,o;return{label:null==(n=(t=Ua).baseStyle)?void 0:n.call(t,e).label,container:null==(o=(r=Ua).baseStyle)?void 0:o.call(r,e).container,control:Ya(e)}})),Xa=qa({baseStyle:$a,sizes:{md:Ka({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:Ka({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:Ka({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Ga,definePartsStyle:Za}=Ur(ti.keys),Qa=ar("select-bg"),Ja={paddingInlineEnd:"8"},el=Ga({baseStyle:Za({field:{...null==(Ma=da.baseStyle)?void 0:Ma.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Qa.reference,[Qa.variable]:"colors.white",_dark:{[Qa.variable]:"colors.gray.700"},"> option, > optgroup":{bg:Qa.reference}},icon:{width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}}}),sizes:{lg:{...null==(Ta=da.sizes)?void 0:Ta.lg,field:{...null==(Pa=da.sizes)?void 0:Pa.lg.field,...Ja}},md:{...null==(Oa=da.sizes)?void 0:Oa.md,field:{...null==(Na=da.sizes)?void 0:Na.md.field,...Ja}},sm:{...null==(Da=da.sizes)?void 0:Da.sm,field:{...null==(Ra=da.sizes)?void 0:Ra.sm.field,...Ja}},xs:{...null==(Ia=da.sizes)?void 0:Ia.xs,field:{...null==(za=da.sizes)?void 0:za.xs.field,...Ja},icon:{insetEnd:"1"}}},variants:da.variants,defaultProps:da.defaultProps}),tl=ar("skeleton-start-color"),nl=ar("skeleton-end-color"),rl={baseStyle:{[tl.variable]:"colors.gray.100",[nl.variable]:"colors.gray.400",_dark:{[tl.variable]:"colors.gray.800",[nl.variable]:"colors.gray.600"},background:tl.reference,borderColor:nl.reference,opacity:.7,borderRadius:"sm"}},ol=ar("skip-link-bg"),il={baseStyle:{borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[ol.variable]:"colors.white",_dark:{[ol.variable]:"colors.gray.700"},bg:ol.reference}}},{defineMultiStyleConfig:sl,definePartsStyle:al}=Ur(ni.keys),ll=ar("slider-thumb-size"),cl=ar("slider-track-size"),ul=ar("slider-bg"),dl=e=>{const{orientation:t}=e;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Ri({orientation:t,vertical:{h:"100%"},horizontal:{w:"100%"}})}},hl=e=>({...Ri({orientation:e.orientation,horizontal:{h:cl.reference},vertical:{w:cl.reference}}),overflow:"hidden",borderRadius:"sm",[ul.variable]:"colors.gray.200",_dark:{[ul.variable]:"colors.whiteAlpha.200"},_disabled:{[ul.variable]:"colors.gray.300",_dark:{[ul.variable]:"colors.whiteAlpha.300"}},bg:ul.reference}),fl=e=>{const{orientation:t}=e;return{...Ri({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:ll.reference,h:ll.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},pl=e=>{const{colorScheme:t}=e;return{width:"inherit",height:"inherit",[ul.variable]:"colors.".concat(t,".500"),_dark:{[ul.variable]:"colors.".concat(t,".200")},bg:ul.reference}},ml=sl({baseStyle:al((e=>({container:dl(e),track:hl(e),thumb:fl(e),filledTrack:pl(e)}))),sizes:{lg:al({container:{[ll.variable]:"sizes.4",[cl.variable]:"sizes.1"}}),md:al({container:{[ll.variable]:"sizes.3.5",[cl.variable]:"sizes.1"}}),sm:al({container:{[ll.variable]:"sizes.2.5",[cl.variable]:"sizes.0.5"}})},defaultProps:{size:"md",colorScheme:"blue"}}),gl=hi("spinner-size"),vl={baseStyle:{width:[gl.reference],height:[gl.reference]},sizes:{xs:{[gl.variable]:"sizes.3"},sm:{[gl.variable]:"sizes.4"},md:{[gl.variable]:"sizes.6"},lg:{[gl.variable]:"sizes.8"},xl:{[gl.variable]:"sizes.12"}},defaultProps:{size:"md"}},{defineMultiStyleConfig:yl,definePartsStyle:bl}=Ur(ri.keys),wl=yl({baseStyle:bl({container:{},label:{fontWeight:"medium"},helpText:{opacity:.8,marginBottom:"2"},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"}}),sizes:{md:bl({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},defaultProps:{size:"md"}}),xl=ar("kbd-bg"),Sl={baseStyle:{[xl.variable]:"colors.gray.100",_dark:{[xl.variable]:"colors.whiteAlpha.100"},bg:xl.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}},kl={baseStyle:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}}},{defineMultiStyleConfig:Cl,definePartsStyle:_l}=Ur($o.keys),El=Cl({baseStyle:_l({icon:{marginEnd:"2",display:"inline",verticalAlign:"text-bottom"}})}),{defineMultiStyleConfig:Al,definePartsStyle:Ml}=Ur(Xo.keys),Tl=ar("menu-bg"),Pl=ar("menu-shadow"),Ol=Al({baseStyle:Ml({button:{transitionProperty:"common",transitionDuration:"normal"},list:{[Tl.variable]:"#fff",[Pl.variable]:"shadows.sm",_dark:{[Tl.variable]:"colors.gray.700",[Pl.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:Tl.reference,boxShadow:Pl.reference},item:{py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Tl.variable]:"colors.gray.100",_dark:{[Tl.variable]:"colors.whiteAlpha.100"}},_active:{[Tl.variable]:"colors.gray.200",_dark:{[Tl.variable]:"colors.whiteAlpha.200"}},_expanded:{[Tl.variable]:"colors.gray.100",_dark:{[Tl.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Tl.reference},groupTitle:{mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},icon:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},command:{opacity:.6},divider:{border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6}})}),{defineMultiStyleConfig:Nl,definePartsStyle:Dl}=Ur(Go.keys),Rl=ar("modal-bg"),Il=ar("modal-shadow"),zl={bg:"blackAlpha.600",zIndex:"modal"},Ll=e=>{const{isCentered:t,scrollBehavior:n}=e;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:t?"center":"flex-start",overflow:"inside"===n?"hidden":"auto",overscrollBehaviorY:"none"}},Bl=e=>{const{isCentered:t,scrollBehavior:n}=e;return{borderRadius:"md",color:"inherit",my:t?"auto":"16",mx:t?"auto":void 0,zIndex:"modal",maxH:"inside"===n?"calc(100% - 7.5rem)":void 0,[Rl.variable]:"colors.white",[Il.variable]:"shadows.lg",_dark:{[Rl.variable]:"colors.gray.700",[Il.variable]:"shadows.dark-lg"},bg:Rl.reference,boxShadow:Il.reference}},jl={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Fl={position:"absolute",top:"2",insetEnd:"3"},Vl=e=>{const{scrollBehavior:t}=e;return{px:"6",py:"2",flex:"1",overflow:"inside"===t?"auto":void 0}},Wl={px:"6",py:"4"};function Hl(e){return Dl("full"===e?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}var Ul=Nl({baseStyle:Dl((e=>({overlay:zl,dialogContainer:Aa(Ll,e),dialog:Aa(Bl,e),header:jl,closeButton:Fl,body:Aa(Vl,e),footer:Wl}))),sizes:{xs:Hl("xs"),sm:Hl("sm"),md:Hl("md"),lg:Hl("lg"),xl:Hl("xl"),"2xl":Hl("2xl"),"3xl":Hl("3xl"),"4xl":Hl("4xl"),"5xl":Hl("5xl"),"6xl":Hl("6xl"),full:Hl("full")},defaultProps:{size:"md"}}),{defineMultiStyleConfig:ql,definePartsStyle:Kl}=Ur(Zo.keys),Yl=hi("number-input-stepper-width"),$l=hi("number-input-input-padding"),Xl=xi(Yl).add("0.5rem").toString(),Gl=hi("number-input-bg"),Zl=hi("number-input-color"),Ql=hi("number-input-border-color"),Jl={[Yl.variable]:"sizes.6",[$l.variable]:Xl},ec=e=>{var t,n;return null!=(n=null==(t=Aa(da.baseStyle,e))?void 0:t.field)?n:{}},tc={width:Yl.reference},nc={borderStart:"1px solid",borderStartColor:Ql.reference,color:Zl.reference,bg:Gl.reference,[Zl.variable]:"colors.chakra-body-text",[Ql.variable]:"colors.chakra-border-color",_dark:{[Zl.variable]:"colors.whiteAlpha.800",[Ql.variable]:"colors.whiteAlpha.300"},_active:{[Gl.variable]:"colors.gray.200",_dark:{[Gl.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},rc=Kl((e=>{var t;return{root:Jl,field:null!=(t=Aa(ec,e))?t:{},stepperGroup:tc,stepper:nc}}));function oc(e){var t,n,r;const o=null==(t=da.sizes)?void 0:t[e],i={lg:"md",md:"md",sm:"sm",xs:"sm"},s=null!=(r=null==(n=o.field)?void 0:n.fontSize)?r:"md",a=_o.fontSizes[s];return Kl({field:{...o.field,paddingInlineEnd:$l.reference,verticalAlign:"top"},stepper:{fontSize:xi(a).multiply(.75).toString(),_first:{borderTopEndRadius:i[e]},_last:{borderBottomEndRadius:i[e],mt:"-1px",borderTopWidth:1}}})}var ic,sc,ac,lc=ql({baseStyle:rc,sizes:{xs:oc("xs"),sm:oc("sm"),md:oc("md"),lg:oc("lg")},variants:da.variants,defaultProps:da.defaultProps}),cc={...null==(ic=da.baseStyle)?void 0:ic.field,textAlign:"center"},uc={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},dc={outline:e=>{var t,n,r;return null!=(r=null==(n=Aa(null==(t=da.variants)?void 0:t.outline,e))?void 0:n.field)?r:{}},flushed:e=>{var t,n,r;return null!=(r=null==(n=Aa(null==(t=da.variants)?void 0:t.flushed,e))?void 0:n.field)?r:{}},filled:e=>{var t,n,r;return null!=(r=null==(n=Aa(null==(t=da.variants)?void 0:t.filled,e))?void 0:n.field)?r:{}},unstyled:null!=(ac=null==(sc=da.variants)?void 0:sc.unstyled.field)?ac:{}},hc={baseStyle:cc,sizes:uc,variants:dc,defaultProps:da.defaultProps},{defineMultiStyleConfig:fc,definePartsStyle:pc}=Ur(Qo.keys),mc=hi("popper-bg"),gc=hi("popper-arrow-bg"),vc=hi("popper-arrow-shadow-color"),yc=fc({baseStyle:pc({popper:{zIndex:10},content:{[mc.variable]:"colors.white",bg:mc.reference,[gc.variable]:mc.reference,[vc.variable]:"colors.gray.200",_dark:{[mc.variable]:"colors.gray.700",[vc.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},header:{px:3,py:2,borderBottomWidth:"1px"},body:{px:3,py:2},footer:{px:3,py:2,borderTopWidth:"1px"},closeButton:{position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2}})}),{definePartsStyle:bc,defineMultiStyleConfig:wc}=Ur(Ho.keys),xc=ar("drawer-bg"),Sc=ar("drawer-box-shadow");function kc(e){return bc("full"===e?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}var Cc={bg:"blackAlpha.600",zIndex:"modal"},_c={display:"flex",zIndex:"modal",justifyContent:"center"},Ec=e=>{const{isFullHeight:t}=e;return{...t&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[xc.variable]:"colors.white",[Sc.variable]:"shadows.lg",_dark:{[xc.variable]:"colors.gray.700",[Sc.variable]:"shadows.dark-lg"},bg:xc.reference,boxShadow:Sc.reference}},Ac={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Mc={position:"absolute",top:"2",insetEnd:"3"},Tc={px:"6",py:"2",flex:"1",overflow:"auto"},Pc={px:"6",py:"4"},Oc=wc({baseStyle:bc((e=>({overlay:Cc,dialogContainer:_c,dialog:Aa(Ec,e),header:Ac,closeButton:Mc,body:Tc,footer:Pc}))),sizes:{xs:kc("xs"),sm:kc("md"),md:kc("lg"),lg:kc("2xl"),xl:kc("4xl"),full:kc("full")},defaultProps:{size:"xs"}}),{definePartsStyle:Nc,defineMultiStyleConfig:Dc}=Ur(Uo.keys),Rc=Dc({baseStyle:Nc({preview:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},input:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},textarea:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}}})}),{definePartsStyle:Ic,defineMultiStyleConfig:zc}=Ur(qo.keys),Lc=ar("form-control-color"),Bc=zc({baseStyle:Ic({container:{width:"100%",position:"relative"},requiredIndicator:{marginStart:"1",[Lc.variable]:"colors.red.500",_dark:{[Lc.variable]:"colors.red.300"},color:Lc.reference},helperText:{mt:"2",[Lc.variable]:"colors.gray.600",_dark:{[Lc.variable]:"colors.whiteAlpha.600"},color:Lc.reference,lineHeight:"normal",fontSize:"sm"}})}),{definePartsStyle:jc,defineMultiStyleConfig:Fc}=Ur(Ko.keys),Vc=ar("form-error-color"),Wc=Fc({baseStyle:jc({text:{[Vc.variable]:"colors.red.500",_dark:{[Vc.variable]:"colors.red.300"},color:Vc.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},icon:{marginEnd:"0.5em",[Vc.variable]:"colors.red.500",_dark:{[Vc.variable]:"colors.red.300"},color:Vc.reference}})}),Hc={baseStyle:{fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}}},Uc={baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},defaultProps:{size:"xl"}},{defineMultiStyleConfig:qc,definePartsStyle:Kc}=Ur(Vo.keys),Yc=ar("breadcrumb-link-decor"),$c=qc({baseStyle:Kc({link:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:Yc.reference,[Yc.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[Yc.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}}})}),Xc=e=>{const{colorScheme:t,theme:n}=e;if("gray"===t)return{color:Di("gray.800","whiteAlpha.900")(e),_hover:{bg:Di("gray.100","whiteAlpha.200")(e)},_active:{bg:Di("gray.200","whiteAlpha.300")(e)}};const r=os("".concat(t,".200"),.12)(n),o=os("".concat(t,".200"),.24)(n);return{color:Di("".concat(t,".600"),"".concat(t,".200"))(e),bg:"transparent",_hover:{bg:Di("".concat(t,".50"),r)(e)},_active:{bg:Di("".concat(t,".100"),o)(e)}}},Gc={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},Zc=e=>{var t;const{colorScheme:n}=e;if("gray"===n){const t=Di("gray.100","whiteAlpha.200")(e);return{bg:t,color:Di("gray.800","whiteAlpha.900")(e),_hover:{bg:Di("gray.200","whiteAlpha.300")(e),_disabled:{bg:t}},_active:{bg:Di("gray.300","whiteAlpha.400")(e)}}}const{bg:r="".concat(n,".500"),color:o="white",hoverBg:i="".concat(n,".600"),activeBg:s="".concat(n,".700")}=null!=(t=Gc[n])?t:{},a=Di(r,"".concat(n,".200"))(e);return{bg:a,color:Di(o,"gray.800")(e),_hover:{bg:Di(i,"".concat(n,".300"))(e),_disabled:{bg:a}},_active:{bg:Di(s,"".concat(n,".400"))(e)}}},Qc={baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:{ghost:Xc,outline:e=>{const{colorScheme:t}=e,n=Di("gray.200","whiteAlpha.300")(e);return{border:"1px solid",borderColor:"gray"===t?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Aa(Xc,e)}},solid:Zc,link:e=>{const{colorScheme:t}=e;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Di("".concat(t,".500"),"".concat(t,".200"))(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Di("".concat(t,".700"),"".concat(t,".500"))(e)}}},unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"}},sizes:{lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Jc,defineMultiStyleConfig:eu}=Ur(li.keys),tu=ar("card-bg"),nu=ar("card-padding"),ru=ar("card-shadow"),ou=ar("card-radius"),iu=ar("card-border-width","0"),su=ar("card-border-color"),au=Jc({container:{[tu.variable]:"colors.chakra-body-bg",backgroundColor:tu.reference,boxShadow:ru.reference,borderRadius:ou.reference,color:"chakra-body-text",borderWidth:iu.reference,borderColor:su.reference},body:{padding:nu.reference,flex:"1 1 0%"},header:{padding:nu.reference},footer:{padding:nu.reference}}),lu={sm:Jc({container:{[ou.variable]:"radii.base",[nu.variable]:"space.3"}}),md:Jc({container:{[ou.variable]:"radii.md",[nu.variable]:"space.5"}}),lg:Jc({container:{[ou.variable]:"radii.xl",[nu.variable]:"space.7"}})},cu=eu({baseStyle:au,variants:{elevated:Jc({container:{[ru.variable]:"shadows.base",_dark:{[tu.variable]:"colors.gray.700"}}}),outline:Jc({container:{[iu.variable]:"1px",[su.variable]:"colors.chakra-border-color"}}),filled:Jc({container:{[tu.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[nu.variable]:0},header:{[nu.variable]:0},footer:{[nu.variable]:0}}},sizes:lu,defaultProps:{variant:"elevated",size:"md"}}),uu=hi("close-button-size"),du=hi("close-button-bg"),hu={baseStyle:{w:[uu.reference],h:[uu.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[du.variable]:"colors.blackAlpha.100",_dark:{[du.variable]:"colors.whiteAlpha.100"}},_active:{[du.variable]:"colors.blackAlpha.200",_dark:{[du.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:du.reference},sizes:{lg:{[uu.variable]:"sizes.10",fontSize:"md"},md:{[uu.variable]:"sizes.8",fontSize:"xs"},sm:{[uu.variable]:"sizes.6",fontSize:"2xs"}},defaultProps:{size:"md"}},{variants:fu,defaultProps:pu}=As,mu={baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:ks.bg.reference,color:ks.color.reference,boxShadow:ks.shadow.reference},variants:fu,defaultProps:pu},gu={baseStyle:{w:"100%",mx:"auto",maxW:"prose",px:"4"}},vu={baseStyle:{opacity:.6,borderColor:"inherit"},variants:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"}},defaultProps:{variant:"solid"}},{definePartsStyle:yu,defineMultiStyleConfig:bu}=Ur(Bo.keys),wu=bu({baseStyle:yu({container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},panel:{pt:"2",px:"4",pb:"5"},icon:{fontSize:"1.25em"}})}),{definePartsStyle:xu,defineMultiStyleConfig:Su}=Ur(jo.keys),ku=ar("alert-fg"),Cu=ar("alert-bg");function _u(e){const{theme:t,colorScheme:n}=e,r=os("".concat(n,".200"),.16)(t);return{light:"colors.".concat(n,".100"),dark:r}}var Eu=Su({baseStyle:xu({container:{bg:Cu.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:ku.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:ku.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}}),variants:{subtle:xu((e=>{const{colorScheme:t}=e,n=_u(e);return{container:{[ku.variable]:"colors.".concat(t,".600"),[Cu.variable]:n.light,_dark:{[ku.variable]:"colors.".concat(t,".200"),[Cu.variable]:n.dark}}}})),"left-accent":xu((e=>{const{colorScheme:t}=e,n=_u(e);return{container:{[ku.variable]:"colors.".concat(t,".600"),[Cu.variable]:n.light,_dark:{[ku.variable]:"colors.".concat(t,".200"),[Cu.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:ku.reference}}})),"top-accent":xu((e=>{const{colorScheme:t}=e,n=_u(e);return{container:{[ku.variable]:"colors.".concat(t,".600"),[Cu.variable]:n.light,_dark:{[ku.variable]:"colors.".concat(t,".200"),[Cu.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:ku.reference}}})),solid:xu((e=>{const{colorScheme:t}=e;return{container:{[ku.variable]:"colors.white",[Cu.variable]:"colors.".concat(t,".600"),_dark:{[ku.variable]:"colors.gray.900",[Cu.variable]:"colors.".concat(t,".200")},color:ku.reference}}}))},defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:Au,defineMultiStyleConfig:Mu}=Ur(Fo.keys),Tu=ar("avatar-border-color"),Pu=ar("avatar-bg"),Ou=ar("avatar-font-size"),Nu=ar("avatar-size"),Du={borderRadius:"full",border:"0.2em solid",borderColor:Tu.reference,[Tu.variable]:"white",_dark:{[Tu.variable]:"colors.gray.800"}},Ru={bg:Pu.reference,fontSize:Ou.reference,width:Nu.reference,height:Nu.reference,lineHeight:"1",[Pu.variable]:"colors.gray.200",_dark:{[Pu.variable]:"colors.whiteAlpha.400"}},Iu=e=>{const{name:t,theme:n}=e,r=t?ss({string:t}):"colors.gray.400",o=(e=>t=>"dark"===rs(e)(t))(r)(n);let i="white";return o||(i="gray.800"),{bg:Pu.reference,fontSize:Ou.reference,color:i,borderColor:Tu.reference,verticalAlign:"top",width:Nu.reference,height:Nu.reference,"&:not([data-loaded])":{[Pu.variable]:r},[Tu.variable]:"colors.white",_dark:{[Tu.variable]:"colors.gray.800"}}},zu={fontSize:Ou.reference,lineHeight:"1"};function Lu(e){const t="100%"!==e?Ao[e]:void 0;return Au({container:{[Nu.variable]:null!=t?t:e,[Ou.variable]:"calc(".concat(null!=t?t:e," / 2.5)")},excessLabel:{[Nu.variable]:null!=t?t:e,[Ou.variable]:"calc(".concat(null!=t?t:e," / 2.5)")}})}var Bu={Accordion:wu,Alert:Eu,Avatar:Mu({baseStyle:Au((e=>({badge:Aa(Du,e),excessLabel:Aa(Ru,e),container:Aa(Iu,e),label:zu}))),sizes:{"2xs":Lu(4),xs:Lu(6),sm:Lu(8),md:Lu(12),lg:Lu(16),xl:Lu(24),"2xl":Lu(32),full:Lu("100%")},defaultProps:{size:"md"}}),Badge:As,Breadcrumb:$c,Button:Qc,Checkbox:Ua,CloseButton:hu,Code:mu,Container:gu,Divider:vu,Drawer:Oc,Editable:Rc,Form:Bc,FormError:Wc,FormLabel:Hc,Heading:Uc,Input:da,Kbd:Sl,Link:kl,List:El,Menu:Ol,Modal:Ul,NumberInput:lc,PinInput:hc,Popover:yc,Progress:Ea,Radio:Xa,Select:el,Skeleton:rl,SkipLink:il,Slider:ml,Spinner:vl,Stat:wl,Switch:Ni,Table:ji,Tabs:Ss,Tag:Fs,Textarea:pa,Tooltip:ya,Card:cu,Stepper:zo},ju={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},Fu={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},Vu={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},Wu={semanticTokens:ju,direction:"ltr",...Mo,components:Bu,styles:Fu,config:Vu},Hu={semanticTokens:ju,direction:"ltr",components:{},...Mo,styles:Fu,config:Vu},Uu=(e,t)=>e.find((e=>e.id===t));function qu(e,t){const n=Ku(e,t);return{position:n,index:n?e[n].findIndex((e=>e.id===t)):-1}}function Ku(e,t){for(const[n,r]of Object.entries(e))if(Uu(r,t))return n}function Yu(e){return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:"top"===e||"bottom"===e?"0 auto":void 0,top:e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,bottom:e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,right:e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",left:e.includes("right")?void 0:"env(safe-area-inset-left, 0px)"}}function $u(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=(0,t.useRef)(e);return(0,t.useEffect)((()=>{r.current=e})),(0,t.useCallback)((function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return null==(e=r.current)?void 0:e.call(r,...n)}),n)}function Xu(e,n){const r=(0,t.useRef)(!1),o=(0,t.useRef)(!1);(0,t.useEffect)((()=>{if(r.current&&o.current)return e();o.current=!0}),n),(0,t.useEffect)((()=>(r.current=!0,()=>{r.current=!1})),[])}const Gu=(0,t.createContext)(null);function Zu(){return null===(e=(0,t.useContext)(Gu))||e.isPresent;var e}const Qu=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ju=(0,t.createContext)({}),ed="undefined"!==typeof document,td=ed?t.useLayoutEffect:t.useEffect,nd=(0,t.createContext)({strict:!1}),rd=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),od="data-"+rd("framerAppearId");function id(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function sd(e){return"string"===typeof e||Array.isArray(e)}function ad(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const ld=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cd=["initial",...ld];function ud(e){return ad(e.animate)||cd.some((t=>sd(e[t])))}function dd(e){return Boolean(ud(e)||e.variants)}function hd(e){const{initial:n,animate:r}=function(e,t){if(ud(e)){const{initial:t,animate:n}=e;return{initial:!1===t||sd(t)?t:void 0,animate:sd(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(Ju));return(0,t.useMemo)((()=>({initial:n,animate:r})),[fd(n),fd(r)])}function fd(e){return Array.isArray(e)?e.join(" "):e}const pd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},md={};for(const n in pd)md[n]={isEnabled:e=>pd[n].some((t=>!!e[t]))};const gd=(0,t.createContext)({}),vd=(0,t.createContext)({}),yd=Symbol.for("motionComponentSymbol");function bd(e){let{preloadedFeatures:n,createVisualElement:r,useRender:o,useVisualState:i,Component:s}=e;n&&function(e){for(const t in e)md[t]={...md[t],...e[t]}}(n);const a=(0,t.forwardRef)((function(e,a){let l;const c={...(0,t.useContext)(Qu),...e,layoutId:wd(e)},{isStatic:u}=c,d=hd(e),h=i(e,u);if(!u&&ed){d.visualElement=function(e,n,r,o){const{visualElement:i}=(0,t.useContext)(Ju),s=(0,t.useContext)(nd),a=(0,t.useContext)(Gu),l=(0,t.useContext)(Qu).reducedMotion,c=(0,t.useRef)();o=o||s.renderer,!c.current&&o&&(c.current=o(e,{visualState:n,parent:i,props:r,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));const u=c.current;(0,t.useInsertionEffect)((()=>{u&&u.update(r,a)}));const d=(0,t.useRef)(Boolean(r[od]&&!window.HandoffComplete));return td((()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())})),(0,t.useEffect)((()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))})),u}(s,h,c,r);const e=(0,t.useContext)(vd),o=(0,t.useContext)(nd).strict;d.visualElement&&(l=d.visualElement.loadFeatures(c,o,n,e))}return t.createElement(Ju.Provider,{value:d},l&&d.visualElement?t.createElement(l,{visualElement:d.visualElement,...c}):null,o(s,e,function(e,n,r){return(0,t.useCallback)((t=>{t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):id(r)&&(r.current=t))}),[n])}(h,d.visualElement,a),h,u,d.visualElement))}));return a[yd]=s,a}function wd(e){let{layoutId:n}=e;const r=(0,t.useContext)(gd).id;return r&&void 0!==n?r+"-"+n:n}function xd(e){function t(t){return bd(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const Sd=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kd(e){return"string"===typeof e&&!e.includes("-")&&!!(Sd.indexOf(e)>-1||/[A-Z]/.test(e))}const Cd={};const _d=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ed=new Set(_d);function Ad(e,t){let{layout:n,layoutId:r}=t;return Ed.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Cd[e]||"opacity"===e)}const Md=e=>Boolean(e&&e.getVelocity),Td={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Pd=_d.length;const Od=e=>t=>"string"===typeof t&&t.startsWith(e),Nd=Od("--"),Dd=Od("var(--"),Rd=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Id=(e,t,n)=>Math.min(Math.max(n,e),t),zd={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Ld={...zd,transform:e=>Id(0,1,e)},Bd={...zd,default:1},jd=e=>Math.round(1e5*e)/1e5,Fd=/(-)?([\d]*\.?[\d])+/g,Vd=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Wd=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Hd(e){return"string"===typeof e}const Ud=e=>({test:t=>Hd(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),qd=Ud("deg"),Kd=Ud("%"),Yd=Ud("px"),$d=Ud("vh"),Xd=Ud("vw"),Gd={...Kd,parse:e=>Kd.parse(e)/100,transform:e=>Kd.transform(100*e)},Zd={...zd,transform:Math.round},Qd={borderWidth:Yd,borderTopWidth:Yd,borderRightWidth:Yd,borderBottomWidth:Yd,borderLeftWidth:Yd,borderRadius:Yd,radius:Yd,borderTopLeftRadius:Yd,borderTopRightRadius:Yd,borderBottomRightRadius:Yd,borderBottomLeftRadius:Yd,width:Yd,maxWidth:Yd,height:Yd,maxHeight:Yd,size:Yd,top:Yd,right:Yd,bottom:Yd,left:Yd,padding:Yd,paddingTop:Yd,paddingRight:Yd,paddingBottom:Yd,paddingLeft:Yd,margin:Yd,marginTop:Yd,marginRight:Yd,marginBottom:Yd,marginLeft:Yd,rotate:qd,rotateX:qd,rotateY:qd,rotateZ:qd,scale:Bd,scaleX:Bd,scaleY:Bd,scaleZ:Bd,skew:qd,skewX:qd,skewY:qd,distance:Yd,translateX:Yd,translateY:Yd,translateZ:Yd,x:Yd,y:Yd,z:Yd,perspective:Yd,transformPerspective:Yd,opacity:Ld,originX:Gd,originY:Gd,originZ:Yd,zIndex:Zd,fillOpacity:Ld,strokeOpacity:Ld,numOctaves:Zd};function Jd(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if(Nd(d)){i[d]=e;continue}const n=Qd[d],r=Rd(e,n);if(Ed.has(d)){if(l=!0,s[d]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=r):o[d]=r}if(t.transform||(l||r?o.transform=function(e,t,n,r){let{enableHardwareAcceleration:o=!0,allowTransformNone:i=!0}=t,s="";for(let a=0;a<Pd;a++){const t=_d[a];if(void 0!==e[t]){const n=Td[t]||t;s+="".concat(n,"(").concat(e[t],") ")}}return o&&!e.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(e,n?"":s):i&&n&&(s="none"),s}(e.transform,n,u,r):o.transform&&(o.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;o.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const eh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function th(e,t,n){for(const r in t)Md(t[r])||Ad(r,n)||(e[r]=t[r])}function nh(e,n,r){const o={};return th(o,e.style||{},e),Object.assign(o,function(e,n,r){let{transformTemplate:o}=e;return(0,t.useMemo)((()=>{const e=eh();return Jd(e,n,{enableHardwareAcceleration:!r},o),Object.assign({},e.vars,e.style)}),[n])}(e,n,r)),e.transformValues?e.transformValues(o):o}function rh(e,t,n){const r={},o=nh(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const oh=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ih(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||oh.has(e)}let sh=e=>!ih(e);try{(ah=require("@emotion/is-prop-valid").default)&&(sh=e=>e.startsWith("on")?!ih(e):ah(e))}catch(Zs){}var ah;function lh(e,t,n){return"string"===typeof e?e:Yd.transform(t+n*e)}const ch={offset:"stroke-dashoffset",array:"stroke-dasharray"},uh={offset:"strokeDashoffset",array:"strokeDasharray"};function dh(e,t,n,r,o){let{attrX:i,attrY:s,attrScale:a,originX:l,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:h=0,...f}=t;if(Jd(e,f,n,o),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(void 0!==l||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){const r=lh(t,e.x,e.width),o=lh(n,e.y,e.height);return"".concat(r," ").concat(o)}(g,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==i&&(p.x=i),void 0!==s&&(p.y=s),void 0!==a&&(p.scale=a),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=o?ch:uh;e[i.offset]=Yd.transform(-r);const s=Yd.transform(t),a=Yd.transform(n);e[i.array]="".concat(s," ").concat(a)}(p,u,d,h,!1)}const hh=()=>({...eh(),attrs:{}}),fh=e=>"string"===typeof e&&"svg"===e.toLowerCase();function ph(e,n,r,o){const i=(0,t.useMemo)((()=>{const t=hh();return dh(t,n,{enableHardwareAcceleration:!1},fh(o),e.transformTemplate),{...t.attrs,style:{...t.style}}}),[n]);if(e.style){const t={};th(t,e.style,e),i.style={...t,...i.style}}return i}function mh(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,o,i,s)=>{let{latestValues:a}=i;const l=(kd(n)?ph:rh)(r,a,s,n),c=function(e,t,n){const r={};for(const o in e)"values"===o&&"object"===typeof e.values||(sh(o)||!0===n&&ih(o)||!t&&!ih(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(r,"string"===typeof n,e),u={...c,...l,ref:o},{children:d}=r,h=(0,t.useMemo)((()=>Md(d)?d.get():d),[d]);return(0,t.createElement)(n,{...u,children:h})}}function gh(e,t,n,r){let{style:o,vars:i}=t;Object.assign(e.style,o,r&&r.getProjectionStyles(n));for(const s in i)e.style.setProperty(s,i[s])}const vh=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yh(e,t,n,r){gh(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(vh.has(o)?o:rd(o),t.attrs[o])}function bh(e,t){const{style:n}=e,r={};for(const o in n)(Md(n[o])||t.style&&Md(t.style[o])||Ad(o,e))&&(r[o]=n[o]);return r}function wh(e,t){const n=bh(e,t);for(const r in e)if(Md(e[r])||Md(t[r])){n[-1!==_d.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function xh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,o)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,o)),t}function Sh(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}const kh=e=>Array.isArray(e),Ch=e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue),_h=e=>kh(e)?e[e.length-1]||0:e;function Eh(e){const t=Md(e)?e.get():e;return Ch(t)?t.toValue():t}const Ah=e=>(n,r)=>{const o=(0,t.useContext)(Ju),i=(0,t.useContext)(Gu),s=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:o,createRenderState:i,onMount:s}=e;const a={latestValues:Mh(t,n,r,o),renderState:i()};return s&&(a.mount=e=>s(t,e,a)),a}(e,n,o,i);return r?s():Sh(s)};function Mh(e,t,n,r){const o={},i=r(e,{});for(const h in i)o[h]=Eh(i[h]);let{initial:s,animate:a}=e;const l=ud(e),c=dd(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===s;const d=u?a:s;if(d&&"boolean"!==typeof d&&!ad(d)){(Array.isArray(d)?d:[d]).forEach((t=>{const n=xh(e,t);if(!n)return;const{transitionEnd:r,transition:i,...s}=n;for(const e in s){let t=s[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(o[e]=t)}for(const e in r)o[e]=r[e]}))}return o}const Th=e=>e;class Ph{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const Oh=["prepare","read","update","preRender","render","postRender"];const{schedule:Nh,cancel:Dh,state:Rh,steps:Ih}=function(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=Oh.reduce(((e,t)=>(e[t]=function(e){let t=new Ph,n=new Ph,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:function(e){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&o,a=i?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),a.add(e)&&i&&o&&(r=t.order.length),e},cancel:e=>{n.remove(e),s.delete(e)},process:l=>{if(o)i=!0;else{if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),s.has(r)&&(a.schedule(r),e())}o=!1,i&&(i=!1,a.process(l))}}};return a}((()=>n=!0)),e)),{}),s=e=>i[e].process(o),a=()=>{const i=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(i-o.timestamp,40),1),o.timestamp=i,o.isProcessing=!0,Oh.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},l=Oh.reduce(((t,s)=>{const l=i[s];return t[s]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,o.isProcessing||e(a)),l.schedule(t,i,s)},t}),{});return{schedule:l,cancel:e=>Oh.forEach((t=>i[t].cancel(e))),state:o,steps:i}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Th,!0),zh={useVisualState:Ah({scrapeMotionValuesFromProps:wh,createRenderState:hh,onMount:(e,t,n)=>{let{renderState:r,latestValues:o}=n;Nh.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(XG){r.dimensions={x:0,y:0,width:0,height:0}}})),Nh.render((()=>{dh(r,o,{enableHardwareAcceleration:!1},fh(t.tagName),e.transformTemplate),yh(t,r)}))}})},Lh={useVisualState:Ah({scrapeMotionValuesFromProps:bh,createRenderState:eh})};function Bh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const jh=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Fh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Vh=e=>t=>jh(t)&&e(t,Fh(t));function Wh(e,t,n,r){return Bh(e,t,Vh(n),r)}const Hh=(e,t)=>n=>t(e(n)),Uh=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Hh)};function qh(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Kh=qh("dragHorizontal"),Yh=qh("dragVertical");function $h(e){let t=!1;if("y"===e)t=Yh();else if("x"===e)t=Kh();else{const e=Kh(),n=Yh();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function Xh(){const e=$h(!0);return!e||(e(),!1)}class Gh{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Zh(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return Wh(e.current,n,((n,o)=>{if("touch"===n.pointerType||Xh())return;const i=e.getProps();e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",t),i[r]&&Nh.update((()=>i[r](n,o)))}),{passive:!e.getProps()[r]})}const Qh=(e,t)=>!!t&&(e===t||Qh(e,t.parentElement));function Jh(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Fh(n))}const ef=new WeakMap,tf=new WeakMap,nf=e=>{const t=ef.get(e.target);t&&t(e)},rf=e=>{e.forEach(nf)};function of(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;tf.has(r)||tf.set(r,{});const o=tf.get(r),i=JSON.stringify(n);return o[i]||(o[i]=new IntersectionObserver(rf,{root:t,...n})),o[i]}(t);return ef.set(e,n),r.observe(e),()=>{ef.delete(e),r.unobserve(e)}}const sf={some:0,all:1};const af={inView:{Feature:class extends Gh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:sf[r]};return of(this.node.current,i,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Gh{constructor(){super(...arguments),this.removeStartListeners=Th,this.removeEndListeners=Th,this.removeAccessibleListeners=Th,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=Wh(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:o}=this.node.getProps();Nh.update((()=>{o||Qh(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),o=Wh(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Uh(r,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Bh(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Bh(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&Jh("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&Nh.update((()=>n(e,t)))}))})),Jh("down",((e,t)=>{this.startPress(e,t)}))})),t=Bh(this.node.current,"blur",(()=>{this.isPressing&&Jh("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=Uh(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Nh.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Xh()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Nh.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=Wh(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Bh(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Uh(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Gh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(XG){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uh(Bh(this.node.current,"focus",(()=>this.onFocus())),Bh(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Gh{mount(){this.unmount=Uh(Zh(this.node,!0),Zh(this.node,!1))}unmount(){}}}};function lf(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function cf(e,t,n){const r=e.getProps();return xh(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}let uf=Th,df=Th;const hf=e=>1e3*e,ff=e=>e/1e3,pf=!1,mf=e=>Array.isArray(e)&&"number"===typeof e[0];function gf(e){return Boolean(!e||"string"===typeof e&&yf[e]||mf(e)||Array.isArray(e)&&e.every(gf))}const vf=e=>{let[t,n,r,o]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(o,")")},yf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vf([0,.65,.55,1]),circOut:vf([.55,0,1,.45]),backIn:vf([.31,.01,.66,-.59]),backOut:vf([.33,1.53,.69,.99])};function bf(e){if(e)return mf(e)?vf(e):Array.isArray(e)?e.map(bf):yf[e]}const wf=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,xf=1e-7,Sf=12;function kf(e,t,n,r){if(e===t&&n===r)return Th;const o=t=>function(e,t,n,r,o){let i,s,a=0;do{s=t+(n-t)/2,i=wf(s,r,o)-e,i>0?n=s:t=s}while(Math.abs(i)>xf&&++a<Sf);return s}(t,0,1,e,n);return e=>0===e||1===e?e:wf(o(e),t,r)}const Cf=kf(.42,0,1,1),_f=kf(0,0,.58,1),Ef=kf(.42,0,.58,1),Af=e=>Array.isArray(e)&&"number"!==typeof e[0],Mf=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Tf=e=>t=>1-e(1-t),Pf=e=>1-Math.sin(Math.acos(e)),Of=Tf(Pf),Nf=Mf(Pf),Df=kf(.33,1.53,.69,.99),Rf=Tf(Df),If=Mf(Rf),zf={linear:Th,easeIn:Cf,easeInOut:Ef,easeOut:_f,circIn:Pf,circInOut:Nf,circOut:Of,backIn:Rf,backInOut:If,backOut:Df,anticipate:e=>(e*=2)<1?.5*Rf(e):.5*(2-Math.pow(2,-10*(e-1)))},Lf=e=>{if(Array.isArray(e)){df(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,o]=e;return kf(t,n,r,o)}return"string"===typeof e?(df(void 0!==zf[e],"Invalid easing type '".concat(e,"'")),zf[e]):e},Bf=(e,t)=>n=>Boolean(Hd(n)&&Wd.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),jf=(e,t,n)=>r=>{if(!Hd(r))return r;const[o,i,s,a]=r.match(Fd);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},Ff={...zd,transform:e=>Math.round((e=>Id(0,255,e))(e))},Vf={test:Bf("rgb","red"),parse:jf("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:o=1}=e;return"rgba("+Ff.transform(t)+", "+Ff.transform(n)+", "+Ff.transform(r)+", "+jd(Ld.transform(o))+")"}};const Wf={test:Bf("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:Vf.transform},Hf={test:Bf("hsl","hue"),parse:jf("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:o=1}=e;return"hsla("+Math.round(t)+", "+Kd.transform(jd(n))+", "+Kd.transform(jd(r))+", "+jd(Ld.transform(o))+")"}},Uf={test:e=>Vf.test(e)||Wf.test(e)||Hf.test(e),parse:e=>Vf.test(e)?Vf.parse(e):Hf.test(e)?Hf.parse(e):Wf.parse(e),transform:e=>Hd(e)?e:e.hasOwnProperty("red")?Vf.transform(e):Hf.transform(e)},qf=(e,t,n)=>-n*e+n*t+e;function Kf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const Yf=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},$f=[Wf,Vf,Hf];function Xf(e){const t=(n=e,$f.find((e=>e.test(n))));var n;df(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let r=t.parse(e);return t===Hf&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:o}=e;t/=360,n/=100,r/=100;let i=0,s=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,o=2*r-e;i=Kf(o,e,t+1/3),s=Kf(o,e,t),a=Kf(o,e,t-1/3)}else i=s=a=r;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*a),alpha:o}}(r)),r}const Gf=(e,t)=>{const n=Xf(e),r=Xf(t),o={...n};return e=>(o.red=Yf(n.red,r.red,e),o.green=Yf(n.green,r.green,e),o.blue=Yf(n.blue,r.blue,e),o.alpha=qf(n.alpha,r.alpha,e),Vf.transform(o))};const Zf={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Th},Qf={regex:Vd,countKey:"Colors",token:"${c}",parse:Uf.parse},Jf={regex:Fd,countKey:"Numbers",token:"${n}",parse:zd.parse};function ep(e,t){let{regex:n,countKey:r,token:o,parse:i}=t;const s=e.tokenised.match(n);s&&(e["num"+r]=s.length,e.tokenised=e.tokenised.replace(n,o),e.values.push(...s.map(i)))}function tp(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ep(n,Zf),ep(n,Qf),ep(n,Jf),n}function np(e){return tp(e).values}function rp(e){const{values:t,numColors:n,numVars:r,tokenised:o}=tp(e),i=t.length;return e=>{let t=o;for(let o=0;o<i;o++)t=o<r?t.replace(Zf.token,e[o]):o<r+n?t.replace(Qf.token,Uf.transform(e[o])):t.replace(Jf.token,jd(e[o]));return t}}const op=e=>"number"===typeof e?0:e;const ip={test:function(e){var t,n;return isNaN(e)&&Hd(e)&&((null===(t=e.match(Fd))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Vd))||void 0===n?void 0:n.length)||0)>0},parse:np,createTransformer:rp,getAnimatableNone:function(e){const t=np(e);return rp(e)(t.map(op))}},sp=(e,t)=>n=>"".concat(n>0?t:e);function ap(e,t){return"number"===typeof e?n=>qf(e,t,n):Uf.test(e)?Gf(e,t):e.startsWith("var(")?sp(e,t):up(e,t)}const lp=(e,t)=>{const n=[...e],r=n.length,o=e.map(((e,n)=>ap(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}},cp=(e,t)=>{const n={...e,...t},r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=ap(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}},up=(e,t)=>{const n=ip.createTransformer(t),r=tp(e),o=tp(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Uh(lp(r.values,o.values),n):(uf(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),sp(e,t))},dp=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},hp=(e,t)=>n=>qf(e,t,n);function fp(e,t,n){const r=[],o=n||("number"===typeof(i=e[0])?hp:"string"===typeof i?Uf.test(i)?Gf:up:Array.isArray(i)?lp:"object"===typeof i?cp:hp);var i;const s=e.length-1;for(let a=0;a<s;a++){let n=o(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Th:t;n=Uh(e,n)}r.push(n)}return r}function pp(e,t){let{clamp:n=!0,ease:r,mixer:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(df(i===t.length,"Both input and output ranges must be the same length"),1===i)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=fp(t,r,o),a=s.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=dp(e[n],e[n+1],t);return s[n](r)};return n?t=>l(Id(e[0],e[i-1],t)):l}function mp(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=dp(0,t,r);e.push(qf(n,1,o))}}(t,e.length-1),t}function gp(e){let{duration:t=300,keyframes:n,times:r,ease:o="easeInOut"}=e;const i=Af(o)?o.map(Lf):Lf(o),s={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:mp(n),t),l=pp(a,n,{ease:Array.isArray(i)?i:(c=n,u=i,c.map((()=>u||Ef)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}function vp(e,t){return t?e*(1e3/t):0}const yp=5;function bp(e,t,n){const r=Math.max(t-yp,0);return vp(n-e(r),t-r)}const wp=.001,xp=.01,Sp=10,kp=.05,Cp=1;function _p(e){let t,n,{duration:r=800,bounce:o=.25,velocity:i=0,mass:s=1}=e;uf(r<=hf(Sp),"Spring duration must be 10 seconds or less");let a=1-o;a=Id(kp,Cp,a),r=Id(xp,Sp,ff(r)),a<1?(t=e=>{const t=e*a,n=t*r,o=t-i,s=Ap(e,a),l=Math.exp(-n);return wp-o/s*l},n=e=>{const n=e*a*r,o=n*i+i,s=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Ap(Math.pow(e,2),a);return(-t(e)+wp>0?-1:1)*((o-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-wp,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let o=1;o<Ep;o++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=hf(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*a*Math.sqrt(s*e),duration:r}}}const Ep=12;function Ap(e,t){return e*Math.sqrt(1-t*t)}const Mp=["duration","bounce"],Tp=["stiffness","damping","mass"];function Pp(e,t){return t.some((t=>void 0!==e[t]))}function Op(e){let{keyframes:t,restDelta:n,restSpeed:r,...o}=e;const i=t[0],s=t[t.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Pp(e,Tp)&&Pp(e,Mp)){const n=_p(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...o,velocity:-ff(o.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),g=s-i,v=ff(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?.01:2),n||(n=y?.005:.5),m<1){const e=Ap(v,m);b=t=>{const n=Math.exp(-m*v*t);return s-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>s-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return s-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)a.done=e>=d;else{let o=p;0!==e&&(o=m<1?bp(b,e,t):0);const i=Math.abs(o)<=r,l=Math.abs(s-t)<=n;a.done=i&&l}return a.value=a.done?s:t,a}}}function Np(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===a?g:a(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/o),b=e=>v+y(e),w=e=>{const t=y(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let x,S;const k=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(x=e,S=Op({keyframes:[f.value,p(f.value)],velocity:bp(b,e,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==x||(t=!0,w(e),k(e)),void 0!==x&&e>x?S.next(e-x):(!t&&w(e),f)}}}const Dp=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Nh.update(t,!0),stop:()=>Dh(t),now:()=>Rh.isProcessing?Rh.timestamp:performance.now()}},Rp=2e4;function Ip(e){let t=0;let n=e.next(t);for(;!n.done&&t<Rp;)t+=50,n=e.next(t);return t>=Rp?1/0:t}const zp={decay:Np,inertia:Np,tween:gp,keyframes:gp,spring:Op};function Lp(e){let t,n,{autoplay:r=!0,delay:o=0,driver:i=Dp,keyframes:s,type:a="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:d,onStop:h,onComplete:f,onUpdate:p,...m}=e,g=1,v=!1;const y=()=>{n=new Promise((e=>{t=e}))};let b;y();const w=zp[a]||gp;let x;w!==gp&&"number"!==typeof s[0]&&(x=pp([0,100],s,{clamp:!1}),s=[0,100]);const S=w({...m,keyframes:s});let k;"mirror"===u&&(k=w({...m,keyframes:[...s].reverse(),velocity:-(m.velocity||0)}));let C="idle",_=null,E=null,A=null;null===S.calculatedDuration&&l&&(S.calculatedDuration=Ip(S));const{calculatedDuration:M}=S;let T=1/0,P=1/0;null!==M&&(T=M+c,P=T*(l+1)-c);let O=0;const N=e=>{if(null===E)return;g>0&&(E=Math.min(E,e)),g<0&&(E=Math.min(e-P/g,E)),O=null!==_?_:Math.round(e-E)*g;const t=O-o*(g>=0?1:-1),n=g>=0?t<0:t>P;O=Math.max(t,0),"finished"===C&&null===_&&(O=P);let r=O,i=S;if(l){const e=Math.min(O,P)/T;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/T)):"mirror"===u&&(i=k)),r=Id(0,1,n)*T}const a=n?{done:!1,value:s[0]}:i.next(r);x&&(a.value=x(a.value));let{done:d}=a;n||null===M||(d=g>=0?O>=P:O<=0);const h=null===_&&("finished"===C||"running"===C&&d);return p&&p(a.value),h&&I(),a},D=()=>{b&&b.stop(),b=void 0},R=()=>{C="idle",D(),t(),y(),E=A=null},I=()=>{C="finished",f&&f(),D(),t()},z=()=>{if(v)return;b||(b=i(N));const e=b.now();d&&d(),null!==_?E=e-_:E&&"finished"!==C||(E=e),"finished"===C&&y(),A=E,_=null,C="running",b.start()};r&&z();const L={then:(e,t)=>n.then(e,t),get time(){return ff(O)},set time(e){e=hf(e),O=e,null===_&&b&&0!==g?E=b.now()-e/g:_=e},get duration(){const e=null===S.calculatedDuration?Ip(S):S.calculatedDuration;return ff(e)},get speed(){return g},set speed(e){e!==g&&b&&(g=e,L.time=ff(O))},get state(){return C},play:z,pause:()=>{C="paused",_=O},stop:()=>{v=!0,"idle"!==C&&(C="idle",h&&h(),R())},cancel:()=>{null!==A&&N(A),R()},complete:()=>{C="finished"},sample:e=>(E=0,N(e))};return L}const Bp=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),jp=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Fp(e,t,n){let{onUpdate:r,onComplete:o,...i}=n;if(!(Bp()&&jp.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;let s,a,l=!1,c=!1;const u=()=>{a=new Promise((e=>{s=e}))};u();let{keyframes:d,duration:h=300,ease:f,times:p}=i;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!gf(t.ease))(t,i)){const e=Lp({...i,repeat:0,delay:0});let t={done:!1,value:d[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,d=n,h=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=bf(a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===s?"alternate":"normal"})}(e.owner.current,t,d,{...i,duration:h,ease:f,times:p}),g=()=>{c=!1,m.cancel()},v=()=>{c=!0,Nh.update(g),s(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(d,i)),o&&o(),v())};return{then:(e,t)=>a.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,Th),get time(){return ff(m.currentTime||0)},set time(e){m.currentTime=hf(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return ff(h)},play:()=>{l||(m.play(),Dh(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=Lp({...i,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}v()},complete:()=>{c||m.finish()},cancel:v}}const Vp={type:"spring",stiffness:500,damping:25,restSpeed:10},Wp={type:"keyframes",duration:.8},Hp={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Up=(e,t)=>{let{keyframes:n}=t;return n.length>2?Wp:Ed.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Vp:Hp},qp=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!ip.test(t)&&"0"!==t||t.startsWith("url("))),Kp=new Set(["brightness","contrast","saturate","opacity"]);function Yp(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Fd)||[];if(!r)return e;const o=n.replace(r,"");let i=Kp.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const $p=/([a-z-]*)\(.*?\)/g,Xp={...ip,getAnimatableNone:e=>{const t=e.match($p);return t?t.map(Yp).join(" "):e}},Gp={...Qd,color:Uf,backgroundColor:Uf,outlineColor:Uf,fill:Uf,stroke:Uf,borderColor:Uf,borderTopColor:Uf,borderRightColor:Uf,borderBottomColor:Uf,borderLeftColor:Uf,filter:Xp,WebkitFilter:Xp},Zp=e=>Gp[e];function Qp(e,t){let n=Zp(e);return n!==Xp&&(n=ip),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Jp=e=>/^0[^.\s]+$/.test(e);function em(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Jp(e):void 0}function tm(e,t){return e[t]||e.default||e}const nm=!1,rm=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o=>{const i=tm(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a-=hf(s);const l=function(e,t,n,r){const o=qp(t,n);let i;i=Array.isArray(n)?[...n]:[null,n];const s=void 0!==r.from?r.from:e.get();let a;const l=[];for(let c=0;c<i.length;c++)null===i[c]&&(i[c]=0===c?s:i[c-1]),em(i[c])&&l.push(c),"string"===typeof i[c]&&"none"!==i[c]&&"0"!==i[c]&&(a=i[c]);if(o&&l.length&&a)for(let c=0;c<l.length;c++)i[l[c]]=Qp(t,a);return i}(t,e,n,i),c=l[0],u=l[l.length-1],d=qp(e,c),h=qp(e,u);uf(d===h,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let f={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:e=>{t.set(e),i.onUpdate&&i.onUpdate(e)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:o,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}=e;return!!Object.keys(d).length}(i)||(f={...f,...Up(e,f)}),f.duration&&(f.duration=hf(f.duration)),f.repeatDelay&&(f.repeatDelay=hf(f.repeatDelay)),!d||!h||pf||!1===i.type||nm)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:o}=e;const i=()=>(r&&r(t[t.length-1]),o&&o(),{time:0,speed:1,duration:0,play:Th,pause:Th,stop:Th,then:e=>(e(),Promise.resolve()),cancel:Th,complete:Th});return n?Lp({keyframes:[0,1],duration:0,delay:n,onComplete:i}):i()}(pf?{...f,delay:0}:f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=Fp(t,e,f);if(n)return n}return Lp(f)}};function om(e){return Boolean(Md(e)&&e.add)}const im=e=>/^\-?\d*\.?\d+$/.test(e);function sm(e,t){-1===e.indexOf(t)&&e.push(t)}function am(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class lm{constructor(){this.subscriptions=[]}add(e){return sm(this.subscriptions,e),()=>am(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cm={current:void 0};class um{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:o}=Rh;t.lastUpdated!==o&&(t.timeDelta=r,t.lastUpdated=o,Nh.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>Nh.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new lm);const n=this.events[e].add(t);return"change"===e?()=>{n(),Nh.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return cm.current&&cm.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?vp(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dm(e,t){return new um(e,t)}const hm=e=>t=>t.test(e),fm=[zd,Yd,Kd,qd,Xd,$d,{test:e=>"auto"===e,parse:e=>e}],pm=e=>fm.find(hm(e)),mm=[...fm,Uf,ip];function gm(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,dm(n))}function vm(e,t){const n=cf(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){gm(e,s,_h(i[s]))}}function ym(e,t){if(!t)return;return(t[e]||t.default||t).from}function bm(e,t){let{protectedKeys:n,needsAnimating:r}=e;const o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}function wm(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function xm(e,t){let{delay:n=0,transitionOverride:r,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const c=[],u=o&&e.animationState&&e.animationState.getState()[o];for(const d in a){const t=e.getValue(d),r=a[d];if(!t||void 0===r||u&&bm(u,d))continue;const o={delay:n,elapsed:0,...tm(i||{},d)};if(window.HandoffAppearAnimations){const n=e.getProps()[od];if(n){const e=window.HandoffAppearAnimations(n,d,t,Nh);null!==e&&(o.elapsed=e,o.isHandoff=!0)}}let s=!o.isHandoff&&!wm(t,r);if("spring"===o.type&&(t.getVelocity()||o.velocity)&&(s=!1),t.animation&&(s=!1),s)continue;t.start(rm(d,t,r,e.shouldReduceMotion&&Ed.has(d)?{type:!1}:o));const h=t.animation;om(l)&&(l.add(d),h.then((()=>l.remove(d)))),c.push(h)}return s&&Promise.all(c).then((()=>{s&&vm(e,s)})),c}function Sm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=cf(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(xm(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0;const s=[],a=(e.variantChildren.size-1)*r,l=1===o?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(km).forEach(((e,r)=>{e.notify("AnimationStart",t),s.push(Sm(e,t,{...i,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(s)}(e,t,i+r,s,a,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[e,t]="beforeChildren"===a?[i,s]:[s,i];return e().then((()=>t()))}return Promise.all([i(),s(n.delay)])}function km(e,t){return e.sortNodePosition(t)}const Cm=[...ld].reverse(),_m=ld.length;function Em(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map((t=>Sm(e,t,r)));n=Promise.all(o)}else if("string"===typeof t)n=Sm(e,t,r);else{const o="function"===typeof t?cf(e,t,r.custom):t;n=Promise.all(xm(e,o,r))}return n.then((()=>e.notify("AnimationComplete",t)))}(e,n,r)})))}function Am(e){let t=Em(e);const n={animate:Tm(!0),whileInView:Tm(),whileHover:Tm(),whileTap:Tm(),whileDrag:Tm(),whileFocus:Tm(),exit:Tm()};let r=!0;const o=(t,n)=>{const r=cf(e,n);if(r){const{transition:e,transitionEnd:n,...o}=r;t={...t,...o,...n}}return t};function i(i,s){const a=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<_m;t++){const f=Cm[t],p=n[f],m=void 0!==a[f]?a[f]:l[f],g=sd(m),v=f===s?p.isActive:null;!1===v&&(h=t);let y=m===l[f]&&m!==a[f]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...d},!p.isActive&&null===v||!m&&!p.prevProp||ad(m)||"boolean"===typeof m)continue;let b=Mm(p.prevProp,m)||f===s&&p.isActive&&!y&&g||t>h&&g,w=!1;const x=Array.isArray(m)?m:[m];let S=x.reduce(o,{});!1===v&&(S={});const{prevResolvedValues:k={}}=p,C={...k,...S},_=e=>{b=!0,u.has(e)&&(w=!0,u.delete(e)),p.needsAnimating[e]=!0};for(const e in C){const t=S[e],n=k[e];if(d.hasOwnProperty(e))continue;let r=!1;r=kh(t)&&kh(n)?!lf(t,n):t!==n,r?void 0!==t?_(e):u.add(e):void 0!==t&&u.has(e)?_(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(d={...d,...S}),r&&e.blockInitialAnimation&&(b=!1),!b||y&&!w||c.push(...x.map((e=>({animation:e,options:{type:f,...i}}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:i,setActive:function(t,r,o){var s;if(n[t].isActive===r)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=i(o,t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function Mm(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!lf(t,e)}function Tm(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Pm=0;const Om={animation:{Feature:class extends Gh{constructor(e){super(e),e.animationState||(e.animationState=Am(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ad(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Gh{constructor(){super(...arguments),this.id=Pm++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&o.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Nm=(e,t)=>Math.abs(e-t);class Dm{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=zm(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Nm(e.x,t.x),r=Nm(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:o}=Rh;this.history.push({...r,timestamp:o});const{onStart:i,onMove:s}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Rm(t,this.transformPagePoint),Nh.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=zm("pointercancel"===e.type?this.lastMoveEventInfo:Rm(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!jh(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const i=Rm(Fh(e),this.transformPagePoint),{point:s}=i,{timestamp:a}=Rh;this.history=[{...s,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,zm(i,this.history)),this.removeListeners=Uh(Wh(this.contextWindow,"pointermove",this.handlePointerMove),Wh(this.contextWindow,"pointerup",this.handlePointerUp),Wh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Dh(this.updatePoint)}}function Rm(e,t){return t?{point:t(e.point)}:e}function Im(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zm(e,t){let{point:n}=e;return{point:n,delta:Im(n,Bm(t)),offset:Im(n,Lm(t)),velocity:jm(t,.1)}}function Lm(e){return e[0]}function Bm(e){return e[e.length-1]}function jm(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Bm(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>hf(t)));)n--;if(!r)return{x:0,y:0};const i=ff(o.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Fm(e){return e.max-e.min}function Vm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function Wm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=qf(t.min,t.max,e.origin),e.scale=Fm(n)/Fm(t),(Vm(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=qf(n.min,n.max,e.origin)-e.originPoint,(Vm(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Hm(e,t,n,r){Wm(e.x,t.x,n.x,r?r.originX:void 0),Wm(e.y,t.y,n.y,r?r.originY:void 0)}function Um(e,t,n){e.min=n.min+t.min,e.max=e.min+Fm(t)}function qm(e,t,n){e.min=t.min-n.min,e.max=e.min+Fm(t)}function Km(e,t,n){qm(e.x,t.x,n.x),qm(e.y,t.y,n.y)}function Ym(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function $m(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Xm=.35;function Gm(e,t,n){return{min:Zm(e,t),max:Zm(e,n)}}function Zm(e,t){return"number"===typeof e?e:e[t]||0}const Qm=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),Jm=()=>({x:{min:0,max:0},y:{min:0,max:0}});function eg(e){return[e("x"),e("y")]}function tg(e){let{top:t,left:n,right:r,bottom:o}=e;return{x:{min:n,max:r},y:{min:t,max:o}}}function ng(e){return void 0===e||1===e}function rg(e){let{scale:t,scaleX:n,scaleY:r}=e;return!ng(t)||!ng(n)||!ng(r)}function og(e){return rg(e)||ig(e)||e.z||e.rotate||e.rotateX||e.rotateY}function ig(e){return sg(e.x)||sg(e.y)}function sg(e){return e&&"0%"!==e}function ag(e,t,n){return n+t*(e-n)}function lg(e,t,n,r,o){return void 0!==o&&(e=ag(e,o,r)),ag(e,n,r)+t}function cg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;e.min=lg(e.min,t,n,r,o),e.max=lg(e.max,t,n,r,o)}function ug(e,t){let{x:n,y:r}=t;cg(e.x,n.translate,n.scale,n.originPoint),cg(e.y,r.translate,r.scale,r.originPoint)}function dg(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function hg(e,t){e.min=e.min+t,e.max=e.max+t}function fg(e,t,n){let[r,o,i]=n;const s=void 0!==t[i]?t[i]:.5,a=qf(e.min,e.max,s);cg(e,t[r],t[o],a,t.scale)}const pg=["x","scaleX","originX"],mg=["y","scaleY","originY"];function gg(e,t){fg(e.x,t,pg),fg(e.y,t,mg)}function vg(e,t){return tg(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const yg=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},bg=new WeakMap;class wg{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jm(),this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Dm(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Fh(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:o}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$h(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eg((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Kd.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Fm(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),o&&Nh.update((()=>o(e,t)),!1,!0);const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:i}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>eg((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:yg(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&Nh.update((()=>o(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!xg(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:o}=t;return void 0!==r&&e<r?e=n?qf(r,e,n.min):Math.max(e,r):void 0!==o&&e>o&&(e=n?qf(o,e,n.max):Math.min(e,o)),e}(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,o=this.constraints;t&&id(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:o,right:i}=t;return{x:Ym(e.x,r,i),y:Ym(e.y,n,o)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xm;return!1===e?e=0:!0===e&&(e=Xm),{x:Gm(e,"left","right"),y:Gm(e,"top","bottom")}}(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&eg((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!id(e))return!1;const n=e.current;df(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(e,t,n){const r=vg(e,n),{scroll:o}=t;return o&&(hg(r.x,o.offset.x),hg(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:$m(e.x,t.x),y:$m(e.y,t.y)}}(r.layout.layoutBox,o);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=tg(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=eg((s=>{if(!xg(s,t,this.currentDirection))return;let l=a&&a[s]||{};i&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...o,...l};return this.startAxisValueAnimation(s,d)}));return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(rm(e,n,0,t))}stopAnimation(){eg((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){eg((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){eg((t=>{const{drag:n}=this.getProps();if(!xg(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];o.set(e[t]-qf(n,i,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!id(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};eg((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=Fm(e),o=Fm(t);return o>r?n=dp(t.min,t.max-r,e.min):r>o&&(n=dp(e.min,e.max-o,t.min)),Id(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),eg((t=>{if(!xg(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:i}=this.constraints[t];n.set(qf(o,i,r[t]))}))}addListeners(){if(!this.visualElement.current)return;bg.set(this.visualElement,this);const e=Wh(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();id(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const o=Bh(window,"resize",(()=>this.scalePositionWithinConstraints())),i=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(eg((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{o(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:i=Xm,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:i,dragMomentum:s}}}function xg(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Sg=e=>(t,n)=>{e&&Nh.update((()=>e(t,n)))};const kg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _g={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Yd.test(e))return e;e=parseFloat(e)}const n=Cg(e,t.target.x),r=Cg(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Eg={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const o=e,i=ip.parse(e);if(i.length>5)return o;const s=ip.createTransformer(e),a="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+a]/=l,i[1+a]/=c;const u=qf(l,c,.5);return"number"===typeof i[2+a]&&(i[2+a]/=u),"number"===typeof i[3+a]&&(i[3+a]/=u),s(i)}};class Ag extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;var i;i=Tg,Object.assign(Cd,i),o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",(()=>{this.safeToRemove()})),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),kg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,i=n.projection;return i?(i.isPresent=o,r||e.layoutDependency!==t||void 0===t?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||Nh.postRender((()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Mg(e){const[n,r]=function(){const e=(0,t.useContext)(Gu);if(null===e)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,i=(0,t.useId)();return(0,t.useEffect)((()=>o(i)),[]),!n&&r?[!1,()=>r&&r(i)]:[!0]}(),o=(0,t.useContext)(gd);return t.createElement(Ag,{...e,layoutGroup:o,switchLayoutGroup:(0,t.useContext)(vd),isPresent:n,safeToRemove:r})}const Tg={borderRadius:{..._g,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_g,borderTopRightRadius:_g,borderBottomLeftRadius:_g,borderBottomRightRadius:_g,boxShadow:Eg},Pg=["TopLeft","TopRight","BottomLeft","BottomRight"],Og=Pg.length,Ng=e=>"string"===typeof e?parseFloat(e):e,Dg=e=>"number"===typeof e||Yd.test(e);function Rg(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Ig=Lg(0,.5,Of),zg=Lg(.5,.95,Th);function Lg(e,t,n){return r=>r<e?0:r>t?1:n(dp(e,t,r))}function Bg(e,t){e.min=t.min,e.max=t.max}function jg(e,t){Bg(e.x,t.x),Bg(e.y,t.y)}function Fg(e,t,n,r,o){return e=ag(e-=t,1/n,r),void 0!==o&&(e=ag(e,1/o,r)),e}function Vg(e,t,n,r,o){let[i,s,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Kd.test(t)&&(t=parseFloat(t),t=qf(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let a=qf(i.min,i.max,r);e===i&&(a-=t),e.min=Fg(e.min,t,n,a,o),e.max=Fg(e.max,t,n,a,o)}(e,t[i],t[s],t[a],t.scale,r,o)}const Wg=["x","scaleX","originX"],Hg=["y","scaleY","originY"];function Ug(e,t,n,r){Vg(e.x,t,Wg,n?n.x:void 0,r?r.x:void 0),Vg(e.y,t,Hg,n?n.y:void 0,r?r.y:void 0)}function qg(e){return 0===e.translate&&1===e.scale}function Kg(e){return qg(e.x)&&qg(e.y)}function Yg(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function $g(e){return Fm(e.x)/Fm(e.y)}class Xg{constructor(){this.members=[]}add(e){sm(this.members,e),e.scheduleRender()}remove(e){if(am(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Gg(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r="translate3d(".concat(o,"px, ").concat(i,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:o}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),o&&(r+="rotateY(".concat(o,"deg) "))}const s=e.x.scale*t.x,a=e.y.scale*t.y;return 1===s&&1===a||(r+="scale(".concat(s,", ").concat(a,")")),r||"none"}const Zg=(e,t)=>e.depth-t.depth;class Qg{constructor(){this.children=[],this.isDirty=!1}add(e){sm(this.children,e),this.isDirty=!0}remove(e){am(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Zg),this.isDirty=!1,this.children.forEach(e)}}const Jg=["","X","Y","Z"],ev={visibility:"hidden"};let tv=0;const nv={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function rv(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:o,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=tv++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,nv.totalNodes=nv.resolvedTargetDeltas=nv.recalculatedProjection=0,this.nodes.forEach(sv),this.nodes.forEach(fv),this.nodes.forEach(pv),this.nodes.forEach(av),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(nv)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Qg)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new lm),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:o,layout:i,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||o)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=o=>{let{timestamp:i}=o;const s=i-n;s>=t&&(Dh(r),e(s-t))};return Nh.read(r,!0),()=>Dh(r)}(r,250),kg.hasAnimatedSinceResize&&(kg.hasAnimatedSinceResize=!1,this.nodes.forEach(hv))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&s&&(o||i)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:o}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||s.getDefaultTransition()||wv,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=s.getProps(),c=!this.targetLayout||!Yg(this.targetLayout,o)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...tm(i,"layout"),onPlay:a,onComplete:l};(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||hv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=o}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Dh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mv),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const e=this.path[o];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(cv);this.isUpdating||this.nodes.forEach(uv),this.isUpdating=!1,this.nodes.forEach(dv),this.nodes.forEach(ov),this.nodes.forEach(iv),this.clearAllSnapshots();const e=performance.now();Rh.delta=Id(0,1e3/60,e-Rh.timestamp),Rh.timestamp=e,Rh.isProcessing=!0,Ih.update.process(Rh),Ih.preRender.process(Rh),Ih.render.process(Rh),Rh.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(lv),this.sharedNodes.forEach(gv)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nh.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nh.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jm(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:o(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Kg(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&(t||og(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),kv((r=n).x),kv(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return Jm();const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(hg(t.x,n.offset.x),hg(t.y,n.offset.y)),t}removeElementScroll(e){const t=Jm();jg(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:o,options:i}=r;if(r!==this.root&&o&&i.layoutScroll){if(o.isRoot){jg(t,e);const{scroll:n}=this.root;n&&(hg(t.x,-n.offset.x),hg(t.y,-n.offset.y))}hg(t.x,o.offset.x),hg(t.y,o.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Jm();jg(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&gg(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),og(e.latestValues)&&gg(n,e.latestValues)}return og(this.latestValues)&&gg(n,this.latestValues),n}removeTransform(e){const t=Jm();jg(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!og(e.latestValues))continue;rg(e.latestValues)&&e.updateSnapshot();const r=Jm();jg(r,e.measurePageBox()),Ug(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return og(this.latestValues)&&Ug(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rh.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:o,layoutId:i}=this.options;if(this.layout&&(o||i)){if(this.resolvedRelativeTargetAt=Rh.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jm(),this.relativeTargetOrigin=Jm(),Km(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),jg(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,a,l;if(this.target||(this.target=Jm(),this.targetWithTransforms=Jm()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,a=this.relativeTarget,l=this.relativeParent.target,Um(s.x,a.x,l.x),Um(s.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):jg(this.target,this.layout.layoutBox),ug(this.target,this.targetDelta)):jg(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jm(),this.relativeTargetOrigin=Jm(),Km(this.relativeTargetOrigin,this.target,e.target),jg(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nv.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!rg(this.parent.latestValues)&&!ig(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Rh.timestamp&&(r=!1),r)return;const{layout:o,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!o&&!i)return;jg(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=n.length;if(!o)return;let i,s;t.x=t.y=1;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const o=i.instance;o&&o.style&&"contents"===o.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&gg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,ug(e,s)),r&&og(i.latestValues)&&gg(e,i.latestValues))}t.x=dg(t.x),t.y=dg(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta=Qm(),this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta=Qm(),this.projectionDeltaWithTransform=Qm());const c=this.projectionTransform;Hm(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Gg(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===s&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),nv.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},o={...this.latestValues},i=Qm();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s=Jm(),a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(bv));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h;vv(i.x,e.x,n),vv(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Km(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){yv(e.x,t.x,n.x,r),yv(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,s,n),d&&(l=this.relativeTarget,h=d,l.x.min===h.x.min&&l.x.max===h.x.max&&l.y.min===h.y.min&&l.y.max===h.y.max)&&(this.isProjectionDirty=!1),d||(d=Jm()),jg(d,this.relativeTarget)),a&&(this.animationValues=o,function(e,t,n,r,o,i){o?(e.opacity=qf(0,void 0!==n.opacity?n.opacity:1,Ig(r)),e.opacityExit=qf(void 0!==t.opacity?t.opacity:1,0,zg(r))):i&&(e.opacity=qf(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let s=0;s<Og;s++){const o="border".concat(Pg[s],"Radius");let i=Rg(t,o),a=Rg(n,o);void 0===i&&void 0===a||(i||(i=0),a||(a=0),0===i||0===a||Dg(i)===Dg(a)?(e[o]=Math.max(qf(Ng(i),Ng(a),r),0),(Kd.test(a)||Kd.test(i))&&(e[o]+="%")):e[o]=a)}(t.rotate||n.rotate)&&(e.rotate=qf(t.rotate||0,n.rotate||0,r))}(o,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Dh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nh.update((()=>{kg.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Md(e)?e:dm(e);return r.start(rm("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:o}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Cv(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||Jm();const t=Fm(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Fm(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}jg(t,n),gg(t,o),Hm(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Xg);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let o=0;o<Jg.length;o++){const t="rotate"+Jg[o];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const o in r)e.setStaticValue(o,r[o]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ev;const r={visibility:""},o=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Eh(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=o?o(this.latestValues,""):"none",r;const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Eh(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!og(this.latestValues)&&(t.transform=o?o({},""):"none",this.hasProjected=!1),t}const s=i.animationValues||i.latestValues;this.applyTransformsToTarget(),r.transform=Gg(this.projectionDeltaWithTransform,this.treeScale,s),o&&(r.transform=o(s,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),i.animationValues?r.opacity=i===this?null!==(n=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=i===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const c in Cd){if(void 0===s[c])continue;const{correct:e,applyTo:t}=Cd[c],n="none"===r.transform?s[c]:e(s[c],i);if(t){const e=t.length;for(let o=0;o<e;o++)r[t[o]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=i===this?Eh(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(cv),this.root.sharedNodes.clear()}}}function ov(e){e.updateLayout()}function iv(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;"size"===o?eg((e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],o=Fm(r);r.min=t[e].min,r.max=r.min+o})):Cv(o,n.layoutBox,t)&&eg((r=>{const o=i?n.measuredBox[r]:n.layoutBox[r],s=Fm(t[r]);o.max=o.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)}));const s=Qm();Hm(s,t,n.layoutBox);const a=Qm();i?Hm(a,e.applyTransform(r,!0),n.measuredBox):Hm(a,t,n.layoutBox);const l=!Kg(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:o,layout:i}=r;if(o&&i){const s=Jm();Km(s,n.layoutBox,o.layoutBox);const a=Jm();Km(a,t,i.layoutBox),Yg(s,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function sv(e){nv.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function av(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function lv(e){e.clearSnapshot()}function cv(e){e.clearMeasurements()}function uv(e){e.isLayoutDirty=!1}function dv(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function fv(e){e.resolveTargetDelta()}function pv(e){e.calcProjection()}function mv(e){e.resetRotation()}function gv(e){e.removeLeadSnapshot()}function vv(e,t,n){e.translate=qf(t.translate,0,n),e.scale=qf(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function yv(e,t,n,r){e.min=qf(t.min,n.min,r),e.max=qf(t.max,n.max,r)}function bv(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const wv={duration:.45,ease:[.4,0,.1,1]},xv=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),Sv=xv("applewebkit/")&&!xv("chrome/")?Math.round:Th;function kv(e){e.min=Sv(e.min),e.max=Sv(e.max)}function Cv(e,t,n){return"position"===e||"preserve-aspect"===e&&!Vm($g(t),$g(n),.2)}const _v=rv({attachResizeListener:(e,t)=>Bh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ev={current:void 0},Av=rv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ev.current){const e=new _v({});e.mount(window),e.setOptions({layoutScroll:!0}),Ev.current=e}return Ev.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Mv={pan:{Feature:class extends Gh{constructor(){super(...arguments),this.removePointerDownListener=Th}onPointerDown(e){this.session=new Dm(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yg(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Sg(e),onStart:Sg(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Nh.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Wh(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Gh{constructor(e){super(e),this.removeGroupControls=Th,this.removeListeners=Th,this.controls=new wg(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Th}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Av,MeasureLayout:Mg}},Tv=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;const Pv=4;function Ov(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;df(n<=Pv,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,o]=function(e){const t=Tv.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return im(e)?parseFloat(e):e}return Dd(o)?Ov(o,t,n+1):o}const Nv=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Dv=e=>Nv.has(e),Rv=e=>e===zd||e===Yd,Iv=(e,t)=>parseFloat(e.split(", ")[t]),zv=(e,t)=>(n,r)=>{let{transform:o}=r;if("none"===o||!o)return 0;const i=o.match(/^matrix3d\((.+)\)$/);if(i)return Iv(i[1],t);{const t=o.match(/^matrix\((.+)\)$/);return t?Iv(t[1],e):0}},Lv=new Set(["x","y","z"]),Bv=_d.filter((e=>!Lv.has(e)));const jv={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:zv(4,13),y:zv(5,14)};jv.translateX=jv.x,jv.translateY=jv.y;const Fv=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t={...t},r={...r};const o=Object.keys(t).filter(Dv);let i=[],s=!1;const a=[];if(o.forEach((o=>{const l=e.getValue(o);if(!e.hasValue(o))return;let c=n[o],u=pm(c);const d=t[o];let h;if(kh(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=pm(c);for(let n=t;n<e&&null!==d[n];n++)h?df(pm(d[n])===h,"All keyframes must be of the same type"):(h=pm(d[n]),df(h===u||Rv(u)&&Rv(h),"Keyframes must be of the same dimension as the current value"))}else h=pm(d);if(u!==h)if(Rv(u)&&Rv(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof d?t[o]=parseFloat(d):Array.isArray(d)&&h===Yd&&(t[o]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?l.set(h.transform(c)):t[o]=u.transform(d):(s||(i=function(e){const t=[];return Bv.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),s=!0),a.push(o),r[o]=void 0!==r[o]?r[o]:t[o],l.jump(d))})),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,o=((e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};"none"===s&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{a[e]=jv[e](r,i)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(a[n]),e[n]=jv[n](l,i)})),e})(t,e,a);return i.length&&i.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),e.render(),ed&&null!==n&&window.scrollTo({top:n}),{target:o,transitionEnd:r}}return{target:t,transitionEnd:r}};function Vv(e,t,n,r){return(e=>Object.keys(e).some(Dv))(t)?Fv(e,t,n,r):{target:t,transitionEnd:r}}const Wv=(e,t,n,r)=>{const o=function(e,t,n){let{...r}=t;const o=e.current;if(!(o instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!Dd(t))return;const n=Ov(t,o);n&&e.set(n)}));for(const i in r){const e=r[i];if(!Dd(e))continue;const t=Ov(e,o);t&&(r[i]=t,n||(n={}),void 0===n[i]&&(n[i]=e))}return{target:r,transitionEnd:n}}(e,t,r);return Vv(e,t=o.target,n,r=o.transitionEnd)},Hv={current:null},Uv={current:!1};const qv=new WeakMap,Kv=Object.keys(md),Yv=Kv.length,$v=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Xv=cd.length;class Gv{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Nh.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=ud(n),this.isVariantNode=dd(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const e=u[d];void 0!==a[d]&&Md(e)&&(e.set(a[d],!1),om(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,qv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Uv.current||function(){if(Uv.current=!0,ed)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hv.current=e.matches;e.addListener(t),t()}else Hv.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Hv.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qv.delete(this.current),this.projection&&this.projection.unmount(),Dh(this.notifyUpdate),Dh(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=Ed.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Nh.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),o=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),o()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let o,i,{children:s,...a}=e;for(let l=0;l<Yv;l++){const e=Kv[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:s}=md[e];r&&(o=r),t(a)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),s&&(i=s))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:i,layoutScroll:s,layoutRoot:l}=a;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||i&&id(i),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:s,layoutRoot:l})}return i}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jm()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<$v.length;n++){const t=$v[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(Md(i))e.addValue(o,i),om(r)&&r.add(o);else if(Md(s))e.addValue(o,dm(i,{owner:e})),om(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const t=e.getValue(o);!t.hasAnimated&&t.set(i)}else{const t=e.getStaticValue(o);e.addValue(o,dm(void 0!==t?t:i,{owner:e}))}}for(const o in n)void 0===t[o]&&e.removeValue(o);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<Xv;t++){const n=cd[t],r=this.props[n];(sd(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=dm(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=xh(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const o=this.getBaseTargetFromProps(this.props,e);return void 0===o||Md(o)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:o}on(e,t){return this.events[e]||(this.events[e]=new lm),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Zv extends Gv{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:o,...i}=e,{transformValues:s}=t,a=function(e,t,n){const r={};for(const o in e){const e=ym(o,t);if(void 0!==e)r[o]=e;else{const e=n.getValue(o);e&&(r[o]=e.get())}}return r}(i,r||{},this);if(s&&(o&&(o=s(o)),i&&(i=s(i)),a&&(a=s(a))),n){!function(e,t,n){var r,o;const i=Object.keys(t).filter((t=>!e.hasValue(t))),s=i.length;var a;if(s)for(let l=0;l<s;l++){const s=i[l],c=t[s];let u=null;Array.isArray(c)&&(u=c[0]),null===u&&(u=null!==(o=null!==(r=n[s])&&void 0!==r?r:e.readValue(s))&&void 0!==o?o:t[s]),void 0!==u&&null!==u&&("string"===typeof u&&(im(u)||Jp(u))?u=parseFloat(u):(a=u,!mm.find(hm(a))&&ip.test(c)&&(u=Qp(s,c))),e.addValue(s,dm(u,{owner:e})),void 0===n[s]&&(n[s]=u),null!==u&&e.setBaseTarget(s,u))}}(this,i,a);const e=Wv(this,i,a,o);o=e.transitionEnd,i=e.target}return{transition:r,transitionEnd:o,...i}}}class Qv extends Zv{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Ed.has(t)){const e=Zp(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),o=(Nd(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof o?o.trim():o}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return vg(e,n)}build(e,t,n,r){Jd(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return bh(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Md(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}renderInstance(e,t,n,r){gh(e,t,n,r)}}class Jv extends Zv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ed.has(t)){const e=Zp(t);return e&&e.default||0}return t=vh.has(t)?t:rd(t),e.getAttribute(t)}measureInstanceViewportBox(){return Jm()}scrapeMotionValuesFromProps(e,t){return wh(e,t)}build(e,t,n,r){dh(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){yh(e,t,0,r)}mount(e){this.isSVGTag=fh(e.tagName),super.mount(e)}}const ey=(e,t)=>kd(e)?new Jv(t,{enableHardwareAcceleration:!1}):new Qv(t,{enableHardwareAcceleration:!0}),ty={...Om,...af,...Mv,...{layout:{ProjectionNode:Av,MeasureLayout:Mg}}},ny=xd(((e,t)=>function(e,t,n,r){let{forwardMotionProps:o=!1}=t;return{...kd(e)?zh:Lh,preloadedFeatures:n,useRender:mh(o),createVisualElement:r,Component:e}}(e,t,ty,ey)));var ry=new Set([...Lr,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),oy=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function iy(e){return oy.has(e)||!ry.has(e)}var sy,ay=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ly=gt((function(e){return ay.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),cy=function(e){return"theme"!==e},uy=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?ly:cy},dy=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},hy=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return It(t,n,r),Mt((function(){return zt(t,n,r)})),null},fy=function e(n,r){var o,i,s=n.__emotion_real===n,a=s&&n.__emotion_base||n;void 0!==r&&(o=r.label,i=r.target);var l=dy(n,r,s),c=l||uy(a),u=!c("as");return function(){var d=arguments,h=s&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==o&&h.push("label:"+o+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{0,h.push(d[0][0]);for(var f=d.length,p=1;p<f;p++)h.push(d[p],d[0][p])}var m=Ot((function(e,n,r){var o=u&&e.as||a,s="",d=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=t.useContext(Nt)}"string"===typeof e.className?s=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,d,e.className):null!=e.className&&(s=e.className+" ");var m=Et(h.concat(d),n.registered,f);s+=n.key+"-"+m.name,void 0!==i&&(s+=" "+i);var g=u&&void 0===l?uy(o):c,v={};for(var y in e)u&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=s,v.ref=r,t.createElement(t.Fragment,null,t.createElement(hy,{cache:n,serialized:m,isStringTag:"string"===typeof o}),t.createElement(o,v))}));return m.displayName=void 0!==o?o:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=a,m.__emotion_styles=h,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,n){return e(t,ft({},r,n,{shouldForwardProp:dy(m,n,!0)})).apply(void 0,h)},m}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){fy[e]=fy(e)}));var py=null!=(sy=fy.default)?sy:fy,my=e=>{let{baseStyle:t}=e;return e=>{const{theme:n,css:r,__css:o,sx:i,...s}=e,a=Xr(s,((e,t)=>jr(t))),l=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");const t={...e};for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(const i of r)if(null!=i)for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(e in t&&delete t[e],t[e]=i[e]);return t}({},o,Zr(t,e),Gr(a),i),c=Hr(l)(e.theme);return r?[c,r]:c}};function gy(e,n){const{baseStyle:r,...o}=null!=n?n:{};o.shouldForwardProp||(o.shouldForwardProp=iy);const i=my({baseStyle:r}),s=py(e,o)(i);return t.forwardRef((function(e,n){const{colorMode:r,forced:o}=Qt();return t.createElement(s,{ref:n,"data-theme":o?r:void 0,...e})}))}var vy=function(){const e=new Map;return new Proxy(gy,{apply:(e,t,n)=>gy(...n),get:(t,n)=>(e.has(n)||e.set(n,gy(n)),e.get(n))})}(),yy={initial:e=>{const{position:t}=e,n=["top","bottom"].includes(t)?"y":"x";let r=["top-right","bottom-right"].includes(t)?1:-1;return"bottom"===t&&(r=1),{opacity:0,[n]:24*r}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},by=(0,t.memo)((e=>{const{id:n,message:r,onCloseComplete:o,onRequestRemove:i,requestClose:s=!1,position:a="bottom",duration:l=5e3,containerStyle:c,motionVariants:u=yy,toastSpacing:d="0.5rem"}=e,[h,f]=(0,t.useState)(l),p=Zu();Xu((()=>{p||null==o||o()}),[p]),Xu((()=>{f(l)}),[l]);const m=()=>{p&&i()};(0,t.useEffect)((()=>{p&&s&&i()}),[p,s,i]),function(e,n){const r=$u(e);(0,t.useEffect)((()=>{if(null==n)return;let e=null;return e=window.setTimeout((()=>{r()}),n),()=>{e&&window.clearTimeout(e)}}),[n,r])}(m,h);const g=(0,t.useMemo)((()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:d,...c})),[c,d]),v=(0,t.useMemo)((()=>function(e){let t="center";return e.includes("right")&&(t="flex-end"),e.includes("left")&&(t="flex-start"),{display:"flex",flexDirection:"column",alignItems:t}}(a)),[a]);return(0,Wt.jsx)(ny.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:()=>f(null),onHoverEnd:()=>f(l),custom:{position:a},style:v,children:(0,Wt.jsx)(vy.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:g,children:nn(r,{id:n,onClose:m})})})}));function wy(e,t){var n;const r=null!=e?e:"bottom",o={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r];return null!=(n=null==o?void 0:o[t])?n:r}function xy(e){return(0,t.forwardRef)(e)}function Sy(){const e=(0,t.useContext)(Nt);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}function ky(){return{...Qt(),theme:Sy()}}by.displayName="ToastComponent";var Cy=n(366);function _y(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;const{styleConfig:o,...i}=n,{theme:s,colorMode:a}=ky(),l=e?$r(s,"components.".concat(e)):void 0,c=o||l,u=ln({theme:s,colorMode:a},null!=(r=null==c?void 0:c.defaultProps)?r:{},Gr(function(e,t){const n={};return Object.keys(e).forEach((r=>{t.includes(r)||(n[r]=e[r])})),n}(i,["children"]))),d=(0,t.useRef)({});if(c){const e=function(e){return t=>{var n;const{variant:r,size:o,theme:i}=t,s=Kr(i);return ln({},nn(null!=(n=e.baseStyle)?n:{},t),s(e,"sizes",o,t),s(e,"variants",r,t))}}(c),t=e(u);Cy(d.current,t)||(d.current=t)}return d.current}function Ey(e){return _y(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function Ay(e){return _y(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}var My={path:(0,Wt.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.5",children:[(0,Wt.jsx)("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),(0,Wt.jsx)("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),(0,Wt.jsx)("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Ty=xy(((e,t)=>{const{as:n,viewBox:r,color:o="currentColor",focusable:i=!1,children:s,className:a,__css:l,...c}=e,u={ref:t,focusable:i,className:en("chakra-icon",a),__css:{w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:o,...l,...Ey("Icon",e)}},d=null!=r?r:My.viewBox;if(n&&"string"!==typeof n)return(0,Wt.jsx)(vy.svg,{as:n,...u,...c});const h=null!=s?s:My.path;return(0,Wt.jsx)(vy.svg,{verticalAlign:"middle",viewBox:d,...u,...c,children:h})}));Ty.displayName="Icon";function Py(e){return(0,Wt.jsx)(Ty,{viewBox:"0 0 24 24",...e,children:(0,Wt.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var Oy=jt({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Ny=xy(((e,t)=>{const n=Ey("Spinner",e),{label:r="Loading...",thickness:o="2px",speed:i="0.45s",emptyColor:s="transparent",className:a,...l}=Yr(e),c=en("chakra-spinner",a),u={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:o,borderBottomColor:s,borderLeftColor:s,animation:"".concat(Oy," ").concat(i," linear infinite"),...n};return(0,Wt.jsx)(vy.div,{ref:t,__css:u,className:c,...l,children:r&&(0,Wt.jsx)(vy.span,{srOnly:!0,children:r})})}));Ny.displayName="Spinner";var[Dy,Ry]=Yt({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[Iy,zy]=Yt({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),Ly={info:{icon:function(e){return(0,Wt.jsx)(Ty,{viewBox:"0 0 24 24",...e,children:(0,Wt.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})},colorScheme:"blue"},warning:{icon:Py,colorScheme:"orange"},success:{icon:function(e){return(0,Wt.jsx)(Ty,{viewBox:"0 0 24 24",...e,children:(0,Wt.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})},colorScheme:"green"},error:{icon:Py,colorScheme:"red"},loading:{icon:Ny,colorScheme:"blue"}};var By=xy((function(e,t){var n;const{status:r="info",addRole:o=!0,...i}=Yr(e),s=null!=(n=e.colorScheme)?n:function(e){return Ly[e].colorScheme}(r),a=Ay("Alert",{...e,colorScheme:s}),l={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...a.container};return(0,Wt.jsx)(Dy,{value:{status:r},children:(0,Wt.jsx)(Iy,{value:a,children:(0,Wt.jsx)(vy.div,{"data-status":r,role:o?"alert":void 0,ref:t,...i,className:en("chakra-alert",e.className),__css:l})})})}));function jy(e){const{status:t}=Ry(),n=function(e){return Ly[e].icon}(t),r=zy(),o="loading"===t?r.spinner:r.icon;return(0,Wt.jsx)(vy.span,{display:"inherit","data-status":t,...e,className:en("chakra-alert__icon",e.className),__css:o,children:e.children||(0,Wt.jsx)(n,{h:"100%",w:"100%"})})}By.displayName="Alert",jy.displayName="AlertIcon";var Fy=xy((function(e,t){const n=zy(),{status:r}=Ry();return(0,Wt.jsx)(vy.div,{ref:t,"data-status":r,...e,className:en("chakra-alert__title",e.className),__css:n.title})}));Fy.displayName="AlertTitle";var Vy=xy((function(e,t){const n=zy(),{status:r}=Ry(),o={display:"inline",...n.description};return(0,Wt.jsx)(vy.div,{ref:t,"data-status":r,...e,className:en("chakra-alert__desc",e.className),__css:o})}));function Wy(e){return(0,Wt.jsx)(Ty,{focusable:"false","aria-hidden":!0,...e,children:(0,Wt.jsx)("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}Vy.displayName="AlertDescription";var Hy=xy((function(e,t){const n=Ey("CloseButton",e),{children:r,isDisabled:o,__css:i,...s}=Yr(e);return(0,Wt.jsx)(vy.button,{type:"button","aria-label":"Close",ref:t,disabled:o,__css:{outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,...n,...i},...s,children:r||(0,Wt.jsx)(Wy,{width:"1em",height:"1em"})})}));Hy.displayName="CloseButton";var Uy=function(e){let t=e;const n=new Set,r=e=>{t=e(t),n.forEach((e=>e()))};return{getState:()=>t,subscribe:t=>(n.add(t),()=>{r((()=>e)),n.delete(t)}),removeToast:(e,t)=>{r((n=>({...n,[t]:n[t].filter((t=>t.id!=e))})))},notify:(e,t)=>{const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;qy+=1;const o=null!=(n=t.id)?n:qy,i=null!=(r=t.position)?r:"bottom";return{id:o,message:e,position:i,duration:t.duration,onCloseComplete:t.onCloseComplete,onRequestRemove:()=>Uy.removeToast(String(o),i),status:t.status,requestClose:!1,containerStyle:t.containerStyle}}(e,t),{position:o,id:i}=n;return r((e=>{var t,r;const i=o.includes("top")?[n,...null!=(t=e[o])?t:[]]:[...null!=(r=e[o])?r:[],n];return{...e,[o]:i}})),i},update:(e,t)=>{e&&r((n=>{const r={...n},{position:o,index:i}=qu(r,e);return o&&-1!==i&&(r[o][i]={...r[o][i],...t,message:Yy(t)}),r}))},closeAll:function(){let{positions:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r((t=>(null!=e?e:["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce(((e,n)=>(e[n]=t[n].map((e=>({...e,requestClose:!0}))),e)),{...t})))},close:e=>{r((t=>{const n=Ku(t,e);return n?{...t,[n]:t[n].map((t=>t.id==e?{...t,requestClose:!0}:t))}:t}))},isActive:e=>Boolean(qu(Uy.getState(),e).position)}}({top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]});var qy=0;var Ky=e=>{const{status:t,variant:n="solid",id:r,title:o,isClosable:i,onClose:s,description:a,colorScheme:l,icon:c}=e,u=r?{root:"toast-".concat(r),title:"toast-".concat(r,"-title"),description:"toast-".concat(r,"-description")}:void 0;return(0,Wt.jsxs)(By,{addRole:!1,status:t,variant:n,id:null==u?void 0:u.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[(0,Wt.jsx)(jy,{children:c}),(0,Wt.jsxs)(vy.div,{flex:"1",maxWidth:"100%",children:[o&&(0,Wt.jsx)(Fy,{id:null==u?void 0:u.title,children:o}),a&&(0,Wt.jsx)(Vy,{id:null==u?void 0:u.description,display:"block",children:a})]}),i&&(0,Wt.jsx)(Hy,{size:"sm",onClick:s,position:"absolute",insetEnd:1,top:1})]})};function Yy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{render:t,toastComponent:n=Ky}=e;return r=>"function"===typeof t?t({...r,...e}):(0,Wt.jsx)(n,{...r,...e})}function $y(){const e=(0,t.useRef)(!1);return td((()=>(e.current=!0,()=>{e.current=!1})),[]),e}class Xy extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Gy(e){let{children:n,isPresent:r}=e;const o=(0,t.useId)(),i=(0,t.useRef)(null),s=(0,t.useRef)({width:0,height:0,top:0,left:0});return(0,t.useInsertionEffect)((()=>{const{width:e,height:t,top:n,left:a}=s.current;if(r||!i.current||!e||!t)return;i.current.dataset.motionPopId=o;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}}),[r]),t.createElement(Xy,{isPresent:r,childRef:i,sizeRef:s},t.cloneElement(n,{ref:i}))}const Zy=e=>{let{children:n,initial:r,isPresent:o,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l}=e;const c=Sh(Qy),u=(0,t.useId)(),d=(0,t.useMemo)((()=>({id:u,initial:r,isPresent:o,custom:s,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;i&&i()},register:e=>(c.set(e,!1),()=>c.delete(e))})),a?void 0:[o]);return(0,t.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[o]),t.useEffect((()=>{!o&&!c.size&&i&&i()}),[o]),"popLayout"===l&&(n=t.createElement(Gy,{isPresent:o},n)),t.createElement(Gu.Provider,{value:d},n)};function Qy(){return new Map}const Jy=e=>e.key||"";const eb=e=>{let{children:n,custom:r,initial:o=!0,onExitComplete:i,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:l="sync"}=e;df(!s,"Replace exitBeforeEnter with mode='wait'");const c=(0,t.useContext)(gd).forceRender||function(){const e=$y(),[n,r]=(0,t.useState)(0),o=(0,t.useCallback)((()=>{e.current&&r(n+1)}),[n]);return[(0,t.useCallback)((()=>Nh.postRender(o)),[o]),n]}()[0],u=$y(),d=function(e){const n=[];return t.Children.forEach(e,(e=>{(0,t.isValidElement)(e)&&n.push(e)})),n}(n);let h=d;const f=(0,t.useRef)(new Map).current,p=(0,t.useRef)(h),m=(0,t.useRef)(new Map).current,g=(0,t.useRef)(!0);var v;if(td((()=>{g.current=!1,function(e,t){e.forEach((e=>{const n=Jy(e);t.set(n,e)}))}(d,m),p.current=h})),v=()=>{g.current=!0,m.clear(),f.clear()},(0,t.useEffect)((()=>()=>v()),[]),g.current)return t.createElement(t.Fragment,null,h.map((e=>t.createElement(Zy,{key:Jy(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:a,mode:l},e))));h=[...h];const y=p.current.map(Jy),b=d.map(Jy),w=y.length;for(let t=0;t<w;t++){const e=y[t];-1!==b.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===l&&f.size&&(h=[]),f.forEach(((e,n)=>{if(-1!==b.indexOf(n))return;const o=m.get(n);if(!o)return;const s=y.indexOf(n);let g=e;if(!g){const e=()=>{f.delete(n);const e=Array.from(m.keys()).filter((e=>!b.includes(e)));if(e.forEach((e=>m.delete(e))),p.current=d.filter((t=>{const r=Jy(t);return r===n||e.includes(r)})),!f.size){if(!1===u.current)return;c(),i&&i()}};g=t.createElement(Zy,{key:Jy(o),isPresent:!1,onExitComplete:e,custom:r,presenceAffectsLayout:a,mode:l},o),f.set(n,g)}h.splice(s,0,g)})),h=h.map((e=>{const n=e.key;return f.has(n)?e:t.createElement(Zy,{key:Jy(e),isPresent:!0,presenceAffectsLayout:a,mode:l},e)})),t.createElement(t.Fragment,null,f.size?h:h.map((e=>(0,t.cloneElement)(e))))};var[tb,nb]=Yt({strict:!1,name:"PortalContext"}),rb="chakra-portal",ob=e=>(0,Wt.jsx)("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children}),ib=e=>{const{appendToParentPortal:n,children:r}=e,[o,s]=(0,t.useState)(null),a=(0,t.useRef)(null),[,l]=(0,t.useState)({});(0,t.useEffect)((()=>l({})),[]);const c=nb(),u=Xt();co((()=>{if(!o)return;const e=o.ownerDocument,t=n&&null!=c?c:e.body;if(!t)return;a.current=e.createElement("div"),a.current.className=rb,t.appendChild(a.current),l({});const r=a.current;return()=>{t.contains(r)&&t.removeChild(r)}}),[o]);const d=(null==u?void 0:u.zIndex)?(0,Wt.jsx)(ob,{zIndex:null==u?void 0:u.zIndex,children:r}):r;return a.current?(0,i.createPortal)((0,Wt.jsx)(tb,{value:a.current,children:d}),a.current):(0,Wt.jsx)("span",{ref:e=>{e&&s(e)}})},sb=e=>{const{children:n,containerRef:r,appendToParentPortal:o}=e,s=r.current,a=null!=s?s:"undefined"!==typeof window?document.body:void 0,l=(0,t.useMemo)((()=>{const e=null==s?void 0:s.ownerDocument.createElement("div");return e&&(e.className=rb),e}),[s]),[,c]=(0,t.useState)({});return co((()=>c({})),[]),co((()=>{if(l&&a)return a.appendChild(l),()=>{a.removeChild(l)}}),[l,a]),a&&l?(0,i.createPortal)((0,Wt.jsx)(tb,{value:o?l:null,children:n}),l):null};function ab(e){const t={appendToParentPortal:!0,...e},{containerRef:n,...r}=t;return n?(0,Wt.jsx)(sb,{containerRef:n,...r}):(0,Wt.jsx)(ib,{...r})}ab.className=rb,ab.selector=".chakra-portal",ab.displayName="Portal";var[lb,cb]=Yt({name:"ToastOptionsContext",strict:!1}),ub=e=>{const n=(0,t.useSyncExternalStore)(Uy.subscribe,Uy.getState,Uy.getState),{motionVariants:r,component:o=by,portalProps:i}=e,s=Object.keys(n).map((e=>{const t=n[e];return(0,Wt.jsx)("div",{role:"region","aria-live":"polite","aria-label":"Notifications-".concat(e),id:"chakra-toast-manager-".concat(e),style:Yu(e),children:(0,Wt.jsx)(eb,{initial:!1,children:t.map((e=>(0,Wt.jsx)(o,{motionVariants:r,...e},e.id)))})},e)}));return(0,Wt.jsx)(ab,{...i,children:s})},db=e=>function(t){let{children:n,theme:r=e,toastOptions:o,...i}=t;return(0,Wt.jsxs)(go,{theme:r,...i,children:[(0,Wt.jsx)(lb,{value:null==o?void 0:o.defaultOptions,children:n}),(0,Wt.jsx)(ub,{...o})]})},hb=db(Wu);db(Hu);class fb{lineAt(e){if(e<0||e>this.length)throw new RangeError("Invalid position ".concat(e," in document of length ").concat(this.length));return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError("Invalid line number ".concat(e," in ").concat(this.lines,"-line document"));return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=Sb(this,e,t);let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),mb.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;[e,t]=Sb(this,e,t);let n=[];return this.decompose(e,t,n,0),mb.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new yb(this),o=new yb(e);for(let i=t,s=t;;){if(r.next(i),o.next(i),i=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(s+=r.value.length,r.done||s>=n)return!0}}iter(){return new yb(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)}iterRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return new bb(this,e,t)}iterLines(e,t){let n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);let r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new wb(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new pb(e):mb.from(pb.split(e,[])):fb.empty}}class pb extends fb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){let t=-1;for(let n of e)t+=n.length+1;return t}(e);super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let o=0;;o++){let i=this.text[o],s=r+i.length;if((t?n:s)>=e)return new xb(r,s,n,i);r=s+1,n++}}decompose(e,t,n,r){let o=e<=0&&t>=this.length?this:new pb(vb(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&r){let e=n.pop(),t=gb(o.text,e.text.slice(),0,o.length);if(t.length<=32)n.push(new pb(t,e.length+o.length));else{let e=t.length>>1;n.push(new pb(t.slice(0,e)),new pb(t.slice(e)))}}else n.push(o)}replace(e,t,n){if(!(n instanceof pb))return super.replace(e,t,n);[e,t]=Sb(this,e,t);let r=gb(this.text,gb(n.text,vb(this.text,0,e)),t),o=this.length+n.length-(t-e);return r.length<=32?new pb(r,o):mb.from(pb.split(r,[]),o)}sliceString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";[e,t]=Sb(this,e,t);let r="";for(let o=0,i=0;o<=t&&i<this.text.length;i++){let s=this.text[i],a=o+s.length;o>e&&i&&(r+=n),e<a&&t>o&&(r+=s.slice(Math.max(0,e-o),t-o)),o=a+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],r=-1;for(let o of e)n.push(o),r+=o.length+1,32==n.length&&(t.push(new pb(n,r)),n=[],r=-1);return r>-1&&t.push(new pb(n,r)),t}}class mb extends fb{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,r){for(let o=0;;o++){let i=this.children[o],s=r+i.length,a=n+i.lines-1;if((t?a:s)>=e)return i.lineInner(e,t,n,r);r=s+1,n=a+1}}decompose(e,t,n,r){for(let o=0,i=0;i<=t&&o<this.children.length;o++){let s=this.children[o],a=i+s.length;if(e<=a&&t>=i){let o=r&((i<=e?1:0)|(a>=t?2:0));i>=e&&a<=t&&!o?n.push(s):s.decompose(e-i,t-i,n,o)}i=a+1}}replace(e,t,n){if([e,t]=Sb(this,e,t),n.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let i=this.children[r],s=o+i.length;if(e>=o&&t<=s){let a=i.replace(e-o,t-o,n),l=this.lines-i.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let o=this.children.slice();return o[r]=a,new mb(o,this.length-(t-e)+n.length)}return super.replace(o,s,a)}o=s+1}return super.replace(e,t,n)}sliceString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";[e,t]=Sb(this,e,t);let r="";for(let o=0,i=0;o<this.children.length&&i<=t;o++){let s=this.children[o],a=i+s.length;i>e&&o&&(r+=n),e<a&&t>i&&(r+=s.sliceString(e-i,t-i,n)),i=a+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof mb))return 0;let n=0,[r,o,i,s]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,o+=t){if(r==i||o==s)return n;let a=this.children[r],l=e.children[o];if(a!=l)return n+a.scanIdentical(l,t);n+=a.length+1}}static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.reduce(((e,t)=>e+t.length+1),-1),n=0;for(let h of e)n+=h.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new pb(n,t)}let r=Math.max(32,n>>5),o=r<<1,i=r>>1,s=[],a=0,l=-1,c=[];function u(e){let t;if(e.lines>o&&e instanceof mb)for(let n of e.children)u(n);else e.lines>i&&(a>i||!a)?(d(),s.push(e)):e instanceof pb&&a&&(t=c[c.length-1])instanceof pb&&e.lines+t.lines<=32?(a+=e.lines,l+=e.length+1,c[c.length-1]=new pb(t.text.concat(e.text),t.length+1+e.length)):(a+e.lines>r&&d(),a+=e.lines,l+=e.length+1,c.push(e))}function d(){0!=a&&(s.push(1==c.length?c[0]:mb.from(c,l)),l=-1,a=c.length=0)}for(let h of e)u(h);return d(),1==s.length?s[0]:new mb(s,t)}}function gb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e9;for(let o=0,i=0,s=!0;i<e.length&&o<=r;i++){let a=e[i],l=o+a.length;l>=n&&(l>r&&(a=a.slice(0,r-o)),o<n&&(a=a.slice(n-o)),s?(t[t.length-1]+=a,s=!1):t.push(a)),o=l+1}return t}function vb(e,t,n){return gb(e,[""],t,n)}fb.empty=new pb([""],0);class yb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof pb?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],o=this.offsets[n],i=o>>1,s=r instanceof pb?r.text.length:r.children.length;if(i==(t>0?s:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof pb){let o=r.text[i+(t<0?-1:0)];if(this.offsets[n]+=t,o.length>Math.max(0,e))return this.value=0==e?o:t>0?o.slice(e):o.slice(0,o.length-e),this;e-=o.length}else{let o=r.children[i+(t<0?-1:0)];e>o.length?(e-=o.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(o),this.offsets.push(t>0?1:(o instanceof pb?o.text.length:o.children.length)<<1))}}}next(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class bb{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new yb(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class wb{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{done:t,lineBreak:n,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(fb.prototype[Symbol.iterator]=function(){return this.iter()},yb.prototype[Symbol.iterator]=bb.prototype[Symbol.iterator]=wb.prototype[Symbol.iterator]=function(){return this});class xb{constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}}function Sb(e,t,n){return[t=Math.max(0,Math.min(e.length,t)),Math.max(t,Math.min(e.length,n))]}let kb="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let n=1;n<kb.length;n++)kb[n]+=kb[n-1];function Cb(e){for(let t=1;t<kb.length;t+=2)if(kb[t]>e)return kb[t-1]<=e;return!1}function _b(e){return e>=127462&&e<=127487}const Eb=8205;function Ab(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?Mb:Tb)(e,t,!(arguments.length>3&&void 0!==arguments[3])||arguments[3])}function Mb(e,t,n){if(t==e.length)return t;t&&Pb(e.charCodeAt(t))&&Ob(e.charCodeAt(t-1))&&t--;let r=Nb(e,t);for(t+=Rb(r);t<e.length;){let o=Nb(e,t);if(r==Eb||o==Eb||n&&Cb(o))t+=Rb(o),r=o;else{if(!_b(o))break;{let n=0,r=t-2;for(;r>=0&&_b(Nb(e,r));)n++,r-=2;if(n%2==0)break;t+=2}}}return t}function Tb(e,t,n){for(;t>0;){let r=Mb(e,t-2,n);if(r<t)return r;t--}return 0}function Pb(e){return e>=56320&&e<57344}function Ob(e){return e>=55296&&e<56320}function Nb(e,t){let n=e.charCodeAt(t);if(!Ob(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return Pb(r)?r-56320+(n-55296<<10)+65536:n}function Db(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function Rb(e){return e<65536?1:2}const Ib=/\r\n?|\n/;var zb=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(zb||(zb={}));class Lb{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let o=this.sections[t++],i=this.sections[t++];i<0?(e(n,r,o),r+=o):r+=i,n+=o}}iterChangedRanges(e){Vb(this,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?e.push(n,r):e.push(r,n)}return new Lb(e)}composeDesc(e){return this.empty?e:e.empty?this:Hb(this,e)}mapDesc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:Wb(this,e,t)}mapPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zb.Simple,r=0,o=0;for(let i=0;i<this.sections.length;){let s=this.sections[i++],a=this.sections[i++],l=r+s;if(a<0){if(l>e)return o+(e-r);o+=s}else{if(n!=zb.Simple&&l>=e&&(n==zb.TrackDel&&r<e&&l>e||n==zb.TrackBefore&&r<e||n==zb.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!s)return e==r||t<0?o:o+a;o+=a}r=l}if(e>r)throw new RangeError("Position ".concat(e," is out of range for changeset of length ").concat(r));return o}touchesRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;for(let n=0,r=0;n<this.sections.length&&r<=t;){let o=r+this.sections[n++];if(this.sections[n++]>=0&&r<=t&&o>=e)return!(r<e&&o>t)||"cover";r=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Lb(e)}static create(e){return new Lb(e)}}class Bb extends Lb{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Vb(this,((t,n,r,o,i)=>e=e.replace(r,r+(n-t),i)),!1),e}mapDesc(e){return Wb(this,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],!0)}invert(e){let t=this.sections.slice(),n=[];for(let r=0,o=0;r<t.length;r+=2){let i=t[r],s=t[r+1];if(s>=0){t[r]=s,t[r+1]=i;let a=r>>1;for(;n.length<a;)n.push(fb.empty);n.push(i?e.slice(o,o+i):fb.empty)}o+=i}return new Bb(t,n)}compose(e){return this.empty?e:e.empty?this:Hb(this,e,!0)}map(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:Wb(this,e,t,!0)}iterChanges(e){Vb(this,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}get desc(){return Lb.create(this.sections)}filter(e){let t=[],n=[],r=[],o=new Ub(this);e:for(let i=0,s=0;;){let a=i==e.length?1e9:e[i++];for(;s<a||s==a&&0==o.len;){if(o.done)break e;let e=Math.min(o.len,a-s);jb(r,e,-1);let i=-1==o.ins?-1:0==o.off?o.ins:0;jb(t,e,i),i>0&&Fb(n,t,o.text),o.forward(e),s+=e}let l=e[i++];for(;s<l;){if(o.done)break e;let e=Math.min(o.len,l-s);jb(t,e,-1),jb(r,e,-1==o.ins?-1:0==o.off?o.ins:0),o.forward(e),s+=e}}return{changes:new Bb(t,n),filtered:Lb.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let r=[],o=[],i=0,s=null;function a(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&!r.length)return;i<t&&jb(r,t-i,-1);let e=new Bb(r,o);s=s?s.compose(e.map(s)):e,r=[],o=[],i=0}return function e(l){if(Array.isArray(l))for(let t of l)e(t);else if(l instanceof Bb){if(l.length!=t)throw new RangeError("Mismatched change set length (got ".concat(l.length,", expected ").concat(t,")"));a(),s=s?s.compose(l.map(s)):l}else{let{from:e,to:s=e,insert:c}=l;if(e>s||e<0||s>t)throw new RangeError("Invalid change range ".concat(e," to ").concat(s," (in doc of length ").concat(t,")"));let u=c?"string"==typeof c?fb.of(c.split(n||Ib)):c:fb.empty,d=u.length;if(e==s&&0==d)return;e<i&&a(),e>i&&jb(r,e-i,-1),jb(r,s-e,d),Fb(o,r,u),i=s}}(e),a(!s),s}static empty(e){return new Bb(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let r=0;r<e.length;r++){let o=e[r];if("number"==typeof o)t.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)t.push(o[0],0);else{for(;n.length<r;)n.push(fb.empty);n[r]=fb.of(o.slice(1)),t.push(o[0],n[r].length)}}}return new Bb(t,n)}static createSet(e,t){return new Bb(e,t)}}function jb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0==t&&n<=0)return;let o=e.length-2;o>=0&&n<=0&&n==e[o+1]?e[o]+=t:0==t&&0==e[o]?e[o+1]+=n:r?(e[o]+=t,e[o+1]+=n):e.push(t,n)}function Fb(e,t,n){if(0==n.length)return;let r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(fb.empty);e.push(n)}}function Vb(e,t,n){let r=e.inserted;for(let o=0,i=0,s=0;s<e.sections.length;){let a=e.sections[s++],l=e.sections[s++];if(l<0)o+=a,i+=a;else{let c=o,u=i,d=fb.empty;for(;c+=a,u+=l,l&&r&&(d=d.append(r[s-2>>1])),!(n||s==e.sections.length||e.sections[s+1]<0);)a=e.sections[s++],l=e.sections[s++];t(o,c,i,u,d),o=c,i=u}}}function Wb(e,t,n){let r=[],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?[]:null,i=new Ub(e),s=new Ub(t);for(let a=-1;;)if(-1==i.ins&&-1==s.ins){let e=Math.min(i.len,s.len);jb(r,e,-1),i.forward(e),s.forward(e)}else if(s.ins>=0&&(i.ins<0||a==i.i||0==i.off&&(s.len<i.len||s.len==i.len&&!n))){let e=s.len;for(jb(r,s.ins,-1);e;){let t=Math.min(i.len,e);i.ins>=0&&a<i.i&&i.len<=t&&(jb(r,0,i.ins),o&&Fb(o,r,i.text),a=i.i),i.forward(t),e-=t}s.next()}else{if(!(i.ins>=0)){if(i.done&&s.done)return o?Bb.createSet(r,o):Lb.create(r);throw new Error("Mismatched change set lengths")}{let e=0,t=i.len;for(;t;)if(-1==s.ins){let n=Math.min(t,s.len);e+=n,t-=n,s.forward(n)}else{if(!(0==s.ins&&s.len<t))break;t-=s.len,s.next()}jb(r,e,a<i.i?i.ins:0),o&&a<i.i&&Fb(o,r,i.text),a=i.i,i.forward(i.len-t)}}}function Hb(e,t){let n=[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?[]:null,o=new Ub(e),i=new Ub(t);for(let s=!1;;){if(o.done&&i.done)return r?Bb.createSet(n,r):Lb.create(n);if(0==o.ins)jb(n,o.len,0,s),o.next();else if(0!=i.len||i.done){if(o.done||i.done)throw new Error("Mismatched change set lengths");{let e=Math.min(o.len2,i.len),t=n.length;if(-1==o.ins){let t=-1==i.ins?-1:i.off?0:i.ins;jb(n,e,t,s),r&&t&&Fb(r,n,i.text)}else-1==i.ins?(jb(n,o.off?0:o.len,e,s),r&&Fb(r,n,o.textBit(e))):(jb(n,o.off?0:o.len,i.off?0:i.ins,s),r&&!i.off&&Fb(r,n,i.text));s=(o.ins>e||i.ins>=0&&i.len>e)&&(s||n.length>t),o.forward2(e),i.forward(e)}}else jb(n,0,i.ins,s),r&&Fb(r,n,i.text),i.next()}}class Ub{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?fb.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?fb.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class qb{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let e=7&this.flags;return 7==e?null:e}get goalColumn(){let e=this.flags>>6;return 16777215==e?void 0:e}map(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.empty?t=n=e.mapPos(this.from,r):(t=e.mapPos(this.from,1),n=e.mapPos(this.to,-1)),t==this.from&&n==this.to?this:new qb(t,n,this.flags)}extend(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e<=this.anchor&&t>=this.anchor)return Kb.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Kb.range(this.anchor,n)}eq(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Kb.range(e.anchor,e.head)}static create(e,t,n){return new qb(e,t,n)}}class Kb{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return e.empty?this:Kb.create(this.ranges.map((n=>n.map(e,t))),this.mainIndex)}eq(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new Kb([this.main],0)}addRange(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Kb.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mainIndex,n=this.ranges.slice();return n[t]=e,Kb.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Kb(e.ranges.map((e=>qb.fromJSON(e))),e.main)}static single(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new Kb([Kb.range(e,t)],0)}static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let o=e[r];if(o.empty?o.from<=n:o.from<n)return Kb.normalized(e.slice(),t);n=o.to}return new Kb(e,t)}static cursor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return qb.create(e,e,(0==t?0:t<0?8:16)|(null==n?7:Math.min(6,n))|(null!==r&&void 0!==r?r:16777215)<<6)}static range(e,t,n,r){let o=(null!==n&&void 0!==n?n:16777215)<<6|(null==r?7:Math.min(6,r));return t<e?qb.create(t,e,48|o):qb.create(e,t,(t>e?8:0)|o)}static normalized(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(n);for(let r=1;r<e.length;r++){let n=e[r],o=e[r-1];if(n.empty?n.from<=o.to:n.from<o.to){let i=o.from,s=Math.max(n.to,o.to);r<=t&&t--,e.splice(--r,2,n.anchor>n.head?Kb.range(s,i):Kb.range(i,s))}}return new Kb(e,t)}}function Yb(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let $b=0;class Xb{constructor(e,t,n,r,o){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.id=$b++,this.default=e([]),this.extensions="function"==typeof o?o(this):o}get reader(){return this}static define(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Xb(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:Gb),!!e.static,e.enables)}of(e){return new Zb([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Zb(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Zb(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(n=>t(n.field(e))))}}function Gb(e,t){return e==t||e.length==t.length&&e.every(((e,n)=>e===t[n]))}class Zb{constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=$b++}dynamicSlot(e){var t;let n=this.value,r=this.facet.compareInput,o=this.id,i=e[o]>>1,s=2==this.type,a=!1,l=!1,c=[];for(let u of this.dependencies)"doc"==u?a=!0:"selection"==u?l=!0:0==(1&(null!==(t=e[u.id])&&void 0!==t?t:1))&&c.push(e[u.id]);return{create:e=>(e.values[i]=n(e),1),update(e,t){if(a&&t.docChanged||l&&(t.docChanged||t.selection)||Jb(e,c)){let t=n(e);if(s?!Qb(t,e.values[i],r):!r(t,e.values[i]))return e.values[i]=t,1}return 0},reconfigure:(e,t)=>{let a,l=t.config.address[o];if(null!=l){let o=pw(t,l);if(this.dependencies.every((n=>n instanceof Xb?t.facet(n)===e.facet(n):!(n instanceof nw)||t.field(n,!1)==e.field(n,!1)))||(s?Qb(a=n(e),o,r):r(a=n(e),o)))return e.values[i]=o,0}else a=n(e);return e.values[i]=a,1}}}}function Qb(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function Jb(e,t){let n=!1;for(let r of t)1&fw(e,r)&&(n=!0);return n}function ew(e,t,n){let r=n.map((t=>e[t.id])),o=n.map((e=>e.type)),i=r.filter((e=>!(1&e))),s=e[t.id]>>1;function a(e){let n=[];for(let t=0;t<r.length;t++){let i=pw(e,r[t]);if(2==o[t])for(let e of i)n.push(e);else n.push(i)}return t.combine(n)}return{create(e){for(let t of r)fw(e,t);return e.values[s]=a(e),1},update(e,n){if(!Jb(e,i))return 0;let r=a(e);return t.compare(r,e.values[s])?0:(e.values[s]=r,1)},reconfigure(e,o){let i=Jb(e,r),l=o.config.facets[t.id],c=o.facet(t);if(l&&!i&&Gb(n,l))return e.values[s]=c,0;let u=a(e);return t.compare(u,c)?(e.values[s]=c,0):(e.values[s]=u,1)}}}const tw=Xb.define({static:!0});class nw{constructor(e,t,n,r,o){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=o,this.provides=void 0}static define(e){let t=new nw($b++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(tw).find((e=>e.field==this));return((null===t||void 0===t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let r=e.values[t],o=this.updateF(r,n);return this.compareF(r,o)?0:(e.values[t]=o,1)},reconfigure:(e,n)=>null!=n.config.address[this.id]?(e.values[t]=n.field(this),0):(e.values[t]=this.create(e),1)}}init(e){return[this,tw.of({field:this,create:e})]}get extension(){return this}}const rw=4,ow=3,iw=2,sw=1;function aw(e){return t=>new cw(t,e)}const lw={highest:aw(0),high:aw(sw),default:aw(iw),low:aw(ow),lowest:aw(rw)};class cw{constructor(e,t){this.inner=e,this.prec=t}}class uw{of(e){return new dw(this,e)}reconfigure(e){return uw.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class dw{constructor(e,t){this.compartment=e,this.inner=t}}class hw{constructor(e,t,n,r,o,i){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=o,this.facets=i,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let r=[],o=Object.create(null),i=new Map;for(let d of function(e,t,n){let r=[[],[],[],[],[]],o=new Map;function i(e,s){let a=o.get(e);if(null!=a){if(a<=s)return;let t=r[a].indexOf(e);t>-1&&r[a].splice(t,1),e instanceof dw&&n.delete(e.compartment)}if(o.set(e,s),Array.isArray(e))for(let t of e)i(t,s);else if(e instanceof dw){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=t.get(e.compartment)||e.inner;n.set(e.compartment,r),i(r,s)}else if(e instanceof cw)i(e.inner,e.prec);else if(e instanceof nw)r[s].push(e),e.provides&&i(e.provides,s);else if(e instanceof Zb)r[s].push(e),e.facet.extensions&&i(e.facet.extensions,iw);else{let t=e.extension;if(!t)throw new Error("Unrecognized extension value in extension set (".concat(e,"). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));i(t,s)}}return i(e,iw),r.reduce(((e,t)=>e.concat(t)))}(e,t,i))d instanceof nw?r.push(d):(o[d.facet.id]||(o[d.facet.id]=[])).push(d);let s=Object.create(null),a=[],l=[];for(let d of r)s[d.id]=l.length<<1,l.push((e=>d.slot(e)));let c=null===n||void 0===n?void 0:n.config.facets;for(let d in o){let e=o[d],t=e[0].facet,r=c&&c[d]||[];if(e.every((e=>0==e.type)))if(s[t.id]=a.length<<1|1,Gb(r,e))a.push(n.facet(t));else{let r=t.combine(e.map((e=>e.value)));a.push(n&&t.compare(r,n.facet(t))?n.facet(t):r)}else{for(let t of e)0==t.type?(s[t.id]=a.length<<1|1,a.push(t.value)):(s[t.id]=l.length<<1,l.push((e=>t.dynamicSlot(e))));s[t.id]=l.length<<1,l.push((n=>ew(n,t,e)))}}let u=l.map((e=>e(s)));return new hw(e,i,u,s,a,o)}}function fw(e,t){if(1&t)return 2;let n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;let o=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|o}function pw(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const mw=Xb.define(),gw=Xb.define({combine:e=>e.some((e=>e)),static:!0}),vw=Xb.define({combine:e=>e.length?e[0]:void 0,static:!0}),yw=Xb.define(),bw=Xb.define(),ww=Xb.define(),xw=Xb.define({combine:e=>!!e.length&&e[0]});class Sw{constructor(e,t){this.type=e,this.value=t}static define(){return new kw}}class kw{of(e){return new Sw(this,e)}}class Cw{constructor(e){this.map=e}of(e){return new _w(this,e)}}class _w{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new _w(this.type,t)}is(e){return this.type==e}static define(){return new Cw((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let e=r.map(t);e&&n.push(e)}return n}}_w.reconfigure=_w.define(),_w.appendConfig=_w.define();class Ew{constructor(e,t,n,r,o,i){this.startState=e,this.changes=t,this.selection=n,this.effects=r,this.annotations=o,this.scrollIntoView=i,this._doc=null,this._state=null,n&&Yb(n,t.newLength),o.some((e=>e.type==Ew.time))||(this.annotations=o.concat(Ew.time.of(Date.now())))}static create(e,t,n,r,o,i){return new Ew(e,t,n,r,o,i)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Ew.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function Aw(e,t){let n=[];for(let r=0,o=0;;){let i,s;if(r<e.length&&(o==t.length||t[o]>=e[r]))i=e[r++],s=e[r++];else{if(!(o<t.length))return n;i=t[o++],s=t[o++]}!n.length||n[n.length-1]<i?n.push(i,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function Mw(e,t,n){var r;let o,i,s;return n?(o=t.changes,i=Bb.empty(t.changes.length),s=e.changes.compose(t.changes)):(o=t.changes.map(e.changes),i=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(o)),{changes:s,selection:t.selection?t.selection.map(i):null===(r=e.selection)||void 0===r?void 0:r.map(o),effects:_w.mapEffects(e.effects,o).concat(_w.mapEffects(t.effects,i)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function Tw(e,t,n){let r=t.selection,o=Nw(t.annotations);return t.userEvent&&(o=o.concat(Ew.userEvent.of(t.userEvent))),{changes:t.changes instanceof Bb?t.changes:Bb.of(t.changes||[],n,e.facet(vw)),selection:r&&(r instanceof Kb?r:Kb.single(r.anchor,r.head)),effects:Nw(t.effects),annotations:o,scrollIntoView:!!t.scrollIntoView}}function Pw(e,t,n){let r=Tw(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let i=1;i<t.length;i++){!1===t[i].filter&&(n=!1);let o=!!t[i].sequential;r=Mw(r,Tw(e,t[i],o?r.changes.newLength:e.doc.length),o)}let o=Ew.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){let t=e.startState,n=t.facet(ww),r=e;for(let o=n.length-1;o>=0;o--){let i=n[o](e);i&&Object.keys(i).length&&(r=Mw(r,Tw(t,i,e.changes.newLength),!0))}return r==e?e:Ew.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;for(let o of t.facet(yw)){let t=o(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:Aw(n,t))}if(!0!==n){let r,o;if(!1===n)o=e.changes.invertedDesc,r=Bb.empty(t.doc.length);else{let t=e.changes.filter(n);r=t.changes,o=t.filtered.mapDesc(t.changes).invertedDesc}e=Ew.create(t,r,e.selection&&e.selection.map(o),_w.mapEffects(e.effects,o),e.annotations,e.scrollIntoView)}let r=t.facet(bw);for(let o=r.length-1;o>=0;o--){let n=r[o](e);e=n instanceof Ew?n:Array.isArray(n)&&1==n.length&&n[0]instanceof Ew?n[0]:Pw(t,Nw(n),!1)}return e}(o):o)}Ew.time=Sw.define(),Ew.userEvent=Sw.define(),Ew.addToHistory=Sw.define(),Ew.remote=Sw.define();const Ow=[];function Nw(e){return null==e?Ow:Array.isArray(e)?e:[e]}var Dw=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(Dw||(Dw={}));const Rw=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Iw;try{Iw=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(GG){}function zw(e){return t=>{if(!/\S/.test(t))return Dw.Space;if(function(e){if(Iw)return Iw.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||Rw.test(n)))return!0}return!1}(t))return Dw.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return Dw.Word;return Dw.Other}}class Lw{constructor(e,t,n,r,o,i){this.config=e,this.doc=t,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=o,i&&(i._state=this);for(let s=0;s<this.config.dynamicSlots.length;s++)fw(this,s<<1);this.computeSlot=null}field(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.config.address[e.id];if(null!=n)return fw(this,n),pw(this,n);if(t)throw new RangeError("Field is not present in this state")}update(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Pw(this,t,!0)}applyTransaction(e){let t,n=this.config,{base:r,compartments:o}=n;for(let s of e.effects)s.is(uw.reconfigure)?(n&&(o=new Map,n.compartments.forEach(((e,t)=>o.set(t,e))),n=null),o.set(s.value.compartment,s.value.extension)):s.is(_w.reconfigure)?(n=null,r=s.value):s.is(_w.appendConfig)&&(n=null,r=Nw(r).concat(s.value));if(n)t=e.startState.values.slice();else{n=hw.resolve(r,o,this);let e=new Lw(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null);t=e.values}let i=e.startState.facet(gw)?e.newSelection:e.newSelection.asSingle();new Lw(n,e.newDoc,i,t,((t,n)=>n.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:Kb.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),o=[n.range],i=Nw(n.effects);for(let s=1;s<t.ranges.length;s++){let n=e(t.ranges[s]),a=this.changes(n.changes),l=a.map(r);for(let e=0;e<s;e++)o[e]=o[e].map(l);let c=r.mapDesc(a,!0);o.push(n.range.map(c)),r=r.compose(l),i=_w.mapEffects(i,l).concat(_w.mapEffects(Nw(n.effects),c))}return{changes:r,selection:Kb.create(o,t.mainIndex),effects:i}}changes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e instanceof Bb?e:Bb.of(e,this.doc.length,this.facet(Lw.lineSeparator))}toText(e){return fb.of(e.split(this.facet(Lw.lineSeparator)||Ib))}sliceDoc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.doc.length;return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(fw(this,t),pw(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof nw&&null!=this.config.address[r.id]&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let o in n)if(Object.prototype.hasOwnProperty.call(e,o)){let t=n[o],i=e[o];r.push(t.init((e=>t.spec.fromJSON(i,e))))}return Lw.create({doc:e.doc,selection:Kb.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=hw.resolve(e.extensions||[],new Map),n=e.doc instanceof fb?e.doc:fb.of((e.doc||"").split(t.staticFacet(Lw.lineSeparator)||Ib)),r=e.selection?e.selection instanceof Kb?e.selection:Kb.single(e.selection.anchor,e.selection.head):Kb.single(0);return Yb(r,n.length),t.staticFacet(gw)||(r=r.asSingle()),new Lw(t,n,r,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(Lw.tabSize)}get lineBreak(){return this.facet(Lw.lineSeparator)||"\n"}get readOnly(){return this.facet(xw)}phrase(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let o of this.facet(Lw.phrases))if(Object.prototype.hasOwnProperty.call(o,e)){e=o[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,((e,t)=>{if("$"==t)return"$";let r=+(t||1);return!r||r>n.length?e:n[r-1]}))),e}languageDataAt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=[];for(let o of this.facet(mw))for(let i of o(this,t,n))Object.prototype.hasOwnProperty.call(i,e)&&r.push(i[e]);return r}charCategorizer(e){return zw(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:r}=this.doc.lineAt(e),o=this.charCategorizer(e),i=e-n,s=e-n;for(;i>0;){let e=Ab(t,i,!1);if(o(t.slice(e,i))!=Dw.Word)break;i=e}for(;s<r;){let e=Ab(t,s);if(o(t.slice(s,e))!=Dw.Word)break;s=e}return i==s?null:Kb.range(i+n,s+n)}}function Bw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};for(let o of e)for(let e of Object.keys(o)){let t=o[e],i=r[e];if(void 0===i)r[e]=t;else if(i===t||void 0===t);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);r[e]=n[e](i,t)}}for(let o in t)void 0===r[o]&&(r[o]=t[o]);return r}Lw.allowMultipleSelections=gw,Lw.tabSize=Xb.define({combine:e=>e.length?e[0]:4}),Lw.lineSeparator=vw,Lw.readOnly=xw,Lw.phrases=Xb.define({compare(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every((n=>e[n]==t[n]))}}),Lw.languageData=mw,Lw.changeFilter=yw,Lw.transactionFilter=bw,Lw.transactionExtender=ww,uw.reconfigure=_w.define();class jw{eq(e){return this==e}range(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Fw.create(e,t,this)}}jw.prototype.startSide=jw.prototype.endSide=0,jw.prototype.point=!1,jw.prototype.mapMode=zb.TrackDel;class Fw{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new Fw(e,t,n)}}function Vw(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Ww{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=n?this.to:this.from;for(let i=r,s=o.length;;){if(i==s)return i;let r=i+s>>1,a=o[r]-e||(n?this.value[r].endSide:this.value[r].startSide)-t;if(r==i)return a>=0?i:s;a>=0?s=r:i=r+1}}between(e,t,n,r){for(let o=this.findIndex(t,-1e9,!0),i=this.findIndex(n,1e9,!1,o);o<i;o++)if(!1===r(this.from[o]+e,this.to[o]+e,this.value[o]))return!1}map(e,t){let n=[],r=[],o=[],i=-1,s=-1;for(let a=0;a<this.value.length;a++){let l,c,u=this.value[a],d=this.from[a]+e,h=this.to[a]+e;if(d==h){let e=t.mapPos(d,u.startSide,u.mapMode);if(null==e)continue;if(l=c=e,u.startSide!=u.endSide&&(c=t.mapPos(d,u.endSide),c<l))continue}else if(l=t.mapPos(d,u.startSide),c=t.mapPos(h,u.endSide),l>c||l==c&&u.startSide>0&&u.endSide<=0)continue;(c-l||u.endSide-u.startSide)<0||(i<0&&(i=l),u.point&&(s=Math.max(s,c-l)),n.push(u),r.push(l-i),o.push(c-i))}return{mapped:n.length?new Ww(r,o,n,s):null,pos:i}}}class Hw{constructor(e,t,n,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}static create(e,t,n,r){return new Hw(e,t,n,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:r=0,filterTo:o=this.length}=e,i=e.filter;if(0==t.length&&!i)return this;if(n&&(t=t.slice().sort(Vw)),this.isEmpty)return t.length?Hw.of(t):this;let s=new Kw(this,null,-1).goto(0),a=0,l=[],c=new Uw;for(;s.value||a<t.length;)if(a<t.length&&(s.from-t[a].from||s.startSide-t[a].value.startSide)>=0){let e=t[a++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(s.chunkIndex)<t[a].from)&&(!i||r>this.chunkEnd(s.chunkIndex)||o<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!i||r>s.to||o<s.from||i(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||l.push(Fw.create(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?Hw.empty:this.nextLayer.update({add:l,filter:i,filterFrom:r,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],r=-1;for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i],a=e.touchesRange(o,o+s.length);if(!1===a)r=Math.max(r,s.maxPoint),t.push(s),n.push(e.mapPos(o));else if(!0===a){let{mapped:i,pos:a}=s.map(o,e);i&&(r=Math.max(r,i.maxPoint),t.push(i),n.push(a))}}let o=this.nextLayer.map(e);return 0==t.length?o:new Hw(n,t,o||Hw.empty,r)}between(e,t,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],i=this.chunk[r];if(t>=o&&e<=o+i.length&&!1===i.between(o,e-o,t-o,n))return}this.nextLayer.between(e,t,n)}}iter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Yw.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Yw.from(e).goto(t)}static compare(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,i=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o)),s=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o)),a=qw(i,s,n),l=new Xw(i,a,o),c=new Xw(s,a,o);n.iterGaps(((e,t,n)=>Gw(l,e,c,t,n,r))),n.empty&&0==n.length&&Gw(l,0,c,0,0,r)}static eq(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;null==r&&(r=999999999);let o=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(o.length!=i.length)return!1;if(!o.length)return!0;let s=qw(o,i),a=new Xw(o,s,0).goto(n),l=new Xw(i,s,0).goto(n);for(;;){if(a.to!=l.to||!Zw(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>r)return!0;a.next(),l.next()}}static spans(e,t,n,r){let o=new Xw(e,null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1).goto(t),i=t,s=o.openStart;for(;;){let e=Math.min(o.to,n);if(o.point){let n=o.activeForPoint(o.to),a=o.pointFrom<t?n.length+1:o.point.startSide<0?n.length:Math.min(n.length,s);r.point(i,e,o.point,n,a,o.pointRank),s=Math.min(o.openEnd(e),n.length)}else e>i&&(r.span(i,e,o.active,s),s=o.openEnd(e));if(o.to>n)return s+(o.point&&o.to>n?1:0);i=o.to,o.next()}}static of(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uw;for(let r of e instanceof Fw?[e]:t?function(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let r=e[n];if(Vw(t,r)>0)return e.slice().sort(Vw);t=r}return e}(e):e)n.add(r.from,r.to,r.value);return n.finish()}static join(e){if(!e.length)return Hw.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let r=e[n];r!=Hw.empty;r=r.nextLayer)t=new Hw(r.chunkPos,r.chunk,t,Math.max(r.maxPoint,t.maxPoint));return t}}Hw.empty=new Hw([],[],null,-1),Hw.empty.nextLayer=Hw.empty;class Uw{finishChunk(e){this.chunks.push(new Ww(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Uw)).add(e,t,n)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Hw.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=Hw.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function qw(e,t,n){let r=new Map;for(let i of e)for(let e=0;e<i.chunk.length;e++)i.chunk[e].maxPoint<=0&&r.set(i.chunk[e],i.chunkPos[e]);let o=new Set;for(let i of t)for(let e=0;e<i.chunk.length;e++){let t=r.get(i.chunk[e]);null==t||(n?n.mapPos(t):t)!=i.chunkPos[e]||(null===n||void 0===n?void 0:n.touchesRange(t,t+i.chunk[e].length))||o.add(i.chunk[e])}return o}class Kw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Yw{constructor(e){this.heap=e}static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=[];for(let o=0;o<e.length;o++)for(let i=e[o];!i.isEmpty;i=i.nextLayer)i.maxPoint>=n&&r.push(new Kw(i,t,n,o));return 1==r.length?r[0]:new Yw(r)}get startSide(){return this.value?this.value.startSide:0}goto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)$w(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)$w(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),$w(this.heap,0)}}}function $w(e,t){for(let n=e[t];;){let r=1+(t<<1);if(r>=e.length)break;let o=e[r];if(r+1<e.length&&o.compare(e[r+1])>=0&&(o=e[r+1],r++),n.compare(o)<0)break;e[r]=n,e[t]=o,t=r}}class Xw{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Yw.from(e,t,n)}goto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Qw(this.active,e),Qw(this.activeTo,e),Qw(this.activeRank,e),this.minActive=ex(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||r-this.activeTo[t])>0;)t++;Jw(this.active,t,n),Jw(this.activeTo,t,r),Jw(this.activeRank,t,o),e&&Jw(e,t,this.cursor.from),this.minActive=ex(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&Qw(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let e=this.cursor.value;if(e.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=e,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=e.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let t=n.length-1;t>=0&&n[t]<e;t--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function Gw(e,t,n,r,o,i){e.goto(t),n.goto(r);let s=r+o,a=r,l=r-t;for(;;){let t=e.to+l-n.to||e.endSide-n.endSide,r=t<0?e.to+l:n.to,o=Math.min(r,s);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&Zw(e.activeForPoint(e.to),n.activeForPoint(n.to))||i.comparePoint(a,o,e.point,n.point):o>a&&!Zw(e.active,n.active)&&i.compareRange(a,o,e.active,n.active),r>s)break;a=r,t<=0&&e.next(),t>=0&&n.next()}}function Zw(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function Qw(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function Jw(e,t,n){for(let r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=n}function ex(e,t){let n=-1,r=1e9;for(let o=0;o<t.length;o++)(t[o]-r||e[o].endSide-e[n].endSide)<0&&(n=o,r=t[o]);return n}function tx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0;for(let o=0;o<n;)9==e.charCodeAt(o)?(r+=t-r%t,o++):(r++,o=Ab(e,o));return r}function nx(e,t,n,r){for(let o=0,i=0;;){if(i>=t)return o;if(o==e.length)break;i+=9==e.charCodeAt(o)?n-i%n:1,o=Ab(e,o)}return!0===r?-1:e.length}const rx="undefined"==typeof Symbol?"__\u037c":Symbol.for("\u037c"),ox="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),ix="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class sx{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function o(e,t,i,s){let a=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return i.push(e[0]+";");for(let n in t){let s=t[n];if(/&/.test(n))o(n.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),s,i);else if(s&&"object"==typeof s){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");o(r(n),s,a,c)}else null!=s&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+s+";")}(a.length||c)&&i.push((!n||l||s?e:e.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let i in e)o(r(i),e[i],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=ix[rx]||1;return ix[rx]=e+1,"\u037c"+e.toString(36)}static mount(e,t,n){let r=e[ox],o=n&&n.nonce;r?o&&r.setNonce(o):r=new lx(e,o),r.mount(Array.isArray(t)?t:[t],e)}}let ax=new Map;class lx{constructor(e,t){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let t=ax.get(n);if(t)return e[ox]=t;this.sheet=new r.CSSStyleSheet,ax.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[ox]=this}mount(e,t){let n=this.sheet,r=0,o=0;for(let i=0;i<e.length;i++){let t=e[i],s=this.modules.indexOf(t);if(s<o&&s>-1&&(this.modules.splice(s,1),o--,s=-1),-1==s){if(this.modules.splice(o++,0,t),n)for(let e=0;e<t.rules.length;e++)n.insertRule(t.rules[e],r++)}else{for(;o<s;)r+=this.modules[o++].rules.length;r+=t.rules.length,o++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e;let n=t.head||t;this.styleTag.parentNode!=n&&n.insertBefore(this.styleTag,n.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}for(var cx={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ux={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},dx="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),hx="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),fx=0;fx<10;fx++)cx[48+fx]=cx[96+fx]=String(fx);for(fx=1;fx<=24;fx++)cx[fx+111]="F"+fx;for(fx=65;fx<=90;fx++)cx[fx]=String.fromCharCode(fx+32),ux[fx]=String.fromCharCode(fx);for(var px in cx)ux.hasOwnProperty(px)||(ux[px]=cx[px]);function mx(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function gx(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function vx(e,t){if(!t.anchorNode)return!1;try{return gx(e,t.anchorNode)}catch(GG){return!1}}function yx(e){return 3==e.nodeType?Px(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function bx(e,t,n,r){return!!n&&(xx(e,t,n,r,-1)||xx(e,t,n,r,1))}function wx(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function xx(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:Sx(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=wx(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(o<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=o<0?Sx(e):0}}}function Sx(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function kx(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function Cx(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function _x(e,t){let n=t.width/e.offsetWidth,r=t.height/e.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.width-e.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.height-e.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}class Ex{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?Sx(t):0),n,Math.min(e.focusOffset,n?Sx(n):0))}set(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}let Ax,Mx=null;function Tx(e){if(e.setActive)return e.setActive();if(Mx)return e.focus(Mx);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==Mx?{get preventScroll(){return Mx={preventScroll:!0},!0}}:void 0),!Mx){Mx=!1;for(let e=0;e<t.length;){let n=t[e++],r=t[e++],o=t[e++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=o&&(n.scrollLeft=o)}}}function Px(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=Ax||(Ax=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function Ox(e,t,n){let r={key:t,code:t,keyCode:n,which:n,cancelable:!0},o=new KeyboardEvent("keydown",r);o.synthetic=!0,e.dispatchEvent(o);let i=new KeyboardEvent("keyup",r);return i.synthetic=!0,e.dispatchEvent(i),o.defaultPrevented||i.defaultPrevented}function Nx(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function Dx(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}class Rx{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.node=e,this.offset=t,this.precise=n}static before(e,t){return new Rx(e.parentNode,wx(e),t)}static after(e,t){return new Rx(e.parentNode,wx(e)+1,t)}}const Ix=[];class zx{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(2&this.flags){let n,r=this.dom,o=null;for(let i of this.children){if(7&i.flags){if(!i.dom&&(n=o?o.nextSibling:r.firstChild)){let e=zx.get(n);(!e||!e.parent&&e.canReuseDOM(i))&&i.reuseDOM(n)}i.sync(e,t),i.flags&=-8}if(n=o?o.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&n!=i.dom&&(t.written=!0),i.dom.parentNode==r)for(;n&&n!=i.dom;)n=Lx(n);else r.insertBefore(i.dom,n);o=i.dom}for(n=o?o.nextSibling:r.firstChild,n&&t&&t.node==r&&(t.written=!0);n;)n=Lx(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let r=0==Sx(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==r&&t.firstChild!=t.lastChild&&(r=e==t.firstChild?-1:1),e=t}n=r<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!zx.get(n);)n=n.nextSibling;if(!n)return this.length;for(let r=0,o=0;;r++){let e=this.children[r];if(e.dom==n)return o;o+=e.length+e.breakAfter}}domBoundsAround(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=-1,o=-1,i=-1,s=-1;for(let a=0,l=n,c=n;a<this.children.length;a++){let n=this.children[a],u=l+n.length;if(l<e&&u>t)return n.domBoundsAround(e,t,l);if(u>=e&&-1==r&&(r=a,o=l),l>t&&n.dom.parentNode==this.dom){i=a,s=c;break}c=u,l=u+n.breakAfter}return{from:o,to:s<0?n+this.length:s,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:i<this.children.length&&i>=0?this.children[i].dom:null}}markDirty(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ix;this.markDirty();for(let r=e;r<t;r++){let e=this.children[r];e.parent==this&&n.indexOf(e)<0&&e.destroy()}this.children.splice(e,t-e,...n);for(let r=0;r<n.length;r++)n[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length;return new Bx(this.children,e,this.children.length)}childPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,r,o,i){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}function Lx(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}zx.prototype.breakAfter=0;class Bx{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function jx(e,t,n,r,o,i,s,a,l){let{children:c}=e,u=c.length?c[t]:null,d=i.length?i[i.length-1]:null,h=d?d.breakAfter:s;if(!(t==r&&u&&!s&&!h&&i.length<2&&u.merge(n,o,i.length?d:null,0==n,a,l))){if(r<c.length){let e=c[r];e&&(o<e.length||e.breakAfter&&(null===d||void 0===d?void 0:d.breakAfter))?(t==r&&(e=e.split(o),o=0),!h&&d&&e.merge(0,o,d,!0,0,l)?i[i.length-1]=e:((o||e.children.length&&!e.children[0].length)&&e.merge(0,o,null,!1,0,l),i.push(e))):(null===e||void 0===e?void 0:e.breakAfter)&&(d?d.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&i.length&&u.merge(n,u.length,i[0],!1,a,0)?u.breakAfter=i.shift().breakAfter:(n<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(n,u.length,null,!1,a,0),t++));t<r&&i.length;)if(c[r-1].become(i[i.length-1]))r--,i.pop(),l=i.length?0:a;else{if(!c[t].become(i[0]))break;t++,i.shift(),a=i.length?0:l}!i.length&&t&&r<c.length&&!c[t-1].breakAfter&&c[r].merge(0,0,c[t-1],!1,a,l)&&t--,(t<r||i.length)&&e.replaceChildren(t,r,i)}}function Fx(e,t,n,r,o,i){let s=e.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:c,off:u}=s.findPos(t,-1),d=t-n;for(let h of r)d+=h.length;e.length+=d,jx(e,c,u,a,l,r,0,o,i)}let Vx="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Wx="undefined"!=typeof document?document:{documentElement:{style:{}}};const Hx=/Edge\/(\d+)/.exec(Vx.userAgent),Ux=/MSIE \d/.test(Vx.userAgent),qx=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Vx.userAgent),Kx=!!(Ux||qx||Hx),Yx=!Kx&&/gecko\/(\d+)/i.test(Vx.userAgent),$x=!Kx&&/Chrome\/(\d+)/.exec(Vx.userAgent),Xx="webkitFontSmoothing"in Wx.documentElement.style,Gx=!Kx&&/Apple Computer/.test(Vx.vendor),Zx=Gx&&(/Mobile\/\w+/.test(Vx.userAgent)||Vx.maxTouchPoints>2);var Qx={mac:Zx||/Mac/.test(Vx.platform),windows:/Win/.test(Vx.platform),linux:/Linux|X11/.test(Vx.platform),ie:Kx,ie_version:Ux?Wx.documentMode||6:qx?+qx[1]:Hx?+Hx[1]:0,gecko:Yx,gecko_version:Yx?+(/Firefox\/(\d+)/.exec(Vx.userAgent)||[0,0])[1]:0,chrome:!!$x,chrome_version:$x?+$x[1]:0,ios:Zx,android:/Android\b/.test(Vx.userAgent),webkit:Xx,safari:Gx,webkit_version:Xx?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=Wx.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class Jx extends zx{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return!(8&this.flags||n&&(!(n instanceof Jx)||this.length-(t-e)+n.length>256||8&n.flags))&&(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Jx(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Rx(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return function(e,t,n){let r=e.nodeValue.length;t>r&&(t=r);let o=t,i=t,s=0;0==t&&n<0||t==r&&n>=0?Qx.chrome||Qx.gecko||(t?(o--,s=1):i<r&&(i++,s=-1)):n<0?o--:i<r&&i++;let a=Px(e,o,i).getClientRects();if(!a.length)return null;let l=a[(s?s<0:n>=0)?0:a.length-1];Qx.safari&&!s&&0==l.width&&(l=Array.prototype.find.call(a,(e=>e.width))||l);return s?kx(l,s<0):l||null}(this.dom,e,t)}}class eS extends zx{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(),this.mark=e,this.children=t,this.length=n;for(let r of t)r.setParent(this)}setAttrs(e){if(Nx(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,r,o,i){return(!n||!(!(n instanceof eS&&n.mark.eq(this.mark))||e&&o<=0||t<this.length&&i<=0))&&(Fx(this,e,t,n?n.children.slice():[],o-1,i-1),this.markDirty(),!0)}split(e){let t=[],n=0,r=-1,o=0;for(let s of this.children){let i=n+s.length;i>e&&t.push(n<e?s.split(e-n):s),r<0&&n>=e&&(r=o),n=i,o++}let i=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new eS(this.mark,t,i)}domAtPos(e){return rS(this,e)}coordsAt(e,t){return iS(this,e,t)}}class tS extends zx{static create(e,t,n){return new tS(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=tS.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,r,o,i){return!(n&&(!(n instanceof tS&&this.widget.compare(n.widget))||e>0&&o<=0||t<this.length&&i<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e instanceof tS&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return fb.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):fb.empty}domAtPos(e){return(this.length?0==e:this.side>0)?Rx.before(this.dom):Rx.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let r=this.dom.getClientRects(),o=null;if(!r.length)return null;let i=this.side?this.side<0:e>0;for(let s=i?r.length-1:0;o=r[s],!(e>0?0==s:s==r.length-1||o.top<o.bottom);s+=i?-1:1);return kx(o,!i)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class nS extends zx{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof nS&&e.side==this.side}split(){return new nS(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Rx.before(this.dom):Rx.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return fb.empty}get isHidden(){return!0}}function rS(e,t){let n=e.dom,{children:r}=e,o=0;for(let i=0;o<r.length;o++){let e=r[o],s=i+e.length;if(!(s==i&&e.getSide()<=0)){if(t>i&&t<s&&e.dom.parentNode==n)return e.domAtPos(t-i);if(t<=i)break;i=s}}for(let i=o;i>0;i--){let e=r[i-1];if(e.dom.parentNode==n)return e.domAtPos(e.length)}for(let i=o;i<r.length;i++){let e=r[i];if(e.dom.parentNode==n)return e.domAtPos(0)}return new Rx(n,0)}function oS(e,t,n){let r,{children:o}=e;n>0&&t instanceof eS&&o.length&&(r=o[o.length-1])instanceof eS&&r.mark.eq(t.mark)?oS(r,t.children[0],n-1):(o.push(t),t.setParent(e)),e.length+=t.length}function iS(e,t,n){let r=null,o=-1,i=null,s=-1;!function e(t,a){for(let l=0,c=0;l<t.children.length&&c<=a;l++){let u=t.children[l],d=c+u.length;d>=a&&(u.children.length?e(u,a-c):(!i||i.isHidden&&n>0)&&(d>a||c==d&&u.getSide()>0)?(i=u,s=a-c):(c<a||c==d&&u.getSide()<0&&!u.isHidden)&&(r=u,o=a-c)),c=d}}(e,t);let a=(n<0?r:i)||r||i;return a?a.coordsAt(Math.max(0,a==r?o:s),n):function(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let n=yx(t);return n[n.length-1]||null}(e)}function sS(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}Jx.prototype.children=tS.prototype.children=nS.prototype.children=Ix;const aS=Object.create(null);function lS(e,t,n){if(e==t)return!0;e||(e=aS),t||(t=aS);let r=Object.keys(e),o=Object.keys(t);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=o.length-(n&&o.indexOf(n)>-1?1:0))return!1;for(let i of r)if(i!=n&&(-1==o.indexOf(i)||e[i]!==t[i]))return!1;return!0}function cS(e,t,n){let r=!1;if(t)for(let o in t)n&&o in n||(r=!0,"style"==o?e.style.cssText="":e.removeAttribute(o));if(n)for(let o in n)t&&t[o]==n[o]||(r=!0,"style"==o?e.style.cssText=n[o]:e.setAttribute(o,n[o]));return r}function uS(e){let t=Object.create(null);for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];t[r.name]=r.value}return t}class dS extends zx{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,r,o,i){if(n){if(!(n instanceof dS))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),Fx(this,e,t,n?n.children.slice():[],o,i),!0}split(e){let t=new dS;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:n,off:r}=this.childPos(e);r&&(t.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let o=n;o<this.children.length;o++)t.append(this.children[o],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){lS(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){oS(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=sS(t,this.attrs||{})),n&&(this.attrs=sS({class:n},this.attrs||{}))}domAtPos(e){return rS(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?4&this.flags&&(Nx(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(cS(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&zx.get(r)instanceof eS;)r=r.lastChild;if(!r||!this.length||"BR"!=r.nodeName&&0==(null===(n=zx.get(r))||void 0===n?void 0:n.isEditable)&&(!Qx.ios||!this.children.some((e=>e instanceof Jx)))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e,t=0;for(let n of this.children){if(!(n instanceof Jx)||/[^ -~]/.test(n.text))return null;let r=yx(n.dom);if(1!=r.length)return null;t+=r[0].width,e=r[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(e,t){let n=iS(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:e}=this.parent.view.viewState,t=n.bottom-n.top;if(Math.abs(t-e.lineHeight)<2&&e.textHeight<t){let r=(t-e.textHeight)/2;return{top:n.top+r,bottom:n.bottom-r,left:n.left,right:n.left}}}return n}become(e){return!1}covers(){return!0}static find(e,t){for(let n=0,r=0;n<e.children.length;n++){let o=e.children[n],i=r+o.length;if(i>=t){if(o instanceof dS)return o;if(i>t)break}r=i+o.breakAfter}return null}}class hS extends zx{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,r,o,i){return!(n&&(!(n instanceof hS&&this.widget.compare(n.widget))||e>0&&o<=0||t<this.length&&i<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?Rx.before(this.dom):Rx.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new hS(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return Ix}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):fb.empty}domBoundsAround(){return null}become(e){return e instanceof hS&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t!=n&&(e<0?t<0:n>0)}}class fS{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var pS=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(pS||(pS={}));class mS extends jw{constructor(e,t,n,r){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new gS(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new yS(e,t,t,n,e.widget||null,!1)}static replace(e){let t,n,r=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{let{start:o,end:i}=bS(e,r);t=(o?r?-3e8:-1:5e8)-1,n=1+(i?r?2e8:1:-6e8)}return new yS(e,t,n,r,e.widget||null,!0)}static line(e){return new vS(e)}static set(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Hw.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}mS.none=Hw.empty;class gS extends mS{constructor(e){let{start:t,end:n}=bS(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof gS&&this.tagName==e.tagName&&(this.class||(null===(t=this.attrs)||void 0===t?void 0:t.class))==(e.class||(null===(n=e.attrs)||void 0===n?void 0:n.class))&&lS(this.attrs,e.attrs,"class")}range(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}gS.prototype.point=!1;class vS extends mS{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof vS&&this.spec.class==e.spec.class&&lS(this.spec.attributes,e.spec.attributes)}range(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}vS.prototype.mapMode=zb.TrackBefore,vS.prototype.point=!0;class yS extends mS{constructor(e,t,n,r,o,i){super(t,n,o,e),this.block=r,this.isReplace=i,this.mapMode=r?t<=0?zb.TrackBefore:zb.TrackAfter:zb.TrackDel}get type(){return this.startSide!=this.endSide?pS.WidgetRange:this.startSide<=0?pS.WidgetBefore:pS.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof yS&&(t=this.widget,n=e.widget,t==n||!!(t&&n&&t.compare(n)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,n}range(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function bS(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{inclusiveStart:n,inclusiveEnd:r}=e;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!==n&&void 0!==n?n:t,end:null!==r&&void 0!==r?r:t}}function wS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=n.length-1;o>=0&&n[o]+r>=e?n[o]=Math.max(n[o],t):n.push(e,t)}yS.prototype.point=!0;class xS{constructor(e,t,n,r){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof hS&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new dS),this.atCursorPos=!0),this.curLine}flushBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.bufferMarks;this.pendingBuffer&&(this.curLine.append(SS(new nS(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof hS||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=t,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(SS(new Jx(this.text.slice(this.textOff,this.textOff+r)),t),n),this.atCursorPos=!0,this.textOff+=r,e-=r,n=0}}span(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,n,r,o,i){if(this.disallowBlockEffectsFor[i]&&n instanceof yS){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=t-e;if(n instanceof yS)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new hS(n.widget||kS.block,s,n));else{let i=tS.create(n.widget||kS.inline,s,s?0:n.startSide),a=this.atCursorPos&&!i.isEditable&&o<=r.length&&(e<t||n.startSide>0),l=!i.isEditable&&(e<t||o>r.length||n.startSide<=0),c=this.getLine();2!=this.pendingBuffer||a||i.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),a&&(c.append(SS(new nS(1),r),o),o=r.length+Math.max(0,o-r.length)),c.append(SS(i,r),o),this.atCursorPos=l,this.pendingBuffer=l?e<t||o>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,n,r,o){let i=new xS(e,t,n,o);return i.openEnd=Hw.spans(r,t,n,i),i.openStart<0&&(i.openStart=i.openEnd),i.finish(i.openEnd),i}}function SS(e,t){for(let n of t)e=new eS(n,[e],e.length);return e}class kS extends fS{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}kS.inline=new kS("span"),kS.block=new kS("div");var CS=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(CS||(CS={}));const _S=CS.LTR,ES=CS.RTL;function AS(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const MS=AS("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),TS=AS("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),PS=Object.create(null),OS=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);PS[e]=t,PS[t]=-e}function NS(e){return e<=247?MS[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?TS[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}const DS=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class RS{get dir(){return this.level%2?ES:_S}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,r){let o=-1;for(let i=0;i<e.length;i++){let s=e[i];if(s.from<=t&&s.to>=t){if(s.level==n)return i;(o<0||(0!=r?r<0?s.from<t:s.to>t:e[o].level>s.level))&&(o=i)}}if(o<0)throw new RangeError("Index out of range");return o}}function IS(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],o=t[n];if(r.from!=o.from||r.to!=o.to||r.direction!=o.direction||!IS(r.inner,o.inner))return!1}return!0}const zS=[];function LS(e,t,n,r,o,i,s){let a=r%2?2:1;if(r%2==o%2)for(let l=t,c=0;l<n;){let t=!0,u=!1;if(c==i.length||l<i[c].from){let e=zS[l];e!=a&&(t=!1,u=16==e)}let d=t||1!=a?null:[],h=t?r:r+1,f=l;e:for(;;)if(c<i.length&&f==i[c].from){if(u)break e;let p=i[c];if(!t)for(let e=p.to,t=c+1;;){if(e==n)break e;if(!(t<i.length&&i[t].from==e)){if(zS[e]==a)break e;break}e=i[t++].to}if(c++,d)d.push(p);else{p.from>l&&s.push(new RS(l,p.from,h)),BS(e,p.direction==_S!=!(h%2)?r+1:r,o,p.inner,p.from,p.to,s),l=p.to}f=p.to}else{if(f==n||(t?zS[f]!=a:zS[f]==a))break;f++}d?LS(e,l,f,r+1,o,d,s):l<f&&s.push(new RS(l,f,h)),l=f}else for(let l=n,c=i.length;l>t;){let n=!0,u=!1;if(!c||l>i[c-1].to){let e=zS[l-1];e!=a&&(n=!1,u=16==e)}let d=n||1!=a?null:[],h=n?r:r+1,f=l;e:for(;;)if(c&&f==i[c-1].to){if(u)break e;let p=i[--c];if(!n)for(let e=p.from,n=c;;){if(e==t)break e;if(!n||i[n-1].to!=e){if(zS[e-1]==a)break e;break}e=i[--n].from}if(d)d.push(p);else{p.to<l&&s.push(new RS(p.to,l,h)),BS(e,p.direction==_S!=!(h%2)?r+1:r,o,p.inner,p.from,p.to,s),l=p.from}f=p.from}else{if(f==t||(n?zS[f-1]!=a:zS[f-1]==a))break;f--}d?LS(e,f,l,r+1,o,d,s):f<l&&s.push(new RS(f,l,h)),l=f}}function BS(e,t,n,r,o,i,s){let a=t%2?2:1;!function(e,t,n,r,o){for(let i=0;i<=r.length;i++){let s=i?r[i-1].to:t,a=i<r.length?r[i].from:n,l=i?256:o;for(let t=s,n=l,r=l;t<a;t++){let o=NS(e.charCodeAt(t));512==o?o=n:8==o&&4==r&&(o=16),zS[t]=4==o?2:o,7&o&&(r=o),n=o}for(let e=s,t=l,r=l;e<a;e++){let o=zS[e];if(128==o)e<a-1&&t==zS[e+1]&&24&t?o=zS[e]=t:zS[e]=256;else if(64==o){let o=e+1;for(;o<a&&64==zS[o];)o++;let i=e&&8==t||o<n&&8==zS[o]?1==r?1:8:256;for(let t=e;t<o;t++)zS[t]=i;e=o-1}else 8==o&&1==r&&(zS[e]=1);t=o,7&o&&(r=o)}}}(e,o,i,r,a),function(e,t,n,r,o){let i=1==o?2:1;for(let s=0,a=0,l=0;s<=r.length;s++){let c=s?r[s-1].to:t,u=s<r.length?r[s].from:n;for(let t,n,r,s=c;s<u;s++)if(n=PS[t=e.charCodeAt(s)])if(n<0){for(let e=a-3;e>=0;e-=3)if(OS[e+1]==-n){let t=OS[e+2],n=2&t?o:4&t?1&t?i:o:0;n&&(zS[s]=zS[OS[e]]=n),a=e;break}}else{if(189==OS.length)break;OS[a++]=s,OS[a++]=t,OS[a++]=l}else if(2==(r=zS[s])||1==r){let e=r==o;l=e?0:1;for(let t=a-3;t>=0;t-=3){let n=OS[t+2];if(2&n)break;if(e)OS[t+2]|=2;else{if(4&n)break;OS[t+2]|=4}}}}}(e,o,i,r,a),function(e,t,n,r){for(let o=0,i=r;o<=n.length;o++){let s=o?n[o-1].to:e,a=o<n.length?n[o].from:t;for(let l=s;l<a;){let s=zS[l];if(256==s){let s=l+1;for(;;)if(s==a){if(o==n.length)break;s=n[o++].to,a=o<n.length?n[o].from:t}else{if(256!=zS[s])break;s++}let c=1==i,u=c==(1==(s<t?zS[s]:r))?c?1:2:r;for(let t=s,r=o,i=r?n[r-1].to:e;t>l;)t==i&&(t=n[--r].from,i=r?n[r-1].to:e),zS[--t]=u;l=s}else i=s,l++}}}(o,i,r,a),LS(e,o,i,t,n,r,s)}function jS(e,t,n){if(!e)return[new RS(0,0,t==ES?1:0)];if(t==_S&&!n.length&&!DS.test(e))return FS(e.length);if(n.length)for(;e.length>zS.length;)zS[zS.length]=256;let r=[],o=t==_S?0:1;return BS(e,o,o,n,0,e.length,r),r}function FS(e){return[new RS(0,e,0)]}let VS="";function WS(e,t,n,r,o){var i;let s=r.head-e.from,a=RS.find(t,s,null!==(i=r.bidiLevel)&&void 0!==i?i:-1,r.assoc),l=t[a],c=l.side(o,n);if(s==c){let e=a+=o?1:-1;if(e<0||e>=t.length)return null;l=t[a=e],s=l.side(!o,n),c=l.side(o,n)}let u=Ab(e.text,s,l.forward(o,n));(u<l.from||u>l.to)&&(u=c),VS=e.text.slice(Math.min(s,u),Math.max(s,u));let d=a==(o?t.length-1:0)?null:t[a+(o?1:-1)];return d&&u==c&&d.level+(o?0:1)<l.level?Kb.cursor(d.side(!o,n)+e.from,d.forward(o,n)?1:-1,d.level):Kb.cursor(u+e.from,l.forward(o,n)?-1:1,l.level)}function HS(e,t,n){for(let r=t;r<n;r++){let t=NS(e.charCodeAt(r));if(1==t)return _S;if(2==t||4==t)return ES}return _S}const US=Xb.define(),qS=Xb.define(),KS=Xb.define(),YS=Xb.define(),$S=Xb.define(),XS=Xb.define(),GS=Xb.define(),ZS=Xb.define({combine:e=>e.some((e=>e))}),QS=Xb.define({combine:e=>e.some((e=>e))});class JS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nearest",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.range=e,this.y=t,this.x=n,this.yMargin=r,this.xMargin=o,this.isSnapshot=i}map(e){return e.empty?this:new JS(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new JS(Kb.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const ek=_w.define({map:(e,t)=>e.map(t)});function tk(e,t,n){let r=e.facet(YS);r.length?r[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const nk=Xb.define({combine:e=>!e.length||e[0]});let rk=0;const ok=Xb.define();class ik{constructor(e,t,n,r,o){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=r,this.extension=o(this)}static define(e,t){const{eventHandlers:n,eventObservers:r,provide:o,decorations:i}=t||{};return new ik(rk++,e,n,r,(e=>{let t=[ok.of(e)];return i&&t.push(ck.of((t=>{let n=t.plugin(e);return n?i(n):mS.none}))),o&&t.push(o(e)),t}))}static fromClass(e,t){return ik.define((t=>new e(t)),t)}}class sk{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(XG){if(tk(e.state,XG,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(GG){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(XG){tk(e.state,XG,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(XG){tk(e.state,XG,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const ak=Xb.define(),lk=Xb.define(),ck=Xb.define(),uk=Xb.define(),dk=Xb.define(),hk=Xb.define();function fk(e,t){let n=e.state.facet(hk);if(!n.length)return n;let r=n.map((t=>t instanceof Function?t(e):t)),o=[];return Hw.spans(r,t.from,t.to,{point(){},span(e,n,r,i){let s=e-t.from,a=n-t.from,l=o;for(let o=r.length-1;o>=0;o--,i--){let e,n=r[o].spec.bidiIsolate;if(null==n&&(n=HS(t.text,s,a)),i>0&&l.length&&(e=l[l.length-1]).to==s&&e.direction==n)e.to=a,l=e.inner;else{let e={from:s,to:a,direction:n,inner:[]};l.push(e),l=e.inner}}}}),o}const pk=Xb.define();function mk(e){let t=0,n=0,r=0,o=0;for(let i of e.state.facet(pk)){let s=i(e);s&&(null!=s.left&&(t=Math.max(t,s.left)),null!=s.right&&(n=Math.max(n,s.right)),null!=s.top&&(r=Math.max(r,s.top)),null!=s.bottom&&(o=Math.max(o,s.bottom)))}return{left:t,right:n,top:r,bottom:o}}const gk=Xb.define();class vk{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}join(e){return new vk(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let r=0,o=0,i=0,s=0;;r++){let a=r==e.length?null:e[r],l=i-s,c=a?a.fromB:1e9;for(;o<t.length&&t[o]<c;){let e=t[o],r=t[o+1],i=Math.max(s,e),a=Math.min(c,r);if(i<=a&&new vk(i+l,a+l,i,a).addToSet(n),r>c)break;o+=2}if(!a)return n;new vk(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),i=a.toA,s=a.toB}}}class yk{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Bb.empty(this.startState.doc.length);for(let o of n)this.changes=this.changes.compose(o.changes);let r=[];this.changes.iterChangedRanges(((e,t,n,o)=>r.push(new vk(e,t,n,o)))),this.changedRanges=r}static create(e,t,n){return new yk(e,t,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class bk extends zx{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.compositionBarrier=mS.none,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new dS],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new vk(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every((e=>{let{fromA:t,toA:n}=e;return n<this.minWidthFrom||t>this.minWidthTo}))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=-1;this.view.inputState.composing>=0&&((null===(t=this.domChanged)||void 0===t?void 0:t.newSel)?r=this.domChanged.newSel.head:function(e,t){let n=!1;t&&e.iterChangedRanges(((e,r)=>{e<t.to&&r>t.from&&(n=!0)}));return n}(e.changes,this.hasComposition)||e.selectionSet||(r=e.state.selection.main.head));let o=r>-1?function(e,t,n){let r=Sk(e,n);if(!r)return null;let{node:o,from:i,to:s}=r,a=o.nodeValue;if(/[\n\r]/.test(a))return null;if(e.state.doc.sliceString(r.from,r.to)!=a)return null;let l=t.invertedDesc,c=new vk(l.mapPos(i),l.mapPos(s),i,s),u=[];for(let d=o.parentNode;;d=d.parentNode){let t=zx.get(d);if(t instanceof eS)u.push({node:d,deco:t.mark});else{if(t instanceof dS||"DIV"==d.nodeName&&d.parentNode==e.contentDOM)return{range:c,text:o,marks:u,line:d};if(d==e.contentDOM)return null;u.push({node:d,deco:new gS({inclusive:!0,attributes:uS(d),tagName:d.tagName.toLowerCase()})})}}}(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:t,to:r}=this.hasComposition;n=new vk(t,r,e.changes.mapPos(t,-1),e.changes.mapPos(r,1)).addToSet(n.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(Qx.ie||Qx.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=function(e,t,n){let r=new Ck;return Hw.compare(e,t,n,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return n=vk.extendWithRanges(n,i),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:r}=this.view;r.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=Qx.chrome||Qx.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,e),this.flags&=-8,e&&(e.written||r.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((e=>e.flags&=-9));let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let i of this.children)i instanceof hS&&i.widget instanceof xk&&o.push(i.dom);r.updateGaps(o)}updateChildren(e,t,n){let r=n?n.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let i=r.length-1;;i--){let e=i>=0?r[i]:null;if(!e)break;let t,s,a,l,{fromA:c,toA:u,fromB:d,toB:h}=e;if(n&&n.range.fromB<h&&n.range.toB>d){let e=xS.build(this.view.state.doc,d,n.range.fromB,this.decorations,this.dynamicDecorationMap),r=xS.build(this.view.state.doc,n.range.toB,h,this.decorations,this.dynamicDecorationMap);s=e.breakAtStart,a=e.openStart,l=r.openEnd;let o=this.compositionView(n);r.breakAtStart?o.breakAfter=1:r.content.length&&o.merge(o.length,o.length,r.content[0],!1,r.openStart,0)&&(o.breakAfter=r.content[0].breakAfter,r.content.shift()),e.content.length&&o.merge(0,0,e.content[e.content.length-1],!0,0,e.openEnd)&&e.content.pop(),t=e.content.concat(o).concat(r.content)}else({content:t,breakAtStart:s,openStart:a,openEnd:l}=xS.build(this.view.state.doc,d,h,this.decorations,this.dynamicDecorationMap));let{i:f,off:p}=o.findPos(u,1),{i:m,off:g}=o.findPos(c,-1);jx(this,m,g,f,p,t,s,a,l)}n&&this.fixCompositionDOM(n)}compositionView(e){let t=new Jx(e.text.nodeValue);t.flags|=8;for(let{deco:r}of e.marks)t=new eS(r,[t],t.length);let n=new dS;return n.append(t,0),n}fixCompositionDOM(e){let t=(e,t)=>{t.flags|=8|(t.children.some((e=>7&e.flags))?1:0),this.markedForComposition.add(t);let n=zx.get(e);n&&n!=t&&(n.dom=null),t.setDOM(e)},n=this.childPos(e.range.fromB,1),r=this.children[n.i];t(e.line,r);for(let o=e.marks.length-1;o>=-1;o--)n=r.childPos(n.off,1),r=r.children[n.i],t(o>=0?e.marks[o].node:e.text,r)}updateSelection(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let t=this.view.root.activeElement,n=t==this.dom,r=!n&&vx(this.dom,this.view.observer.selectionRange)&&!(t&&this.dom.contains(t));if(!(n||e||r))return;let o=this.forceSelection;this.forceSelection=!1;let i=this.view.state.selection.main,s=this.moveToLine(this.domAtPos(i.anchor)),a=i.empty?s:this.moveToLine(this.domAtPos(i.head));if(Qx.gecko&&i.empty&&!this.hasComposition&&(1==(l=s).node.nodeType&&l.node.firstChild&&(0==l.offset||"false"==l.node.childNodes[l.offset-1].contentEditable)&&(l.offset==l.node.childNodes.length||"false"==l.node.childNodes[l.offset].contentEditable))){let e=document.createTextNode("");this.view.observer.ignore((()=>s.node.insertBefore(e,s.node.childNodes[s.offset]||null))),s=a=new Rx(e,0),o=!0}var l;let c=this.view.observer.selectionRange;!o&&c.focusNode&&(bx(s.node,s.offset,c.anchorNode,c.anchorOffset)&&bx(a.node,a.offset,c.focusNode,c.focusOffset)||this.suppressWidgetCursorChange(c,i))||(this.view.observer.ignore((()=>{Qx.android&&Qx.chrome&&this.dom.contains(c.focusNode)&&function(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=mx(this.view.root);if(e)if(i.empty){if(Qx.gecko){let e=function(e,t){return 1!=e.nodeType?0:(t&&"false"==e.childNodes[t-1].contentEditable?1:0)|(t<e.childNodes.length&&"false"==e.childNodes[t].contentEditable?2:0)}(s.node,s.offset);if(e&&3!=e){let t=kk(s.node,s.offset,1==e?1:-1);t&&(s=new Rx(t.node,t.offset))}}e.collapse(s.node,s.offset),null!=i.bidiLevel&&void 0!==e.caretBidiLevel&&(e.caretBidiLevel=i.bidiLevel)}else if(e.extend){e.collapse(s.node,s.offset);try{e.extend(a.node,a.offset)}catch(GG){}}else{let t=document.createRange();i.anchor>i.head&&([s,a]=[a,s]),t.setEnd(a.node,a.offset),t.setStart(s.node,s.offset),e.removeAllRanges(),e.addRange(t)}else;r&&this.view.root.activeElement==this.dom&&(this.dom.blur(),t&&t.focus())})),this.view.observer.setSelectionRange(s,a)),this.impreciseAnchor=s.precise?null:new Rx(c.anchorNode,c.anchorOffset),this.impreciseHead=a.precise?null:new Rx(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&!this.compositionBarrier.size&&bx(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=mx(e.root),{anchorNode:r,anchorOffset:o}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let i=dS.find(this,t.head);if(!i)return;let s=i.posAtStart;if(t.head==s||t.head==s+i.length)return;let a=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!a||!l||a.bottom>l.top)return;let c=this.domAtPos(t.head+t.assoc);n.collapse(c.node,c.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&n.collapse(r,o)}moveToLine(e){let t,n=this.dom;if(e.node!=n)return e;for(let r=e.offset;!t&&r<n.childNodes.length;r++){let e=zx.get(n.childNodes[r]);e instanceof dS&&(t=e.domAtPos(0))}for(let r=e.offset-1;!t&&r>=0;r--){let e=zx.get(n.childNodes[r]);e instanceof dS&&(t=e.domAtPos(e.length))}return t?new Rx(t.node,t.offset,!0):e}nearest(e){for(let t=e;t;){let e=zx.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(n<e.length||e instanceof dS)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,r=0;for(let o=this.length,i=this.children.length-1;i>=0;i--){let s=this.children[i],a=o-s.breakAfter,l=a-s.length;if(a<e)break;l<=e&&(l<e||s.covers(-1))&&(a>e||s.covers(1))&&(!n||s instanceof dS&&!(n instanceof dS&&t>=0))&&(n=s,r=l),o=l}return n?n.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),r=this.children[t];if(!(r instanceof dS))return null;for(;r.children.length;){let{i:e,off:t}=r.childPos(n,1);for(;;e++){if(e==r.children.length)return null;if((r=r.children[e]).length)break}n=t}if(!(r instanceof Jx))return null;let o=Ab(r.text,n);if(o==n)return null;let i=Px(r.dom,n,o).getClientRects();for(let s=0;s<i.length;s++){let e=i[s];if(s==i.length-1||e.top<e.bottom&&e.left<e.right)return e}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:r}=e,o=this.view.contentDOM.clientWidth,i=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,a=this.view.textDirection==CS.LTR;for(let l=0,c=0;c<this.children.length;c++){let e=this.children[c],u=l+e.length;if(u>r)break;if(l>=n){let n=e.dom.getBoundingClientRect();if(t.push(n.height),i){let t=e.dom.lastChild,r=t?yx(t):[];if(r.length){let e=r[r.length-1],t=a?e.right-n.left:n.right-e.left;t>s&&(s=t,this.minWidth=o,this.minWidthFrom=l,this.minWidthTo=u)}}}l=u+e.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?CS.RTL:CS.LTR}measureTextSize(){for(let o of this.children)if(o instanceof dS){let e=o.measureTextSize();if(e)return e}let e,t,n,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(r);let o=yx(r.firstChild)[0];e=r.getBoundingClientRect().height,t=o?o.width/27:7,n=o?o.height:e,r.remove()})),{lineHeight:e,charWidth:t,textHeight:n}}childCursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length,t=this.children.length;return t&&(e-=this.children[--t].length),new Bx(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],i=o?o.from-1:this.length;if(i>n){let r=(t.lineBlockAt(i).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(mS.replace({widget:new xk(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,i))}if(!o)break;n=o.to+1}return mS.set(e)}updateDeco(){let e=1,t=this.view.state.facet(ck).map((t=>(this.dynamicDecorationMap[e++]="function"==typeof t)?t(this.view):t)),n=!1,r=this.view.state.facet(uk).map(((e,t)=>{let r="function"==typeof e;return r&&(n=!0),r?e(this.view):e}));for(r.length&&(this.dynamicDecorationMap[e++]=n,t.push(Hw.join(r))),this.decorations=[this.compositionBarrier,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}maybeCreateCompositionBarrier(){let{main:{head:e,empty:t}}=this.view.state.selection;if(!t)return!1;let n=null;for(let r of this.decorations)if(r.between(e,e,((t,r,o)=>{o.point?n=!1:o.endSide<0&&t<e&&r==e&&(n=!0)})),!1===n)break;return this.compositionBarrier=n?mS.set(wk.range(e)):mS.none,!!n}clearCompositionBarrier(){this.compositionBarrier=mS.none}scrollIntoView(e){if(e.isSnapshot){let t=this.view.viewState.lineBlockAt(e.range.head);return this.view.scrollDOM.scrollTop=t.top-e.yMargin,void(this.view.scrollDOM.scrollLeft=e.xMargin)}let t,{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!r)return;!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,t.left),top:Math.min(r.top,t.top),right:Math.max(r.right,t.right),bottom:Math.max(r.bottom,t.bottom)});let o=mk(this.view),i={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:s,offsetHeight:a}=this.view.scrollDOM;!function(e,t,n,r,o,i,s,a){let l=e.ownerDocument,c=l.defaultView||window;for(let u=e,d=!1;u&&!d;)if(1==u.nodeType){let e,h=u==l.body,f=1,p=1;if(h)e=Cx(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let t=u.getBoundingClientRect();({scaleX:f,scaleY:p}=_x(u,t)),e={left:t.left,right:t.left+u.clientWidth*f,top:t.top,bottom:t.top+u.clientHeight*p}}let m=0,g=0;if("nearest"==o)t.top<e.top?(g=-(e.top-t.top+s),n>0&&t.bottom>e.bottom+g&&(g=t.bottom-e.bottom+g+s)):t.bottom>e.bottom&&(g=t.bottom-e.bottom+s,n<0&&t.top-g<e.top&&(g=-(e.top+g-t.top+s)));else{let r=t.bottom-t.top,i=e.bottom-e.top;g=("center"==o&&r<=i?t.top+r/2-i/2:"start"==o||"center"==o&&n<0?t.top-s:t.bottom-i+s)-e.top}if("nearest"==r?t.left<e.left?(m=-(e.left-t.left+i),n>0&&t.right>e.right+m&&(m=t.right-e.right+m+i)):t.right>e.right&&(m=t.right-e.right+i,n<0&&t.left<e.left+m&&(m=-(e.left+m-t.left+i))):m=("center"==r?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==r==a?t.left-i:t.right-(e.right-e.left)+i)-e.left,m||g)if(h)c.scrollBy(m,g);else{let e=0,n=0;if(g){let e=u.scrollTop;u.scrollTop+=g/p,n=(u.scrollTop-e)*p}if(m){let t=u.scrollLeft;u.scrollLeft+=m/f,e=(u.scrollLeft-t)*f}t={left:t.left-e,top:t.top-n,right:t.right-e,bottom:t.bottom-n},e&&Math.abs(e-m)<1&&(r="nearest"),n&&Math.abs(n-g)<1&&(o="nearest")}if(h)break;u=u.assignedSlot||u.parentNode}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,i,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,s),-s),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==CS.LTR)}}const wk=mS.widget({side:-1,widget:kS.inline});class xk extends fS{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function Sk(e,t){let n=e.observer.selectionRange,r=n.focusNode&&kk(n.focusNode,n.focusOffset,0);if(!r)return null;let o=t-r.offset;return{from:o,to:o+r.node.nodeValue.length,node:r.node}}function kk(e,t,n){if(n<=0)for(let r=e,o=t;;){if(3==r.nodeType)return{node:r,offset:o};if(!(1==r.nodeType&&o>0))break;r=r.childNodes[o-1],o=Sx(r)}if(n>=0)for(let r=e,o=t;;){if(3==r.nodeType)return{node:r,offset:o};if(!(1==r.nodeType&&o<r.childNodes.length&&n>=0))break;r=r.childNodes[o],o=0}return null}let Ck=class{constructor(){this.changes=[]}compareRange(e,t){wS(e,t,this.changes)}comparePoint(e,t){wS(e,t,this.changes)}};function _k(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function Ek(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function Ak(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function Mk(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function Tk(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function Pk(e,t,n){let r,o,i,s,a,l,c,u,d=!1;for(let f=e.firstChild;f;f=f.nextSibling){let e=yx(f);for(let h=0;h<e.length;h++){let p=e[h];o&&Ak(o,p)&&(p=Mk(Tk(p,o.bottom),o.top));let m=_k(t,p),g=Ek(n,p);if(0==m&&0==g)return 3==f.nodeType?Ok(f,t,n):Pk(f,t,n);if(!r||s>g||s==g&&i>m){r=f,o=p,i=m,s=g;let a=g?n<p.top?-1:1:m?t<p.left?-1:1:0;d=!a||(a>0?h<e.length-1:h>0)}0==m?n>p.bottom&&(!c||c.bottom<p.bottom)?(a=f,c=p):n<p.top&&(!u||u.top>p.top)&&(l=f,u=p):c&&Ak(c,p)?c=Tk(c,p.bottom):u&&Ak(u,p)&&(u=Mk(u,p.top))}}if(c&&c.bottom>=n?(r=a,o=c):u&&u.top<=n&&(r=l,o=u),!r)return{node:e,offset:0};let h=Math.max(o.left,Math.min(o.right,t));return 3==r.nodeType?Ok(r,h,n):d&&"false"!=r.contentEditable?Pk(r,h,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(o.left+o.right)/2?1:0)}}function Ok(e,t,n){let r=e.nodeValue.length,o=-1,i=1e9,s=0;for(let a=0;a<r;a++){let r=Px(e,a,a+1).getClientRects();for(let l=0;l<r.length;l++){let c=r[l];if(c.top==c.bottom)continue;s||(s=t-c.left);let u=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&u<i){let n=t>=(c.left+c.right)/2,r=n;if(Qx.chrome||Qx.gecko){Px(e,a).getBoundingClientRect().left==c.right&&(r=!n)}if(u<=0)return{node:e,offset:a+(r?1:0)};o=a+(r?1:0),i=u}}}return{node:e,offset:o>-1?o:s>0?e.nodeValue.length:0}}function Nk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;var o,i;let s,a=e.contentDOM.getBoundingClientRect(),l=a.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,{x:u,y:d}=t,h=d-l;if(h<0)return 0;if(h>c)return e.state.doc.length;for(let w=e.viewState.heightOracle.textHeight/2,x=!1;s=e.elementAtHeight(h),s.type!=pS.Text;)for(;h=r>0?s.bottom+w:s.top-w,!(h>=0&&h<=c);){if(x)return n?null:0;x=!0,r=-r}d=l+h;let f=s.from;if(f<e.viewport.from)return 0==e.viewport.from?0:n?null:Dk(e,a,s,u,d);if(f>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:Dk(e,a,s,u,d);let p=e.dom.ownerDocument,m=e.root.elementFromPoint?e.root:p,g=m.elementFromPoint(u,d);g&&!e.contentDOM.contains(g)&&(g=null),g||(u=Math.max(a.left+1,Math.min(a.right-1,u)),g=m.elementFromPoint(u,d),g&&!e.contentDOM.contains(g)&&(g=null));let v,y=-1;if(g&&0!=(null===(o=e.docView.nearest(g))||void 0===o?void 0:o.isEditable))if(p.caretPositionFromPoint){let e=p.caretPositionFromPoint(u,d);e&&({offsetNode:v,offset:y}=e)}else if(p.caretRangeFromPoint){let t=p.caretRangeFromPoint(u,d);t&&(({startContainer:v,startOffset:y}=t),(!e.contentDOM.contains(v)||Qx.safari&&function(e,t,n){let r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(let o=e.nextSibling;o;o=o.nextSibling)if(1!=o.nodeType||"BR"!=o.nodeName)return!1;return Px(e,r-1,r).getBoundingClientRect().left>n}(v,y,u)||Qx.chrome&&function(e,t,n){if(0!=t)return!1;for(let o=e;;){let e=o.parentNode;if(!e||1!=e.nodeType||e.firstChild!=o)return!1;if(e.classList.contains("cm-line"))break;o=e}let r=1==e.nodeType?e.getBoundingClientRect():Px(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}(v,y,u))&&(v=void 0))}if(!v||!e.docView.dom.contains(v)){let t=dS.find(e.docView,f);if(!t)return h>s.top+s.height/2?s.to:s.from;({node:v,offset:y}=Pk(t.dom,u,d))}let b=e.docView.nearest(v);if(!b)return null;if(b.isWidget&&1==(null===(i=b.dom)||void 0===i?void 0:i.nodeType)){let e=b.dom.getBoundingClientRect();return t.y<e.top||t.y<=e.bottom&&t.x<=(e.left+e.right)/2?b.posAtStart:b.posAtEnd}return b.localPosFromDOM(v,y)+b.posAtStart}function Dk(e,t,n,r,o){let i=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){let t=e.viewState.heightOracle.textHeight;i+=Math.floor((o-n.top-.5*(e.defaultLineHeight-t))/t)*e.viewState.heightOracle.lineLength}let s=e.state.sliceDoc(n.from,n.to);return n.from+nx(s,i,e.state.tabSize)}function Rk(e,t){let n=e.lineBlockAt(t);if(Array.isArray(n.type))for(let r of n.type)if(r.to>t||r.to==t&&(r.to==n.to||r.type==pS.Text))return r;return n}function Ik(e,t,n,r){let o=e.state.doc.lineAt(t.head),i=e.bidiSpans(o),s=e.textDirectionAt(o.from);for(let a=t,l=null;;){let t=WS(o,i,s,a,n),c=VS;if(!t){if(o.number==(n?e.state.doc.lines:1))return a;c="\n",o=e.state.doc.line(o.number+(n?1:-1)),i=e.bidiSpans(o),t=e.visualLineSide(o,!n)}if(l){if(!l(c))return a}else{if(!r)return t;l=r(c)}a=t}}function zk(e,t,n){for(;;){let r=0;for(let o of e)o.between(t-1,t+1,((e,o,i)=>{if(t>e&&t<o){let i=r||n||(t-e<o-t?-1:1);t=i<0?e:o,r=i}}));if(!r)return t}}function Lk(e,t,n){let r=zk(e.state.facet(dk).map((t=>t(e))),n.from,t.head>n.from?-1:1);return r==n.from?n:Kb.cursor(r,r<n.from?1:-1)}class Bk{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Qx.safari&&e.contentDOM.addEventListener("input",(()=>null)),Qx.gecko&&function(e){dC.has(e)||(dC.add(e),e.addEventListener("copy",(()=>{})),e.addEventListener("cut",(()=>{})))}(e.contentDOM.ownerDocument)}handleEvent(e){(function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=zx.get(r))&&n.ignoreEvent(t))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&("keydown"==e.type&&this.keydown(e)||this.runHandlers(e.type,e))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let e of n.observers)e(this.view,t);for(let e of n.handlers){if(t.defaultPrevented)break;if(e(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=Fk(e),n=this.handlers,r=this.view.contentDOM;for(let o in t)if("scroll"!=o){let e=!t[o].handlers.length,i=n[o];i&&e!=!i.handlers.length&&(r.removeEventListener(o,this.handleEvent),i=null),i||r.addEventListener(o,this.handleEvent,{passive:e})}for(let o in n)"scroll"==o||t[o]||r.removeEventListener(o,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(27!=e.keyCode&&Hk.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),Qx.android&&Qx.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return!Qx.ios||e.synthetic||e.altKey||e.metaKey||!((t=Vk.find((t=>t.keyCode==e.keyCode)))&&!e.ctrlKey||Wk.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(229!=e.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(){let e=this.pendingIOSKey;return!!e&&(this.pendingIOSKey=void 0,Ox(this.view.contentDOM,e.key,e.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(Qx.safari&&!Qx.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function jk(e,t){return(n,r)=>{try{return t.call(e,r,n)}catch(XG){tk(n.state,XG)}}}function Fk(e){let t=Object.create(null);function n(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(let r of e){let e=r.spec;if(e&&e.domEventHandlers)for(let t in e.domEventHandlers){let o=e.domEventHandlers[t];o&&n(t).handlers.push(jk(r.value,o))}if(e&&e.domEventObservers)for(let t in e.domEventObservers){let o=e.domEventObservers[t];o&&n(t).observers.push(jk(r.value,o))}}for(let r in Kk)n(r).handlers.push(Kk[r]);for(let r in Yk)n(r).observers.push(Yk[r]);return t}const Vk=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Wk="dthko",Hk=[16,17,18,20,91,92,224,225];function Uk(e){return.7*Math.max(0,e)+8}class qk{constructor(e,t,n,r){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=function(e){let t=e.ownerDocument;for(let n=e.parentNode;n&&n!=t.body;)if(1==n.nodeType){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else{if(11!=n.nodeType)break;n=n.host}return null}(e.contentDOM),this.atoms=e.state.facet(dk).map((t=>t(e)));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Lw.allowMultipleSelections)&&function(e,t){let n=e.state.facet(US);return n.length?n[0](t):Qx.mac?t.metaKey:t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let r=mx(e.root);if(!r||0==r.rangeCount)return!0;let o=r.getRangeAt(0).getClientRects();for(let i=0;i<o.length;i++){let e=o[i];if(e.left<=t.clientX&&e.right>=t.clientX&&e.top<=t.clientY&&e.bottom>=t.clientY)return!0}return!1}(e,t)||1!=iC(t))&&null}start(e){!1===this.dragging&&this.select(e)}move(e){var t,n,r;if(0==e.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(n=this.startEvent,r=e,Math.max(Math.abs(n.clientX-r.clientX),Math.abs(n.clientY-r.clientY))<10))return;this.select(this.lastEvent=e);let o=0,i=0,s=(null===(t=this.scrollParent)||void 0===t?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},a=mk(this.view);e.clientX-a.left<=s.left+6?o=-Uk(s.left-e.clientX):e.clientX+a.right>=s.right-6&&(o=Uk(e.clientX-s.right)),e.clientY-a.top<=s.top+6?i=-Uk(s.top-e.clientY):e.clientY+a.bottom>=s.bottom-6&&(i=Uk(e.clientY-s.bottom)),this.setScrollSpeed(o,i)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let r=e.ranges[n],o=null;if(r.empty){let e=zk(this.atoms,r.from,0);e!=r.from&&(o=Kb.cursor(e,-1))}else{let e=zk(this.atoms,r.from,-1),t=zk(this.atoms,r.to,1);e==r.from&&t==r.to||(o=Kb.range(r.from==r.anchor?e:t,r.from==r.head?e:t))}o&&(t||(t=e.ranges.slice()),t[n]=o)}return t?Kb.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));!this.mustSelect&&n.eq(t.state.selection,!1===this.dragging)||this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const Kk=Object.create(null),Yk=Object.create(null),$k=Qx.ie&&Qx.ie_version<15||Qx.ios&&Qx.webkit_version<604;function Xk(e,t){let n,{state:r}=e,o=1,i=r.toText(t),s=i.lines==r.selection.ranges.length,a=null!=aC&&r.selection.ranges.every((e=>e.empty))&&aC==i.toString();if(a){let e=-1;n=r.changeByRange((n=>{let a=r.doc.lineAt(n.from);if(a.from==e)return{range:n};e=a.from;let l=r.toText((s?i.line(o++).text:t)+r.lineBreak);return{changes:{from:a.from,insert:l},range:Kb.cursor(n.from+l.length)}}))}else n=s?r.changeByRange((e=>{let t=i.line(o++);return{changes:{from:e.from,to:e.to,insert:t.text},range:Kb.cursor(e.from+t.length)}})):r.replaceSelection(i);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function Gk(e,t,n,r){if(1==r)return Kb.cursor(t,n);if(2==r)return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.charCategorizer(t),o=e.doc.lineAt(t),i=t-o.from;if(0==o.length)return Kb.cursor(t);0==i?n=1:i==o.length&&(n=-1);let s=i,a=i;n<0?s=Ab(o.text,i,!1):a=Ab(o.text,i);let l=r(o.text.slice(s,a));for(;s>0;){let e=Ab(o.text,s,!1);if(r(o.text.slice(e,s))!=l)break;s=e}for(;a<o.length;){let e=Ab(o.text,a);if(r(o.text.slice(a,e))!=l)break;a=e}return Kb.range(s+o.from,a+o.from)}(e.state,t,n);{let n=dS.find(e.docView,t),r=e.state.doc.lineAt(n?n.posAtEnd:t),o=n?n.posAtStart:r.from,i=n?n.posAtEnd:r.to;return i<e.state.doc.length&&i==r.to&&i++,Kb.range(o,i)}}Yk.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},Kk.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),27==t.keyCode&&(e.inputState.lastEscPress=Date.now()),!1),Yk.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},Yk.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},Kk.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of e.state.facet(KS))if(n=r(e,t),n)break;if(n||0!=t.button||(n=function(e,t){let n=eC(e,t),r=iC(t),o=e.state.selection;return{update(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),o=o.map(e.changes))},get(t,i,s){let a,l=eC(e,t),c=Gk(e,l.pos,l.bias,r);if(n.pos!=l.pos&&!i){let t=Gk(e,n.pos,n.bias,r),o=Math.min(t.from,c.from),i=Math.max(t.to,c.to);c=o<c.from?Kb.range(o,i):Kb.range(i,o)}return i?o.replaceRange(o.main.extend(c.from,c.to)):s&&1==r&&o.ranges.length>1&&(a=function(e,t){for(let n=0;n<e.ranges.length;n++){let{from:r,to:o}=e.ranges[n];if(r<=t&&o>=t)return Kb.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}(o,l.pos))?a:s?o.addRange(c):Kb.create([c])}}}(e,t)),n){let r=!e.hasFocus;e.inputState.startMouseSelection(new qk(e,t,n,r)),r&&e.observer.ignore((()=>Tx(e.contentDOM)));let o=e.inputState.mouseSelection;if(o)return o.start(t),!1===o.dragging}return!1};let Zk=(e,t)=>e>=t.top&&e<=t.bottom,Qk=(e,t,n)=>Zk(t,n)&&e>=n.left&&e<=n.right;function Jk(e,t,n,r){let o=dS.find(e.docView,t);if(!o)return 1;let i=t-o.posAtStart;if(0==i)return 1;if(i==o.length)return-1;let s=o.coordsAt(i,-1);if(s&&Qk(n,r,s))return-1;let a=o.coordsAt(i,1);return a&&Qk(n,r,a)?1:s&&Zk(r,s)?-1:1}function eC(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:Jk(e,n,t.clientX,t.clientY)}}const tC=Qx.ie&&Qx.ie_version<=11;let nC=null,rC=0,oC=0;function iC(e){if(!tC)return e.detail;let t=nC,n=oC;return nC=e,oC=Date.now(),rC=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(rC+1)%3:1}function sC(e,t,n,r){if(!n)return;let o=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:i}=e.inputState,s=r&&i&&function(e,t){let n=e.state.facet(qS);return n.length?n[0](t):Qx.mac?!t.altKey:!t.ctrlKey}(e,t)?{from:i.from,to:i.to}:null,a={from:o,insert:n},l=e.state.changes(s?[s,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(o,-1),head:l.mapPos(o,1)},userEvent:s?"move.drop":"input.drop"}),e.inputState.draggedContent=null}Kk.dragstart=(e,t)=>{let{selection:{main:n}}=e.state;if(t.target.draggable){let r=e.docView.nearest(t.target);if(r&&r.isWidget){let e=r.posAtStart,t=e+r.length;(e>=n.to||t<=n.from)&&(n=Kb.range(e,t))}}let{inputState:r}=e;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove"),!1},Kk.dragend=e=>(e.inputState.draggedContent=null,!1),Kk.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let n=t.dataTransfer.files;if(n&&n.length){let r=Array(n.length),o=0,i=()=>{++o==n.length&&sC(e,t,r.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=i,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),i()},t.readAsText(n[e])}return!0}{let n=t.dataTransfer.getData("Text");if(n)return sC(e,t,n,!0),!0}return!1},Kk.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let n=$k?null:t.clipboardData;return n?(Xk(e,n.getData("text/plain")||n.getData("text/uri-text")),!0):(function(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{e.focus(),n.remove(),Xk(e,n.value)}),50)}(e),!1)};let aC=null;Kk.copy=Kk.cut=(e,t)=>{let{text:n,ranges:r,linewise:o}=function(e){let t=[],n=[],r=!1;for(let o of e.selection.ranges)o.empty||(t.push(e.sliceDoc(o.from,o.to)),n.push(o));if(!t.length){let o=-1;for(let{from:r}of e.selection.ranges){let i=e.doc.lineAt(r);i.number>o&&(t.push(i.text),n.push({from:i.from,to:Math.min(e.doc.length,i.to+1)})),o=i.number}r=!0}return{text:t.join(e.lineBreak),ranges:n,linewise:r}}(e.state);if(!n&&!o)return!1;aC=o?n:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let i=$k?null:t.clipboardData;return i?(i.clearData(),i.setData("text/plain",n),!0):(function(e,t){let n=e.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((()=>{r.remove(),e.focus()}),50)}(e,n),!1)};const lC=Sw.define();function cC(e,t){let n=[];for(let r of e.facet(GS)){let o=r(e,t);o&&n.push(o)}return n?e.update({effects:n,annotations:lC.of(!0)}):null}function uC(e){setTimeout((()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let n=cC(e.state,t);n?e.dispatch(n):e.update([])}}),10)}Yk.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),uC(e)},Yk.blur=e=>{e.observer.clearSelectionRange(),uC(e)},Yk.compositionstart=Yk.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0,e.docView.maybeCreateCompositionBarrier()&&(e.update([]),e.docView.clearCompositionBarrier()))},Yk.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,Qx.chrome&&Qx.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then((()=>e.observer.flush())):setTimeout((()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])}),50)},Yk.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},Kk.beforeinput=(e,t)=>{var n;let r;if(Qx.chrome&&Qx.android&&(r=Vk.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let t=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}return!1};const dC=new Set;const hC=["pre-wrap","normal","pre-line","break-spaces"];class fC{constructor(e){this.lineWrapping=e,this.doc=fb.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return hC.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}refresh(e,t,n,r,o,i){let s=hC.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=t,this.charWidth=n,this.textHeight=r,this.lineLength=o,a){this.heightSamples={};for(let e=0;e<i.length;e++){let t=i[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return a}}class pC{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class mC{constructor(e,t,n,r,o){this.from=e,this.length=t,this.top=n,this.height=r,this._content=o}get type(){return"number"==typeof this._content?pS.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof yS?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new mC(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var gC=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(gC||(gC={}));const vC=.001;class yC{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>vC&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return yC.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,r){let o=this,i=n.doc;for(let s=r.length-1;s>=0;s--){let{fromA:a,toA:l,fromB:c,toB:u}=r[s],d=o.lineAt(a,gC.ByPosNoHeight,n.setDoc(t),0,0),h=d.to>=l?d:o.lineAt(l,gC.ByPosNoHeight,n,0,0);for(u+=h.to-l,l=h.to;s>0&&d.from<=r[s-1].toA;)a=r[s-1].fromA,c=r[s-1].fromB,s--,a<d.from&&(d=o.lineAt(a,gC.ByPosNoHeight,n,0,0));c+=d.from-a,a=d.from;let f=CC.build(n.setDoc(i),e,c,u);o=o.replace(a,l,f)}return o.updateHeight(n,0)}static empty(){return new wC(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,r=0,o=0;for(;;)if(t==n)if(r>2*o){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),n+=1+o.break,r-=o.size}else{if(!(o>2*r))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,o-=t.size}}else if(r<o){let n=e[t++];n&&(r+=n.size)}else{let t=e[--n];t&&(o+=t.size)}let i=0;return null==e[t-1]?(i=1,t--):null==e[t]&&(i=1,n++),new SC(yC.of(e.slice(0,t)),i,yC.of(e.slice(n)))}}yC.prototype.size=1;class bC extends yC{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,r){return new mC(r,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,r,o){return this.blockAt(0,n,r,o)}forEachLine(e,t,n,r,o,i){e<=o+this.length&&t>=o&&i(this.blockAt(0,n,r,o))}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>3?arguments[3]:void 0;return n&&n.from<=t&&n.more&&this.setHeight(e,n.heights[n.index++]),this.outdated=!1,this}toString(){return"block(".concat(this.length,")")}}class wC extends bC{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,r){return new mC(r,this.length,n,this.height,this.breaks)}replace(e,t,n){let r=n[0];return 1==n.length&&(r instanceof wC||r instanceof xC&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof xC?r=new wC(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):yC.of(n)}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}class xC extends yC{constructor(e){super(e,0)}heightMetrics(e,t){let n,r=e.doc.lineAt(t).number,o=e.doc.lineAt(t+this.length).number,i=o-r+1,s=0;if(e.lineWrapping){let t=Math.min(this.height,e.lineHeight*i);n=t/i,this.length>i+1&&(s=(this.height-t)/(this.length-i-1))}else n=this.height/i;return{firstLine:r,lastLine:o,perLine:n,perChar:s}}blockAt(e,t,n,r){let{firstLine:o,lastLine:i,perLine:s,perChar:a}=this.heightMetrics(t,r);if(t.lineWrapping){let o=r+Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length),i=t.doc.lineAt(o),l=s+i.length*a,c=Math.max(n,e-l/2);return new mC(i.from,i.length,c,l,0)}{let r=Math.max(0,Math.min(i-o,Math.floor((e-n)/s))),{from:a,length:l}=t.doc.line(o+r);return new mC(a,l,n+s*r,s,0)}}lineAt(e,t,n,r,o){if(t==gC.ByHeight)return this.blockAt(e,n,r,o);if(t==gC.ByPosNoHeight){let{from:t,to:r}=n.doc.lineAt(e);return new mC(t,r-t,0,0,0)}let{firstLine:i,perLine:s,perChar:a}=this.heightMetrics(n,o),l=n.doc.lineAt(e),c=s+l.length*a,u=l.number-i,d=r+s*u+a*(l.from-o-u);return new mC(l.from,l.length,Math.max(r,Math.min(d,r+this.height-c)),c,0)}forEachLine(e,t,n,r,o,i){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(n,o);for(let c=e,u=r;c<=t;){let t=n.doc.lineAt(c);if(c==e){let n=t.number-s;u+=a*n+l*(e-o-n)}let r=a+l*t.length;i(new mC(t.from,t.length,u,r,0)),u+=r,c=t.to+1}}replace(e,t,n){let r=this.length-t;if(r>0){let e=n[n.length-1];e instanceof xC?n[n.length-1]=new xC(e.length+r):n.push(null,new xC(r-1))}if(e>0){let t=n[0];t instanceof xC?n[0]=new xC(e+t.length):n.unshift(new xC(e-1),null)}return yC.of(n)}decomposeLeft(e,t){t.push(new xC(e-1),null)}decomposeRight(e,t){t.push(null,new xC(this.length-e-1))}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let n=[],i=Math.max(t,r.from),s=-1;for(r.from>t&&n.push(new xC(r.from-t-1).updateHeight(e,t));i<=o&&r.more;){let t=e.doc.lineAt(i).length;n.length&&n.push(null);let o=r.heights[r.index++];-1==s?s=o:Math.abs(o-s)>=vC&&(s=-2);let a=new wC(t,o);a.outdated=!1,n.push(a),i+=t+1}i<=o&&n.push(null,new xC(o-i).updateHeight(e,i));let a=yC.of(n);return(s<0||Math.abs(a.height-this.height)>=vC||Math.abs(s-this.heightMetrics(e,t).perLine)>=vC)&&(e.heightChanged=!0),a}return(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return"gap(".concat(this.length,")")}}class SC extends yC{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,r){let o=n+this.left.height;return e<o?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,n,r,o){let i=r+this.left.height,s=o+this.left.length+this.break,a=t==gC.ByHeight?e<i:e<s,l=a?this.left.lineAt(e,t,n,r,o):this.right.lineAt(e,t,n,i,s);if(this.break||(a?l.to<s:l.from>s))return l;let c=t==gC.ByPosNoHeight?gC.ByPosNoHeight:gC.ByPos;return a?l.join(this.right.lineAt(s,c,n,i,s)):this.left.lineAt(s,c,n,r,o).join(l)}forEachLine(e,t,n,r,o,i){let s=r+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,n,r,o,i),t>=a&&this.right.forEachLine(e,t,n,s,a,i);else{let l=this.lineAt(a,gC.ByPos,n,r,o);e<l.from&&this.left.forEachLine(e,l.from-1,n,r,o,i),l.to>=e&&l.from<=t&&i(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,s,a,i)}}replace(e,t,n){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));let o=[];e>0&&this.decomposeLeft(e,o);let i=o.length;for(let s of n)o.push(s);if(e>0&&kC(o,i-1),t<this.length){let e=o.length;this.decomposeRight(t,o),kC(o,e)}return yC.of(o)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?yC.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,{left:o,right:i}=this,s=t+o.length+this.break,a=null;return r&&r.from<=t+o.length&&r.more?a=o=o.updateHeight(e,t,n,r):o.updateHeight(e,t,n),r&&r.from<=s+i.length&&r.more?a=i=i.updateHeight(e,s,n,r):i.updateHeight(e,s,n),a?this.balanced(o,i):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function kC(e,t){let n,r;null==e[t]&&(n=e[t-1])instanceof xC&&(r=e[t+1])instanceof xC&&e.splice(t-1,3,new xC(n.length+1+r.length))}class CC{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof wC?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new wC(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,o=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let i=t-e;n.block?this.addBlock(new bC(i,r,n)):(i||o||r>=5)&&this.addLineDeco(r,o,i)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new wC(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new xC(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof wC)return e;let t=new wC(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof wC||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new wC(0,-1));let n=e;for(let r of this.nodes)r instanceof wC&&r.updateHeight(this.oracle,n),n+=r?r.length:1;return this.nodes}static build(e,t,n,r){let o=new CC(n,e);return Hw.spans(t,n,r,o,0),o.finish(n)}}class _C{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&wS(e,t,this.changes,5)}}function EC(e,t){let n=e.getBoundingClientRect(),r=e.ownerDocument,o=r.defaultView||window,i=Math.max(0,n.left),s=Math.min(o.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(o.innerHeight,n.bottom);for(let c=e.parentNode;c&&c!=r.body;)if(1==c.nodeType){let t=c,n=window.getComputedStyle(t);if((t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&"visible"!=n.overflow){let n=t.getBoundingClientRect();i=Math.max(i,n.left),s=Math.min(s,n.right),a=Math.max(a,n.top),l=c==e.parentNode?n.bottom:Math.min(l,n.bottom)}c="absolute"==n.position||"fixed"==n.position?t.offsetParent:t.parentNode}else{if(11!=c.nodeType)break;c=c.host}return{left:i-n.left,right:Math.max(i,s)-n.left,top:a-(n.top+t),bottom:Math.max(a,l)-(n.top+t)}}function AC(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class MC{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],o=t[n];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e,t){return mS.replace({widget:new TC(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class TC extends fS{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class PC{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IC,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=CS.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(lk).some((e=>"function"!=typeof e&&"cm-lineWrapping"==e.class));this.heightOracle=new fC(t),this.stateDeco=e.facet(ck).filter((e=>"function"!=typeof e)),this.heightMap=yC.empty().applyChanges(this.stateDeco,fb.empty,this.heightOracle.setDoc(e.doc),[new vk(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=mS.set(this.lineGaps.map((e=>e.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let r=n?t.head:t.anchor;if(!e.some((e=>{let{from:t,to:n}=e;return r>=t&&r<=n}))){let{from:t,to:n}=this.lineBlockAt(r);e.push(new OC(t,n))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?IC:new zC(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:LC(e,this.scaler))}))}update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(ck).filter((e=>"function"!=typeof e));let r=e.changedRanges,o=vk.extendWithRanges(r,function(e,t,n){let r=new _C;return Hw.compare(e,t,n,r,0),r.changes}(n,this.stateDeco,e?e.changes:Bb.empty(this.state.doc.length))),i=this.heightMap.height,s=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=i&&(e.flags|=2),s?(this.scrollAnchorPos=e.changes.mapPos(s.from,-1),this.scrollAnchorHeight=s.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let a=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let l=!e.changes.empty||2&e.flags||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(QS)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,o=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?CS.RTL:CS.LTR;let i=this.heightOracle.mustRefreshForWrapping(o),s=t.getBoundingClientRect(),a=i||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;let l=0,c=0;if(s.width&&s.height){let{scaleX:e,scaleY:n}=_x(t,s);this.scaleX==e&&this.scaleY==n||(this.scaleX=e,this.scaleY=n,l|=8,i=a=!0)}let u=(parseInt(n.paddingTop)||0)*this.scaleY,d=(parseInt(n.paddingBottom)||0)*this.scaleY;this.paddingTop==u&&this.paddingBottom==d||(this.paddingTop=u,this.paddingBottom=d,l|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=8);let h=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=Dx(e.scrollDOM);let f=(this.printing?AC:EC)(t,this.paddingTop),p=f.top-this.pixelViewport.top,m=f.bottom-this.pixelViewport.bottom;this.pixelViewport=f;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let v=s.width;if(this.contentDOMWidth==v&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=s.width,this.editorHeight=e.scrollDOM.clientHeight,l|=8),a){let t=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(t)&&(i=!0),i||r.lineWrapping&&Math.abs(v-this.contentDOMWidth)>r.charWidth){let{lineHeight:n,charWidth:s,textHeight:a}=e.docView.measureTextSize();i=n>0&&r.refresh(o,n,s,a,v/s,t),i&&(e.docView.minWidth=0,l|=8)}p>0&&m>0?c=Math.max(p,m):p<0&&m<0&&(c=Math.min(p,m)),r.heightChanged=!1;for(let n of this.viewports){let o=n.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(n);this.heightMap=(i?yC.empty().applyChanges(this.stateDeco,fb.empty,this.heightOracle,[new vk(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,i,new pC(n.from,o))}r.heightChanged&&(l|=2)}let y=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return y&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(2&l||y)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(i?[]:this.lineGaps,e)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.heightOracle,{visibleTop:i,visibleBottom:s}=this,a=new OC(r.lineAt(i-1e3*n,gC.ByHeight,o,0,0).from,r.lineAt(s+1e3*(1-n),gC.ByHeight,o,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let n,i=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),s=r.lineAt(e,gC.ByPos,o,0,0);n="center"==t.y?(s.top+s.bottom)/2-i/2:"start"==t.y||"nearest"==t.y&&e<a.from?s.top:s.bottom-i,a=new OC(r.lineAt(n-500,gC.ByHeight,o,0,0).from,r.lineAt(n+i+500,gC.ByHeight,o,0,0).to)}}return a}mapViewport(e,t){let n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new OC(this.heightMap.lineAt(n,gC.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,gC.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate(e){let{from:t,to:n}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.inView)return!0;let{top:o}=this.heightMap.lineAt(t,gC.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(n,gC.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(0==t||o<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||i>=a+Math.max(10,Math.min(r,250)))&&o>s-2e3&&i<a+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let r of e)t.touchesRange(r.from,r.to)||n.push(new MC(t.mapPos(r.from),t.mapPos(r.to),r.size));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,o=r>>1,i=r<<1;if(this.defaultTextDirection!=CS.LTR&&!n)return[];let s=[],a=(r,i,l,c)=>{if(i-r<o)return;let u=this.state.selection.main,d=[u.from];u.empty||d.push(u.to);for(let e of d)if(e>r&&e<i)return a(r,e-10,l,c),void a(e+10,i,l,c);let h=function(e,t){for(let n of e)if(t(n))return n;return}(e,(e=>e.from>=l.from&&e.to<=l.to&&Math.abs(e.from-r)<o&&Math.abs(e.to-i)<o&&!d.some((t=>e.from<t&&e.to>t))));if(!h){if(i<l.to&&t&&n&&t.visibleRanges.some((e=>e.from<=i&&e.to>=i))){let e=t.moveToLineBoundary(Kb.cursor(i),!1,!0).head;e>r&&(i=e)}h=new MC(r,i,this.gapSize(l,r,i,c))}s.push(h)};for(let l of this.viewportLines){if(l.length<i)continue;let e=NC(l.from,l.to,this.stateDeco);if(e.total<i)continue;let t,o,s=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let n,i,a=r/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=s){let t=RC(e,s),r=((this.visibleBottom-this.visibleTop)/2+a)/l.height;n=t-r,i=t+r}else n=(this.visibleTop-l.top-a)/l.height,i=(this.visibleBottom-l.top+a)/l.height;t=DC(e,n),o=DC(e,i)}else{let n,i,a=e.total*this.heightOracle.charWidth,l=r*this.heightOracle.charWidth;if(null!=s){let t=RC(e,s),r=((this.pixelViewport.right-this.pixelViewport.left)/2+l)/a;n=t-r,i=t+r}else n=(this.pixelViewport.left-l)/a,i=(this.pixelViewport.right+l)/a;t=DC(e,n),o=DC(e,i)}t>l.from&&a(l.from,t,l,e),o<l.to&&a(o,l.to,l,e)}return s}gapSize(e,t,n,r){let o=RC(r,n)-RC(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){MC.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=mS.set(e.map((e=>e.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Hw.spans(e,this.viewport.from,this.viewport.to,{span(e,n){t.push({from:e,to:n})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,n)=>e.from!=t[n].from||e.to!=t[n].to));return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||LC(this.heightMap.lineAt(e,gC.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return LC(this.heightMap.lineAt(this.scaler.fromDOM(e),gC.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return LC(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class OC{constructor(e,t){this.from=e,this.to=t}}function NC(e,t,n){let r=[],o=e,i=0;return Hw.spans(n,e,t,{span(){},point(e,t){e>o&&(r.push({from:o,to:e}),i+=e-o),o=t}},20),o<t&&(r.push({from:o,to:t}),i+=t-o),{total:i,ranges:r}}function DC(e,t){let{total:n,ranges:r}=e;if(t<=0)return r[0].from;if(t>=1)return r[r.length-1].to;let o=Math.floor(n*t);for(let i=0;;i++){let{from:e,to:t}=r[i],n=t-e;if(o<=n)return e+o;o-=n}}function RC(e,t){let n=0;for(let{from:r,to:o}of e.ranges){if(t<=o){n+=t-r;break}n+=o-r}return n/e.total}const IC={toDOM:e=>e,fromDOM:e=>e,scale:1};class zC{constructor(e,t,n){let r=0,o=0,i=0;this.viewports=n.map((n=>{let{from:o,to:i}=n,s=t.lineAt(o,gC.ByPos,e,0,0).top,a=t.lineAt(i,gC.ByPos,e,0,0).bottom;return r+=a-s,{from:o,to:i,top:s,bottom:a,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(t.height-r);for(let s of this.viewports)s.domTop=i+(s.top-o)*this.scale,i=s.domBottom=s.domTop+(s.bottom-s.top),o=s.bottom}toDOM(e){for(let t=0,n=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-n)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);n=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,n=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return n+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);n=o.bottom,r=o.domBottom}}}function LC(e,t){if(1==t.scale)return e;let n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new mC(e.from,e.length,n,r-n,Array.isArray(e._content)?e._content.map((e=>LC(e,t))):e._content)}const BC=Xb.define({combine:e=>e.join(" ")}),jC=Xb.define({combine:e=>e.indexOf(!0)>-1}),FC=sx.newName(),VC=sx.newName(),WC=sx.newName(),HC={"&light":"."+VC,"&dark":"."+WC};function UC(e,t,n){return new sx(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!n||!n[t])throw new RangeError("Unsupported selector: ".concat(t));return n[t]})):e+" "+t})}const qC=UC("."+FC,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},HC),KC="\uffff";class YC{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Lw.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=KC}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r);let e=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==t)break;let i=zx.get(r),s=zx.get(o);(i&&s?i.breakAfter:(i?i.breakAfter:XC(r))||XC(o)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>e)&&this.lineBreak(),r=o}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o,i=-1,s=1;if(this.lineSeparator?(i=t.indexOf(this.lineSeparator,n),s=this.lineSeparator.length):(o=r.exec(t))&&(i=o.index,s=o[0].length),this.append(t.slice(n,i<0?t.length:i)),i<0)break;if(this.lineBreak(),s>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=s-1);n=i+s}}readNode(e){if(e.cmIgnore)return;let t=zx.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+($C(e,n.node,n.offset)?t:0))}}function $C(e,t,n){for(;;){if(!t||n<Sx(t))return!1;if(t==e)return!0;n=wx(t)+1,t=t.parentNode}}function XC(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class GC{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class ZC{constructor(e,t,n,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:o,impreciseAnchor:i}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let t=o||i?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}=e.observer.selectionRange;n&&(t.push(new GC(n,r)),o==n&&i==r||t.push(new GC(o,i)));return t}(e),n=new YC(t,e.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(e,t){if(0==e.length)return null;let n=e[0].pos,r=2==e.length?e[1].pos:n;return n>-1&&r>-1?Kb.single(n+t,r+t):null}(t,this.bounds.from)}else{let t=e.observer.selectionRange,n=o&&o.node==t.focusNode&&o.offset==t.focusOffset||!gx(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),r=i&&i.node==t.anchorNode&&i.offset==t.anchorOffset||!gx(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset),s=e.viewport;if((Qx.ios||Qx.chrome)&&e.state.selection.main.empty&&n!=r&&(s.from>0||s.to<e.state.doc.length)){let t=Math.min(n,r),o=Math.max(n,r),i=s.from-t,a=s.to-o;0!=i&&1!=i&&0!=t||0!=a&&-1!=a&&o!=e.state.doc.length||(n=0,r=e.state.doc.length)}this.newSel=Kb.single(r,n)}}}function QC(e,t){let n,{newSel:r}=t,o=e.state.selection.main,i=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:r,to:s}=t.bounds,a=o.from,l=null;(8===i||Qx.android&&t.text.length<s-r)&&(a=o.to,l="end");let c=function(e,t,n,r){let o=Math.min(e.length,t.length),i=0;for(;i<o&&e.charCodeAt(i)==t.charCodeAt(i);)i++;if(i==o&&e.length==t.length)return null;let s=e.length,a=t.length;for(;s>0&&a>0&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if("end"==r){n-=s+Math.max(0,i-Math.min(s,a))-i}if(s<i&&e.length<t.length){i-=n<=i&&n>=s?i-n:0,a=i+(a-s),s=i}else if(a<i){i-=n<=i&&n>=a?i-n:0,s=i+(s-a),a=i}return{from:i,toA:s,toB:a}}(e.state.doc.sliceString(r,s,KC),t.text,a-r,l);c&&(Qx.chrome&&13==i&&c.toB==c.from+2&&t.text.slice(c.from,c.toB)==KC+KC&&c.toB--,n={from:r+c.from,to:r+c.toA,insert:fb.of(t.text.slice(c.from,c.toB).split(KC))})}else r&&(!e.hasFocus&&e.state.facet(nk)||r.main.eq(o))&&(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!o.empty&&r&&r.main.empty?n={from:o.from,to:o.to,insert:e.state.doc.slice(o.from,o.to)}:n&&n.from>=o.from&&n.to<=o.to&&(n.from!=o.from||n.to!=o.to)&&o.to-o.from-(n.to-n.from)<=4?n={from:o.from,to:o.to,insert:e.state.doc.slice(o.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,o.to))}:(Qx.mac||Qx.android)&&n&&n.from==n.to&&n.from==o.head-1&&/^\. ?$/.test(n.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(r&&2==n.insert.length&&(r=Kb.single(r.main.anchor-1,r.main.head-1)),n={from:o.from,to:o.to,insert:fb.of([" "])}):Qx.chrome&&n&&n.from==n.to&&n.from==o.head&&"\n "==n.insert.toString()&&e.lineWrapping&&(r&&(r=Kb.single(r.main.anchor-1,r.main.head-1)),n={from:o.from,to:o.to,insert:fb.of([" "])}),n){if(Qx.ios&&e.inputState.flushIOSKey())return!0;if(Qx.android&&(n.to==o.to&&(n.from==o.from||n.from==o.from-1&&" "==e.state.sliceDoc(n.from,o.from))&&1==n.insert.length&&2==n.insert.lines&&Ox(e.contentDOM,"Enter",13)||(n.from==o.from-1&&n.to==o.to&&0==n.insert.length||8==i&&n.insert.length<n.to-n.from&&n.to>o.head)&&Ox(e.contentDOM,"Backspace",8)||n.from==o.from&&n.to==o.to+1&&0==n.insert.length&&Ox(e.contentDOM,"Delete",46)))return!0;let t,s=n.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let a=()=>t||(t=function(e,t,n){let r,o=e.state,i=o.selection.main;if(t.from>=i.from&&t.to<=i.to&&t.to-t.from>=(i.to-i.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let n=i.from<t.from?o.sliceDoc(i.from,t.from):"",s=i.to>t.to?o.sliceDoc(t.to,i.to):"";r=o.replaceSelection(e.state.toText(n+t.insert.sliceString(0,void 0,e.state.lineBreak)+s))}else{let s=o.changes(t),a=n&&n.main.to<=s.newLength?n.main:void 0;if(o.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=i.to&&t.to>=i.to-10){let l,c=e.state.sliceDoc(t.from,t.to),u=n&&Sk(e,n.main.head);if(u){let e=t.insert.length-(t.to-t.from);l={from:u.from,to:u.to-e}}else l=e.state.doc.lineAt(i.head);let d=i.to-t.to,h=i.to-i.from;r=o.changeByRange((n=>{if(n.from==i.from&&n.to==i.to)return{changes:s,range:a||n.map(s)};let r=n.to-d,u=r-c.length;if(n.to-n.from!=h||e.state.sliceDoc(u,r)!=c||n.to>=l.from&&n.from<=l.to)return{range:n};let f=o.changes({from:u,to:r,insert:t.insert}),p=n.to-i.to;return{changes:f,range:a?Kb.range(Math.max(0,a.anchor+p),Math.max(0,a.head+p)):n.map(f)}}))}else r={changes:s,selection:a&&o.selection.replaceRange(a)}}let s="input.type";(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,s+=".compose",e.inputState.compositionFirstChange&&(s+=".start",e.inputState.compositionFirstChange=!1));return o.update(r,{userEvent:s,scrollIntoView:!0})}(e,n,r));return e.state.facet(XS).some((t=>t(e,n.from,n.to,s,a)))||e.dispatch(a()),!0}if(r&&!r.main.eq(o)){let t=!1,n="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin),e.dispatch({selection:r,scrollIntoView:t,userEvent:n}),!0}return!1}const JC={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},e_=Qx.ie&&Qx.ie_version<=11;class t_{constructor(e){this.view=e,this.active=!1,this.selectionRange=new Ex,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(Qx.ie&&Qx.ie_version<=11||Qx.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),e_&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,n)=>t!=e[n])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(nk)?n.root.activeElement!=this.dom:!vx(n.dom,r))return;let o=r.anchorNode&&n.docView.nearest(r.anchorNode);o&&o.ignoreEvent(e)?t||(this.selectionChanged=!1):(Qx.ie&&Qx.ie_version<=11||Qx.android&&Qx.chrome)&&!n.state.selection.main.empty&&r.focusNode&&bx(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Qx.safari&&11==e.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e){let t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;let r=t.startContainer,o=t.startOffset,i=t.endContainer,s=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);bx(a.node,a.offset,i,s)&&([r,o,i,s]=[i,s,r,o]);return{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}}(this.view)||mx(e.root);if(!t||this.selectionRange.eq(t))return!1;let n=vx(this.dom,t);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(r=Math.min(r,Sx(n));;)if(r){if(1!=n.nodeType)return!1;let e=n.childNodes[r-1];"false"==e.contentEditable?r--:(n=e,r=Sx(n))}else{if(n==e)return!0;r=wx(n),n=n.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,JC),e_&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),e_&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let e=()=>{let e=this.delayedAndroidKey;if(e){this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=e.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&e.force&&Ox(this.dom,e.key,e.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(e)}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,r=!1;for(let o of e){let e=this.readMutation(o);e&&(e.typeOver&&(r=!0),-1==t?({from:t,to:n}=e):(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:r}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),r=this.selectionChanged&&vx(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new ZC(this.view,e,t,n);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,r=QC(this.view,t);return this.view.state==n&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.flags|=4),"childList"==e.type){let n=n_(t,e.previousSibling||e.target.previousSibling,-1),r=n_(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function n_(e,t,n){for(;t;){let r=zx.get(t);if(r&&r.parent==e)return r;let o=t.parentNode;t=o!=e.dom?o:n>0?t.nextSibling:t.previousSibling}return null}class r_{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(e=>e.forEach((e=>t(e,this))))||(e=>this.update(e)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new PC(e.state||Lw.create(e)),e.scrollTo&&e.scrollTo.is(ek)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(ok).map((e=>new sk(e)));for(let n of this.plugins)n.update(this);this.observer=new t_(this),this.inputState=new Bk(this),this.inputState.ensureHandlers(this.plugins),this.docView=new bk(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=1==t.length&&t[0]instanceof Ew?t:1==t.length&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(r,this)}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,r=!1,o=this.state;for(let d of e){if(d.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=d.state}if(this.destroyed)return void(this.viewState.state=o);let i=this.hasFocus,s=0,a=null;e.some((e=>e.annotation(lC)))?(this.inputState.notifiedFocused=i,s=1):i!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=i,a=cC(o,i),a||(s=1));let l=this.observer.delayedAndroidKey,c=null;if(l?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(c=null)):this.observer.clear(),o.facet(Lw.phrases)!=this.state.facet(Lw.phrases))return this.setState(o);t=yk.create(this,o,e),t.flags|=s;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(u&&(u=u.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;u=new JS(e.empty?e:Kb.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(ek)&&(u=e.value.clip(this.state))}this.viewState.update(t,u),this.bidiCache=s_.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),n=this.docView.update(t),this.state.facet(gk)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(BC)!=t.state.facet(BC)&&(this.viewState.mustMeasureContent=!0),(n||r||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!t.empty)for(let d of this.state.facet($S))try{d(t)}catch(XG){tk(this.state,XG,"update listener")}(a||c)&&Promise.resolve().then((()=>{a&&this.state==a.startState&&this.dispatch(a),c&&!QC(this,c)&&l.force&&Ox(this.contentDOM,l.key,l.keyCode)}))}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new PC(e),this.plugins=e.facet(ok).map((e=>new sk(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView.destroy(),this.docView=new bk(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(ok),n=e.state.facet(ok);if(t!=n){let r=[];for(let o of n){let n=t.indexOf(o);if(n<0)r.push(new sk(o));else{let t=this.plugins[n];t.mustUpdate=e,r.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(XG){tk(this.state,XG,"doc view update listener")}}}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:i}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(i=-1),this.viewState.scrollAnchorHeight=-1;try{for(let e=0;;e++){if(i<0)if(Dx(n))o=-1,i=this.viewState.heightMap.height;else{let e=this.viewState.scrollAnchorAt(r);o=e.from,i=e.top}this.updateState=1;let s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let a=[];4&s||([this.measureRequests,a]=[a,this.measureRequests]);let l=a.map((e=>{try{return e.read(this)}catch(XG){return tk(this.state,XG),i_}})),c=yk.create(this,this.state,[]),u=!1;c.flags|=s,t?t.flags|=s:t=c,this.updateState=2,c.empty||(this.updatePlugins(c),this.inputState.update(c),this.updateAttrs(),u=this.docView.update(c),u&&this.docViewUpdate());for(let e=0;e<a.length;e++)if(l[e]!=i_)try{let t=a[e];t.write&&t.write(l[e],this)}catch(XG){tk(this.state,XG)}if(u&&this.docView.updateSelection(!0),!c.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,i=-1;continue}{let e=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-i;if(e>1||e<-1){r+=e,n.scrollTop=r/this.scaleY,i=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let s of this.state.facet($S))s(t)}get themeClasses(){return FC+" "+(this.state.facet(jC)?WC:VC)+" "+this.state.facet(BC)}updateAttrs(){let e=a_(this,ak,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(nk)?"true":"false",class:"cm-content",style:"".concat(Qx.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),a_(this,lk,t);let n=this.observer.ignore((()=>{let n=cS(this.contentDOM,this.contentAttrs,t),r=cS(this.dom,this.editorAttrs,e);return n||r}));return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let e of n.effects)if(e.is(r_.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(gk);let e=this.state.facet(r_.cspNonce);sx.mount(this.root,this.styleModules.concat(qC).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return Lk(this,e,Ik(this,e,t,n))}moveByGroup(e,t){return Lk(this,e,Ik(this,e,t,(t=>function(e,t,n){let r=e.state.charCategorizer(t),o=r(n);return e=>{let t=r(e);return o==Dw.Space&&(o=t),o==t}}(this,e.head,t))))}visualLineSide(e,t){let n=this.bidiSpans(e),r=this.textDirectionAt(e.from),o=n[t?n.length-1:0];return Kb.cursor(o.side(t,r)+e.from,o.forward(!t,r)?1:-1)}moveToLineBoundary(e,t){return function(e,t,n,r){let o=Rk(e,t.head),i=r&&o.type==pS.Text&&(e.lineWrapping||o.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>o.from?t.head-1:t.head):null;if(i){let t=e.dom.getBoundingClientRect(),r=e.textDirectionAt(o.from),s=e.posAtCoords({x:n==(r==CS.LTR)?t.right-1:t.left+1,y:(i.top+i.bottom)/2});if(null!=s)return Kb.cursor(s,n?-1:1)}return Kb.cursor(n?o.to:o.from,n?-1:1)}(this,e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}moveVertically(e,t,n){return Lk(this,e,function(e,t,n,r){let o=t.head,i=n?1:-1;if(o==(n?e.state.doc.length:0))return Kb.cursor(o,t.assoc);let s,a=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(o,t.assoc||-1),u=e.documentTop;if(c)null==a&&(a=c.left-l.left),s=i<0?c.top:c.bottom;else{let t=e.viewState.lineBlockAt(o);null==a&&(a=Math.min(l.right-l.left,e.defaultCharacterWidth*(o-t.from))),s=(i<0?t.top:t.bottom)+u}let d=l.left+a,h=null!==r&&void 0!==r?r:e.viewState.heightOracle.textHeight>>1;for(let f=0;;f+=10){let t=s+(h+f)*i,n=Nk(e,{x:d,y:t},!1,i);if(t<l.top||t>l.bottom||(i<0?n<o:n>o)){let r=e.docView.coordsForChar(n),o=!r||t<r.top?-1:1;return Kb.cursor(n,o,void 0,a)}}}(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.posFromDOM(e,t)}posAtCoords(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.readMeasured(),Nk(this,e,t)}coordsAtPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r);return kx(n,o[RS.find(o,e-r.from,-1,t)].dir==CS.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(ZS)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>o_)return FS(e.length);let t,n=this.textDirectionAt(e.from);for(let o of this.bidiCache)if(o.from==e.from&&o.dir==n&&(o.fresh||IS(o.isolates,t=fk(this,e))))return o.order;t||(t=fk(this,e));let r=jS(e.text,n,t);return this.bidiCache.push(new s_(e.from,e.to,n,t,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Qx.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{Tx(this.contentDOM),this.docView.updateSelection()}))}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ek.of(new JS("number"==typeof e?Kb.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return ek.of(new JS(Kb.cursor(n.from),"start","start",n.top-e,t,!0))}static domEventHandlers(e){return ik.define((()=>({})),{eventHandlers:e})}static domEventObservers(e){return ik.define((()=>({})),{eventObservers:e})}static theme(e,t){let n=sx.newName(),r=[BC.of(n),gk.of(UC(".".concat(n),e))];return t&&t.dark&&r.push(jC.of(!0)),r}static baseTheme(e){return lw.lowest(gk.of(UC("."+FC,e,HC)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),r=n&&zx.get(n)||zx.get(e);return(null===(t=null===r||void 0===r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}r_.styleModule=gk,r_.inputHandler=XS,r_.focusChangeEffect=GS,r_.perLineTextDirection=ZS,r_.exceptionSink=YS,r_.updateListener=$S,r_.editable=nk,r_.mouseSelectionStyle=KS,r_.dragMovesSelection=qS,r_.clickAddsSelectionRange=US,r_.decorations=ck,r_.outerDecorations=uk,r_.atomicRanges=dk,r_.bidiIsolatedRanges=hk,r_.scrollMargins=pk,r_.darkTheme=jC,r_.cspNonce=Xb.define({combine:e=>e.length?e[0]:""}),r_.contentAttributes=lk,r_.editorAttributes=ak,r_.lineWrapping=r_.contentAttributes.of({class:"cm-lineWrapping"}),r_.announce=_w.define();const o_=4096,i_={};class s_{constructor(e,t,n,r,o,i){this.from=e,this.to=t,this.dir=n,this.isolates=r,this.fresh=o,this.order=i}static update(e,t){if(t.empty&&!e.some((e=>e.fresh)))return e;let n=[],r=e.length?e[e.length-1].dir:CS.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let i=e[o];i.dir!=r||t.touchesRange(i.from,i.to)||n.push(new s_(t.mapPos(i.from,1),t.mapPos(i.to,-1),i.dir,i.isolates,!1,i.order))}return n}}function a_(e,t,n){for(let r=e.state.facet(t),o=r.length-1;o>=0;o--){let t=r[o],i="function"==typeof t?t(e):t;i&&sS(i,n)}return n}const l_=Qx.mac?"mac":Qx.windows?"win":Qx.linux?"linux":"key";function c_(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const u_=lw.default(r_.domEventHandlers({keydown:(e,t)=>g_(f_(t.state),e,t,"editor")})),d_=Xb.define({enables:u_}),h_=new WeakMap;function f_(e){let t=e.facet(d_),n=h_.get(t);return n||h_.set(t,n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l_,n=Object.create(null),r=Object.create(null),o=(e,t)=>{let n=r[e];if(null==n)r[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},i=(e,r,i,s,a)=>{var l,c;let u=n[e]||(n[e]=Object.create(null)),d=r.split(/ (?!$)/).map((e=>function(e,t){const n=e.split(/-(?!$)/);let r,o,i,s,a=n[n.length-1];"Space"==a&&(a=" ");for(let l=0;l<n.length-1;++l){const e=n[l];if(/^(cmd|meta|m)$/i.test(e))s=!0;else if(/^a(lt)?$/i.test(e))r=!0;else if(/^(c|ctrl|control)$/i.test(e))o=!0;else if(/^s(hift)?$/i.test(e))i=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);"mac"==t?s=!0:o=!0}}return r&&(a="Alt-"+a),o&&(a="Ctrl-"+a),s&&(a="Meta-"+a),i&&(a="Shift-"+a),a}(e,t)));for(let t=1;t<d.length;t++){let n=d.slice(0,t).join(" ");o(n,!0),u[n]||(u[n]={preventDefault:!0,stopPropagation:!1,run:[t=>{let r=p_={view:t,prefix:n,scope:e};return setTimeout((()=>{p_==r&&(p_=null)}),m_),!0}]})}let h=d.join(" ");o(h,!1);let f=u[h]||(u[h]={preventDefault:!1,stopPropagation:!1,run:(null===(c=null===(l=u._any)||void 0===l?void 0:l.run)||void 0===c?void 0:c.slice())||[]});i&&f.run.push(i),s&&(f.preventDefault=!0),a&&(f.stopPropagation=!0)};for(let s of e){let e=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let t of e){let e=n[t]||(n[t]=Object.create(null));e._any||(e._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let t in e)e[t].run.push(s.any)}let r=s[t]||s.key;if(r)for(let t of e)i(t,r,s.run,s.preventDefault,s.stopPropagation),s.shift&&i(t,"Shift-"+r,s.shift,s.preventDefault,s.stopPropagation)}return n}(t.reduce(((e,t)=>e.concat(t)),[]))),n}let p_=null;const m_=4e3;function g_(e,t,n,r){let o=function(e){var t=!(dx&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||hx&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?ux:cx)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),i=Rb(Nb(o,0))==o.length&&" "!=o,s="",a=!1,l=!1,c=!1;p_&&p_.view==n&&p_.scope==r&&(s=p_.prefix+" ",Hk.indexOf(t.keyCode)<0&&(l=!0,p_=null));let u,d,h=new Set,f=e=>{if(e){for(let r of e.run)if(!h.has(r)&&(h.add(r),r(n,t)))return e.stopPropagation&&(c=!0),!0;e.preventDefault&&(e.stopPropagation&&(c=!0),l=!0)}return!1},p=e[r];return p&&(f(p[s+c_(o,t,!i)])?a=!0:i&&(t.altKey||t.metaKey||t.ctrlKey)&&!(Qx.windows&&t.ctrlKey&&t.altKey)&&(u=cx[t.keyCode])&&u!=o?(f(p[s+c_(u,t,!0)])||t.shiftKey&&(d=ux[t.keyCode])!=o&&d!=u&&f(p[s+c_(d,t,!1)]))&&(a=!0):i&&t.shiftKey&&f(p[s+c_(o,t,!0)])&&(a=!0),!a&&f(p._any)&&(a=!0)),l&&(a=!0),a&&c&&t.stopPropagation(),a}class v_{constructor(e,t,n,r,o){this.className=e,this.left=t,this.top=n,this.width=r,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let r=e.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let o=y_(e);return[new v_(t,r.left-o.left,r.top-o.top,null,r.bottom-r.top)]}return function(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];let r=Math.max(n.from,e.viewport.from),o=Math.min(n.to,e.viewport.to),i=e.textDirection==CS.LTR,s=e.contentDOM,a=s.getBoundingClientRect(),l=y_(e),c=s.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),d=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),h=a.right-(u?parseInt(u.paddingRight):0),f=Rk(e,r),p=Rk(e,o),m=f.type==pS.Text?f:null,g=p.type==pS.Text?p:null;m&&(e.lineWrapping||f.widgetLineBreaks)&&(m=b_(e,r,m));g&&(e.lineWrapping||p.widgetLineBreaks)&&(g=b_(e,o,g));if(m&&g&&m.from==g.from)return y(b(n.from,n.to,m));{let t=m?b(n.from,null,m):w(f,!1),r=g?b(null,n.to,g):w(p,!0),o=[];return(m||f).to<(g||p).from-(m&&g?1:0)||f.widgetLineBreaks>1&&t.bottom+e.defaultLineHeight/2<r.top?o.push(v(d,t.bottom,h,r.top)):t.bottom<r.top&&e.elementAtHeight((t.bottom+r.top)/2).type==pS.Text&&(t.bottom=r.top=(t.bottom+r.top)/2),y(t).concat(o).concat(y(r))}function v(e,n,r,o){return new v_(t,e-l.left,n-l.top-.01,r-e,o-n+.01)}function y(e){let{top:t,bottom:n,horizontal:r}=e,o=[];for(let i=0;i<r.length;i+=2)o.push(v(r[i],t,r[i+1],n));return o}function b(t,n,r){let o=1e9,s=-1e9,a=[];function l(t,n,l,c,u){let f=e.coordsAtPos(t,t==r.to?-2:2),p=e.coordsAtPos(l,l==r.from?2:-2);f&&p&&(o=Math.min(f.top,p.top,o),s=Math.max(f.bottom,p.bottom,s),u==CS.LTR?a.push(i&&n?d:f.left,i&&c?h:p.right):a.push(!i&&c?d:p.left,!i&&n?h:f.right))}let c=null!==t&&void 0!==t?t:r.from,u=null!==n&&void 0!==n?n:r.to;for(let i of e.visibleRanges)if(i.to>c&&i.from<u)for(let r=Math.max(i.from,c),o=Math.min(i.to,u);;){let i=e.state.doc.lineAt(r);for(let s of e.bidiSpans(i)){let e=s.from+i.from,a=s.to+i.from;if(e>=o)break;a>r&&l(Math.max(e,r),null==t&&e<=c,Math.min(a,o),null==n&&a>=u,s.dir)}if(r=i.to+1,r>=o)break}return 0==a.length&&l(c,null==t,u,null==n,e.textDirection),{top:o,bottom:s,horizontal:a}}function w(e,t){let n=a.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}(e,t,n)}}function y_(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==CS.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function b_(e,t,n){let r=Kb.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(r,!0,!0).from),type:pS.Text}}class w_{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(x_)!=e.state.facet(x_)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){!1!==this.layer.updateOnDocViewUpdate&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(x_);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;e==this.scaleX&&t==this.scaleY||(this.scaleX=e,this.scaleY=t,this.dom.style.transform="scale(".concat(1/e,", ").concat(1/t,")"))}draw(e){if(e.length!=this.drawn.length||e.some(((e,t)=>{return n=e,r=this.drawn[t],!(n.constructor==r.constructor&&n.eq(r));var n,r}))){let t=this.dom.firstChild,n=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[n].constructor&&r.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(r.draw(),t);for(;t;){let e=t.nextSibling;t.remove(),t=e}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const x_=Xb.define();function S_(e){return[ik.define((t=>new w_(t,e))),x_.of(e)]}const k_=!Qx.ios,C_=Xb.define({combine:e=>Bw(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function __(e){return e.startState.facet(C_)!=e.state.facet(C_)}const E_=S_({above:!0,markers(e){let{state:t}=e,n=t.facet(C_),r=[];for(let o of t.selection.ranges){let i=o==t.selection.main;if(o.empty?!i||k_:n.drawRangeCursor){let t=i?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",n=o.empty?o:Kb.cursor(o.head,o.head>o.anchor?-1:1);for(let o of v_.forRange(e,t,n))r.push(o)}}return r},update(e,t){e.transactions.some((e=>e.selection))&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");let n=__(e);return n&&A_(e.state,t),e.docChanged||e.selectionSet||n},mount(e,t){A_(t.state,e)},class:"cm-cursorLayer"});function A_(e,t){t.style.animationDuration=e.facet(C_).cursorBlinkRate+"ms"}const M_=S_({above:!1,markers:e=>e.state.selection.ranges.map((t=>t.empty?[]:v_.forRange(e,"cm-selectionBackground",t))).reduce(((e,t)=>e.concat(t))),update:(e,t)=>e.docChanged||e.selectionSet||e.viewportChanged||__(e),class:"cm-selectionLayer"}),T_={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};k_&&(T_[".cm-line"].caretColor="transparent !important",T_[".cm-content"]={caretColor:"transparent !important"});const P_=lw.highest(r_.theme(T_)),O_=_w.define({map:(e,t)=>null==e?null:t.mapPos(e)}),N_=nw.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is(O_)?t.value:e),e))}),D_=ik.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(N_);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(N_)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:e}=this,t=e.state.field(N_),n=null!=t&&e.coordsAtPos(t);if(!n)return null;let r=e.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+e.scrollDOM.scrollLeft*e.scaleX,top:n.top-r.top+e.scrollDOM.scrollTop*e.scaleY,height:n.bottom-n.top}}drawCursor(e){if(this.cursor){let{scaleX:t,scaleY:n}=this.view;e?(this.cursor.style.left=e.left/t+"px",this.cursor.style.top=e.top/n+"px",this.cursor.style.height=e.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(N_)!=e&&this.view.dispatch({effects:O_.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function R_(e,t,n,r,o){t.lastIndex=0;for(let i,s=e.iterRange(n,r),a=n;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;i=t.exec(s.value);)o(a+i.index,i)}class I_{constructor(e){const{regexp:t,decoration:n,decorate:r,boundary:o,maxLength:i=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(e,t,n,o)=>r(o,n,n+e[0].length,e,t);else if("function"==typeof n)this.addMatch=(e,t,r,o)=>{let i=n(e,t,r);i&&o(r,r+e[0].length,i)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(e,t,r,o)=>o(r,r+e[0].length,n)}this.boundary=o,this.maxLength=i}createDeco(e){let t=new Uw,n=t.add.bind(t);for(let{from:r,to:o}of function(e,t){let n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let r=[];for(let{from:o,to:i}of n)o=Math.max(e.state.doc.lineAt(o).from,o-t),i=Math.min(e.state.doc.lineAt(i).to,i+t),r.length&&r[r.length-1].to>=o?r[r.length-1].to=i:r.push({from:o,to:i});return r}(e,this.maxLength))R_(e.state.doc,this.regexp,r,o,((t,r)=>this.addMatch(r,e,t,n)));return t.finish()}updateDeco(e,t){let n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges(((t,o,i,s)=>{s>e.view.viewport.from&&i<e.view.viewport.to&&(n=Math.min(i,n),r=Math.max(s,r))})),e.viewportChanged||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}updateRange(e,t,n,r){for(let o of e.visibleRanges){let i=Math.max(o.from,n),s=Math.min(o.to,r);if(s>i){let n=e.state.doc.lineAt(i),r=n.to<s?e.state.doc.lineAt(s):n,a=Math.max(o.from,n.from),l=Math.min(o.to,r.to);if(this.boundary){for(;i>n.from;i--)if(this.boundary.test(n.text[i-1-n.from])){a=i;break}for(;s<r.to;s++)if(this.boundary.test(r.text[s-r.from])){l=s;break}}let c,u=[],d=(e,t,n)=>u.push(n.range(e,t));if(n==r)for(this.regexp.lastIndex=a-n.from;(c=this.regexp.exec(n.text))&&c.index<l-n.from;)this.addMatch(c,e,c.index+n.from,d);else R_(e.state.doc,this.regexp,a,l,((t,n)=>this.addMatch(n,e,t,d)));t=t.update({filterFrom:a,filterTo:l,filter:(e,t)=>e<a||t>l,add:u})}}return t}}const z_=null!=/x/.unicode?"gu":"g",L_=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",z_),B_={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let j_=null;const F_=Xb.define({combine(e){let t=Bw(e,{render:null,specialChars:L_,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==j_&&"undefined"!=typeof document&&document.body){let t=document.body.style;j_=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return j_||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,z_)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,z_)),t}});let V_=null;class W_ extends fS{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"\u2022":10==e?"\u2424":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(B_[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;let o=document.createElement("span");return o.textContent=t,o.title=n,o.setAttribute("aria-label",n),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class H_ extends fS{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const U_=mS.line({class:"cm-activeLine"}),q_=ik.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let r of e.state.selection.ranges){let o=e.lineBlockAt(r.head);o.from>t&&(n.push(U_.range(o.from)),t=o.from)}return mS.set(n)}},{decorations:e=>e.decorations});class K_ extends fS{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild("string"==typeof this.content?document.createTextNode(this.content):this.content),"string"==typeof this.content?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let t=e.firstChild?yx(e.firstChild):[];if(!t.length)return null;let n=window.getComputedStyle(e.parentNode),r=kx(t[0],"rtl"!=n.direction),o=parseInt(n.lineHeight);return r.bottom-r.top>1.5*o?{left:r.left,right:r.right,top:r.top,bottom:r.top+o}:r}ignoreEvent(){return!1}}const Y_=2e3;function $_(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),o=n-r.from,i=o>Y_?-1:o==r.length?function(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):tx(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:i,off:o}}function X_(e,t){let n=$_(e,t),r=e.state.selection;return n?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(n.line).from),o=e.state.doc.lineAt(t);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(e.changes)}},get(t,o,i){let s=$_(e,t);if(!s)return r;let a=function(e,t,n){let r=Math.min(t.line,n.line),o=Math.max(t.line,n.line),i=[];if(t.off>Y_||n.off>Y_||t.col<0||n.col<0){let s=Math.min(t.off,n.off),a=Math.max(t.off,n.off);for(let t=r;t<=o;t++){let n=e.doc.line(t);n.length<=a&&i.push(Kb.range(n.from+s,n.to+a))}}else{let s=Math.min(t.col,n.col),a=Math.max(t.col,n.col);for(let t=r;t<=o;t++){let n=e.doc.line(t),r=nx(n.text,s,e.tabSize,!0);if(r<0)i.push(Kb.cursor(n.to));else{let t=nx(n.text,a,e.tabSize);i.push(Kb.range(n.from+r,n.from+t))}}}return i}(e.state,n,s);return a.length?i?Kb.create(a.concat(r.ranges)):Kb.create(a):r}}:null}const G_={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},Z_={style:"cursor: crosshair"};const Q_="-10000px";class J_{constructor(e,t,n,r){this.facet=t,this.createTooltipView=n,this.removeTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter((e=>e));let o=null;this.tooltipViews=this.tooltips.map((e=>o=n(e,o)))}update(e,t){var n;let r=e.state.facet(this.facet),o=r.filter((e=>e));if(r===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let i=[],s=t?[]:null;for(let a=0;a<o.length;a++){let n=o[a],r=-1;if(n){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==n.create&&(r=e)}if(r<0)i[a]=this.createTooltipView(n,a?i[a-1]:null),s&&(s[a]=!!n.above);else{let n=i[a]=this.tooltipViews[r];s&&(s[a]=t[r]),n.update&&n.update(e)}}}for(let a of this.tooltipViews)i.indexOf(a)<0&&(this.removeTooltipView(a),null===(n=a.destroy)||void 0===n||n.call(a));return t&&(s.forEach(((e,n)=>t[n]=e)),t.length=s.length),this.input=r,this.tooltips=o,this.tooltipViews=i,!0}}function eE(e){let{win:t}=e;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}const tE=Xb.define({combine:e=>{var t,n,r;return{position:Qx.ios?"absolute":(null===(t=e.find((e=>e.position)))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find((e=>e.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=e.find((e=>e.tooltipSpace)))||void 0===r?void 0:r.tooltipSpace)||eE}}}),nE=new WeakMap,rE=ik.fromClass(class{constructor(e){this.view=e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=e.state.facet(tE);this.position=t.position,this.parent=t.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver((()=>this.measureSoon())):null,this.manager=new J_(e,sE,((e,t)=>this.createTooltip(e,t)),(e=>{this.resizeObserver&&this.resizeObserver.unobserve(e.dom),e.dom.remove()})),this.above=this.manager.tooltips.map((e=>!!e.above)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e,this.above);t&&this.observeIntersection();let n=t||e.geometryChanged,r=e.state.facet(tE);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e,t){let n=e.create(this.view),r=t?t.dom:null;if(n.dom.classList.add("cm-tooltip"),e.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",n.dom.insertBefore(e,r)}return n.dom.style.position=this.position,n.dom.style.top=Q_,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var e,t,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),null===(e=r.destroy)||void 0===e||e.call(r);this.parent&&this.container.remove(),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),null===(n=this.intersectionObserver)||void 0===n||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=this.view.dom.getBoundingClientRect(),t=1,n=1,r=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:e}=this.manager.tooltipViews[0];if(Qx.gecko)r=e.offsetParent!=this.container.ownerDocument.body;else if(e.style.top==Q_&&"0px"==e.style.left){let t=e.getBoundingClientRect();r=Math.abs(t.top+1e4)>1||Math.abs(t.left)>1}}if(r||"absolute"==this.position)if(this.parent){let e=this.parent.getBoundingClientRect();e.width&&e.height&&(t=e.width/this.parent.offsetWidth,n=e.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:n}=this.view.viewState);return{editor:e,parent:this.parent?this.container.getBoundingClientRect():e,pos:this.manager.tooltips.map(((e,t)=>{let n=this.manager.tooltipViews[t];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)})),size:this.manager.tooltipViews.map((e=>{let{dom:t}=e;return t.getBoundingClientRect()})),space:this.view.state.facet(tE).tooltipSpace(this.view),scaleX:t,scaleY:n,makeAbsolute:r}}writeMeasure(e){var t;if(e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let e of this.manager.tooltipViews)e.dom.style.position="absolute"}let{editor:n,space:r,scaleX:o,scaleY:i}=e,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,d=e.pos[a],h=e.size[a];if(!d||d.bottom<=Math.max(n.top,r.top)||d.top>=Math.min(n.bottom,r.bottom)||d.right<Math.max(n.left,r.left)-.1||d.left>Math.min(n.right,r.right)+.1){u.style.top=Q_;continue}let f=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,m=h.right-h.left,g=null!==(t=nE.get(c))&&void 0!==t?t:h.bottom-h.top,v=c.offset||iE,y=this.view.textDirection==CS.LTR,b=h.width>r.right-r.left?y?r.left:r.right-h.width:y?Math.min(d.left-(f?14:0)+v.x,r.right-m):Math.max(r.left,d.left-m+(f?14:0)-v.x),w=this.above[a];!l.strictSide&&(w?d.top-(h.bottom-h.top)-v.y<r.top:d.bottom+(h.bottom-h.top)+v.y>r.bottom)&&w==r.bottom-d.bottom>d.top-r.top&&(w=this.above[a]=!w);let x=(w?d.top-r.top:r.bottom-d.bottom)-p;if(x<g&&!1!==c.resize){if(x<this.view.defaultLineHeight){u.style.top=Q_;continue}nE.set(c,g),u.style.height=(g=x)/i+"px"}else u.style.height&&(u.style.height="");let S=w?d.top-g-p-v.y:d.bottom+p+v.y,k=b+m;if(!0!==c.overlap)for(let e of s)e.left<k&&e.right>b&&e.top<S+g&&e.bottom>S&&(S=w?e.top-g-2-p:e.bottom+p+2);if("absolute"==this.position?(u.style.top=(S-e.parent.top)/i+"px",u.style.left=(b-e.parent.left)/o+"px"):(u.style.top=S/i+"px",u.style.left=b/o+"px"),f){let e=d.left+(y?v.x:-v.x)-(b+14-7);f.style.left=e/o+"px"}!0!==c.overlap&&s.push({left:b,top:S,right:k,bottom:S+g}),u.classList.toggle("cm-tooltip-above",w),u.classList.toggle("cm-tooltip-below",!w),c.positioned&&c.positioned(e.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=Q_}},{eventObservers:{scroll(){this.maybeMeasure()}}}),oE=r_.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"".concat(7,"px"),width:"".concat(14,"px"),position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"".concat(7,"px solid transparent"),borderRight:"".concat(7,"px solid transparent")},".cm-tooltip-above &":{bottom:"-".concat(7,"px"),"&:before":{borderTop:"".concat(7,"px solid #bbb")},"&:after":{borderTop:"".concat(7,"px solid #f5f5f5"),bottom:"1px"}},".cm-tooltip-below &":{top:"-".concat(7,"px"),"&:before":{borderBottom:"".concat(7,"px solid #bbb")},"&:after":{borderBottom:"".concat(7,"px solid #f5f5f5"),top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),iE={x:0,y:0},sE=Xb.define({enables:[rE,oE]}),aE=Xb.define({combine:e=>e.reduce(((e,t)=>e.concat(t)),[])});class lE{static create(e){return new lE(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new J_(e,aE,((e,t)=>this.createHostedView(e,t)),(e=>e.dom.remove()))}createHostedView(e,t){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)null===(e=t.destroy)||void 0===e||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let r=n[e];if(void 0!==r)if(void 0===t)t=r;else if(t!==r)return}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const cE=sE.compute([aE],(e=>{let t=e.facet(aE);return 0===t.length?null:{pos:Math.min(...t.map((e=>e.pos))),end:Math.max(...t.map((e=>{var t;return null!==(t=e.end)&&void 0!==t?t:e.pos}))),create:lE.create,above:t[0].above,arrow:t.some((e=>e.arrow))}}));class uE{constructor(e,t,n,r,o){this.view=e,this.source=t,this.field=n,this.setHover=r,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.nearest(t.target);if(!n)return;let r,o=1;if(n instanceof tS)r=n.posAtStart;else{if(r=e.posAtCoords(t),null==r)return;let n=e.coordsAtPos(r);if(!n||t.y<n.top||t.y>n.bottom||t.x<n.left-e.defaultCharacterWidth||t.x>n.right+e.defaultCharacterWidth)return;let i=e.bidiSpans(e.state.doc.lineAt(r)).find((e=>e.from<=r&&e.to>=r)),s=i&&i.dir==CS.RTL?-1:1;o=t.x<n.left?-s:s}let i=this.source(e,r,o);if(null===i||void 0===i?void 0:i.then){let t=this.pending={pos:r};i.then((n=>{this.pending==t&&(this.pending=null,!n||Array.isArray(n)&&!n.length||e.dispatch({effects:this.setHover.of(Array.isArray(n)?n:[n])}))}),(t=>tk(e.state,t,"hover tooltip")))}else!i||Array.isArray(i)&&!i.length||e.dispatch({effects:this.setHover.of(Array.isArray(i)?i:[i])})}get tooltip(){let e=this.view.plugin(rE),t=e?e.manager.tooltips.findIndex((e=>e.create==lE.create)):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:o}=this;if(r.length&&o&&!function(e,t){let n=e.getBoundingClientRect();return t.clientX>=n.left-dE&&t.clientX<=n.right+dE&&t.clientY>=n.top-dE&&t.clientY<=n.bottom+dE}(o.dom,e)||this.pending){let{pos:o}=r[0]||this.pending,i=null!==(n=null===(t=r[0])||void 0===t?void 0:t.end)&&void 0!==n?n:o;(o==i?this.view.posAtCoords(this.lastMove)==o:function(e,t,n,r,o,i){let s=e.scrollDOM.getBoundingClientRect(),a=e.documentTop+e.documentPadding.top+e.contentHeight;if(s.left>r||s.right<r||s.top>o||Math.min(s.bottom,a)<o)return!1;let l=e.posAtCoords({x:r,y:o},!1);return l>=t&&l<=n}(this.view,o,i,e.clientX,e.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:t}=this;t&&t.dom.contains(e.relatedTarget)?this.watchTooltipLeave(t.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const dE=4;function hE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=_w.define(),r=nw.define({create:()=>[],update(e,r){if(e.length&&(t.hideOnChange&&(r.docChanged||r.selection)?e=[]:t.hideOn&&(e=e.filter((e=>!t.hideOn(r,e)))),r.docChanged)){let t=[];for(let n of e){let e=r.changes.mapPos(n.pos,-1,zb.TrackDel);if(null!=e){let o=Object.assign(Object.create(null),n);o.pos=e,null!=o.end&&(o.end=r.changes.mapPos(o.end)),t.push(o)}}e=t}for(let t of r.effects)t.is(n)&&(e=t.value),t.is(pE)&&(e=[]);return e},provide:e=>aE.from(e)});return[r,ik.define((o=>new uE(o,e,r,n,t.hoverTime||300))),cE]}function fE(e,t){let n=e.plugin(rE);if(!n)return null;let r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}const pE=_w.define();const mE=Xb.define({combine(e){let t,n;for(let r of e)t=t||r.topContainer,n=n||r.bottomContainer;return{topContainer:t,bottomContainer:n}}});function gE(e,t){let n=e.plugin(vE),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}const vE=ik.fromClass(class{constructor(e){this.input=e.state.facet(wE),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(mE);this.top=new yE(e,!0,t.topContainer),this.bottom=new yE(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(e){let t=e.state.facet(mE);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new yE(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new yE(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(wE);if(n!=this.input){let t=n.filter((e=>e)),r=[],o=[],i=[],s=[];for(let n of t){let t,a=this.specs.indexOf(n);a<0?(t=n(e.view),s.push(t)):(t=this.panels[a],t.update&&t.update(e)),r.push(t),(t.top?o:i).push(t)}this.specs=t,this.panels=r,this.top.sync(o),this.bottom.sync(i);for(let e of s)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let r of this.panels)r.update&&r.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>r_.scrollMargins.of((t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class yE{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=bE(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=bE(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function bE(e){let t=e.nextSibling;return e.remove(),t}const wE=Xb.define({enables:vE});class xE extends jw{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}xE.prototype.elementClass="",xE.prototype.toDOM=void 0,xE.prototype.mapMode=zb.TrackBefore,xE.prototype.startSide=xE.prototype.endSide=-1,xE.prototype.point=!0;const SE=Xb.define(),kE={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Hw.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},CE=Xb.define();function _E(e){return[AE(),CE.of(Object.assign(Object.assign({},kE),e))]}const EE=Xb.define({combine:e=>e.some((e=>e))});function AE(e){let t=[ME];return e&&!1===e.fixed&&t.push(EE.of(!0)),t}const ME=ik.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(CE).map((t=>new NE(e,t)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!e.state.facet(EE),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(EE)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let n=Hw.iter(this.view.state.facet(SE),this.view.viewport.from),r=[],o=this.gutters.map((e=>new OE(e,this.view.viewport,-this.view.documentPadding.top)));for(let i of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(i.type)){let e=!0;for(let t of i.type)if(t.type==pS.Text&&e){PE(n,r,t.from);for(let e of o)e.line(this.view,t,r);e=!1}else if(t.widget)for(let e of o)e.widget(this.view,t)}else if(i.type==pS.Text){PE(n,r,i.from);for(let e of o)e.line(this.view,i,r)}else if(i.widget)for(let e of o)e.widget(this.view,i);for(let i of o)i.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(CE),n=e.state.facet(CE),r=e.docChanged||e.heightChanged||e.viewportChanged||!Hw.eq(e.startState.facet(SE),e.state.facet(SE),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let o of this.gutters)o.update(e)&&(r=!0);else{r=!0;let o=[];for(let r of n){let n=t.indexOf(r);n<0?o.push(new NE(this.view,r)):(this.gutters[n].update(e),o.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),o.indexOf(e)<0&&e.destroy();for(let e of o)this.dom.appendChild(e.dom);this.gutters=o}return r}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>r_.scrollMargins.of((t=>{let n=t.plugin(e);return n&&0!=n.gutters.length&&n.fixed?t.textDirection==CS.LTR?{left:n.dom.offsetWidth*t.scaleX}:{right:n.dom.offsetWidth*t.scaleX}:null}))});function TE(e){return Array.isArray(e)?e:[e]}function PE(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class OE{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Hw.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:r}=this,o=(t.top-this.height)/e.scaleY,i=t.height/e.scaleY;if(this.i==r.elements.length){let t=new DE(e,i,o,n);r.elements.push(t),r.dom.appendChild(t.dom)}else r.elements[this.i].update(e,i,o,n);this.height=t.bottom,this.i++}line(e,t,n){let r=[];PE(this.cursor,r,t.from),n.length&&(r=r.concat(n));let o=this.gutter.config.lineMarker(e,t,r);o&&r.unshift(o);let i=this.gutter;(0!=r.length||i.config.renderEmptyElements)&&this.addElement(e,t,r)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t);n&&this.addElement(e,t,[n])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class NE{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,(r=>{let o,i=r.target;if(i!=this.dom&&this.dom.contains(i)){for(;i.parentNode!=this.dom;)i=i.parentNode;let e=i.getBoundingClientRect();o=(e.top+e.bottom)/2}else o=r.clientY;let s=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[n](e,s,r)&&r.preventDefault()}));this.markers=TE(t.markers(e)),t.initialSpacer&&(this.spacer=new DE(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=TE(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!Hw.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class DE{constructor(e,t,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,r)}update(e,t,n,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let n="cm-gutterElement",r=this.dom.firstChild;for(let o=0,i=0;;){let s=i,a=o<t.length?t[o++]:null,l=!1;if(a){let e=a.elementClass;e&&(n+=" "+e);for(let t=i;t<this.markers.length;t++)if(this.markers[t].compare(a)){s=t,l=!0;break}}else s=this.markers.length;for(;i<s;){let e=this.markers[i++];if(e.toDOM){e.destroy(r);let t=r.nextSibling;r.remove(),r=t}}if(!a)break;a.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(a.toDOM(e),r)),l&&i++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}const RE=Xb.define(),IE=Xb.define({combine:e=>Bw(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let r in t){let e=n[r],o=t[r];n[r]=e?(t,n,r)=>e(t,n,r)||o(t,n,r):o}return n}})});class zE extends xE{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function LE(e,t){return e.state.facet(IE).formatNumber(t,e.state)}const BE=CE.compute([IE],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(RE),lineMarker:(e,t,n)=>n.some((e=>e.toDOM))?null:new zE(LE(e,e.state.doc.lineAt(t.from).number)),widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(IE)!=e.state.facet(IE),initialSpacer:e=>new zE(LE(e,jE(e.state.doc.lines))),updateSpacer(e,t){let n=LE(t.view,jE(t.view.state.doc.lines));return n==e.number?e:new zE(n)},domEventHandlers:e.facet(IE).domEventHandlers})));function jE(e){let t=9;for(;t<e;)t=10*t+9;return t}const FE=new class extends xE{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},VE=SE.compute(["selection"],(e=>{let t=[],n=-1;for(let r of e.selection.ranges){let o=e.doc.lineAt(r.head).from;o>n&&(n=o,t.push(FE.range(o)))}return Hw.of(t)}));var WE=Xb.define({combine:e=>e.length&&Array.isArray(e)?e.flat():[]}),HE=Xb.define({combine:e=>e.length&&Array.isArray(e)?Math.min(...e):2}),UE=mS.line({attributes:{class:"cm-zebra-stripe"}});function qE(e){var t=e.state.facet(HE),n=e.state.facet(WE),r=new Uw;for(var{from:o,to:i}of e.visibleRanges)for(var s=o;s<=i;){var a=e.state.doc.lineAt(s);a.number%t===0&&0===n.length&&r.add(a.from,a.from,UE),n.length>0&&n.flat().includes(a.number)&&r.add(a.from,a.from,UE),s=a.to+1}return r.finish()}ik.fromClass(class{constructor(e){this.decorations=void 0,this.decorations=qE(e)}update(e){this.decorations=qE(e.view)}},{decorations:e=>e.decorations});const KE=1024;let YE=0;class $E{constructor(e,t){this.from=e,this.to=t}}class XE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=YE++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=QE.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}XE.closedBy=new XE({deserialize:e=>e.split(" ")}),XE.openedBy=new XE({deserialize:e=>e.split(" ")}),XE.group=new XE({deserialize:e=>e.split(" ")}),XE.isolate=new XE({deserialize:e=>{if(e&&"rtl"!=e&&"ltr"!=e&&"auto"!=e)throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}}),XE.contextHash=new XE({perNode:!0}),XE.lookAhead=new XE({perNode:!0}),XE.mounted=new XE({perNode:!0});class GE{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[XE.mounted.id]}}const ZE=Object.create(null);class QE{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):ZE,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),r=new QE(e.name||"",t,e.id,n);if(e.props)for(let o of e.props)if(Array.isArray(o)||(o=o(r)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}return r}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(XE.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return e=>{for(let n=e.prop(XE.group),r=-1;r<(n?n.length:0);r++){let o=t[r<0?e.name:n[r]];if(o)return o}}}}QE.none=new QE("",Object.create(null),0,8);const JE=new WeakMap,eA=new WeakMap;var tA;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(tA||(tA={}));class nA{constructor(e,t,n,r,o){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[e,t]of o)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=GE.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let e=n.toString();e&&(t&&(t+=","),t+=e)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new mA(this.topNode,e)}cursorAt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=JE.get(this)||this.topNode,r=new mA(n);return r.moveTo(e,t),JE.set(this,r._tree),r}get topNode(){return new lA(this,0,0,null)}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=sA(JE.get(this)||this.topNode,e,t,!1);return JE.set(this,n),n}resolveInner(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=sA(eA.get(this)||this.topNode,e,t,!0);return eA.set(this,n),n}resolveStack(e){return function(e,t,n){let r=e.resolveInner(t,n),o=null;for(let i=r instanceof lA?r:r.context.parent;i;i=i.parent)if(i.index<0){let e=i.parent;(o||(o=[r])).push(e.resolve(t,n)),i=e}else{let e=GE.get(i.tree);if(e&&e.overlay&&e.overlay[0].from<=t&&e.overlay[e.overlay.length-1].to>=t){let s=new lA(e.tree,e.overlay[0].from+i.from,-1,i);(o||(o=[r])).push(sA(s,t,n,!1))}}return o?fA(o):r}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}iterate(e){let{enter:t,leave:n,from:r=0,to:o=this.length}=e,i=e.mode||0,s=(i&tA.IncludeAnonymous)>0;for(let a=this.cursor(i|tA.IncludeAnonymous);;){let e=!1;if(a.from<=o&&a.to>=r&&(!s&&a.type.isAnonymous||!1!==t(a))){if(a.firstChild())continue;e=!0}for(;e&&n&&(s||!a.type.isAnonymous)&&n(a),!a.nextSibling();){if(!a.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:bA(QE.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,n)=>new nA(this.type,e,t,n,this.propValues)),e.makeTree||((e,t,n)=>new nA(QE.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:r,maxBufferLength:o=KE,reused:i=[],minRepeatType:s=r.types.length}=e,a=Array.isArray(n)?new rA(n,n.length):n,l=r.types,c=0,u=0;function d(e,t,n,y,b,w){let{id:x,start:S,end:k,size:C}=a,_=u;for(;C<0;){if(a.next(),-1==C){let t=i[x];return n.push(t),void y.push(S-e)}if(-3==C)return void(c=x);if(-4==C)return void(u=x);throw new RangeError("Unrecognized record size: ".concat(C))}let E,A,M=l[x],T=S-e;if(k-S<=o&&(A=g(a.pos-t,b))){let t=new Uint16Array(A.size-A.skip),n=a.pos-A.size,o=t.length;for(;a.pos>n;)o=v(A.start,t,o);E=new oA(t,k-A.start,r),T=A.start-e}else{let e=a.pos-C;a.next();let t=[],n=[],r=x>=s?x:-1,i=0,l=k;for(;a.pos>e;)r>=0&&a.id==r&&a.size>=0?(a.end<=l-o&&(p(t,n,S,i,a.end,l,r,_),i=t.length,l=a.end),a.next()):w>2500?h(S,e,t,n):d(S,e,t,n,r,w+1);if(r>=0&&i>0&&i<t.length&&p(t,n,S,i,S,l,r,_),t.reverse(),n.reverse(),r>-1&&i>0){let e=f(M);E=bA(M,t,n,0,t.length,0,k-S,e,e)}else E=m(M,t,n,k-S,_-k)}n.push(E),y.push(T)}function h(e,t,n,i){let s=[],l=0,c=-1;for(;a.pos>t;){let{id:e,start:t,end:n,size:r}=a;if(r>4)a.next();else{if(c>-1&&t<c)break;c<0&&(c=n-o),s.push(e,t,n),l++,a.next()}}if(l){let t=new Uint16Array(4*l),o=s[s.length-2];for(let e=s.length-3,n=0;e>=0;e-=3)t[n++]=s[e],t[n++]=s[e+1]-o,t[n++]=s[e+2]-o,t[n++]=n;n.push(new oA(t,s[2]-o,r)),i.push(o-e)}}function f(e){return(t,n,r)=>{let o,i,s=0,a=t.length-1;if(a>=0&&(o=t[a])instanceof nA){if(!a&&o.type==e&&o.length==r)return o;(i=o.prop(XE.lookAhead))&&(s=n[a]+o.length+i)}return m(e,t,n,r,s)}}function p(e,t,n,o,i,s,a,l){let c=[],u=[];for(;e.length>o;)c.push(e.pop()),u.push(t.pop()+n-i);e.push(m(r.types[a],c,u,s-i,l-s)),t.push(i-n)}function m(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0;if(c){let e=[XE.contextHash,c];i=i?[e].concat(i):[e]}if(o>25){let e=[XE.lookAhead,o];i=i?[e].concat(i):[e]}return new nA(e,t,n,r,i)}function g(e,t){let n=a.fork(),r=0,i=0,l=0,c=n.end-o,u={size:0,start:0,skip:0};e:for(let o=n.pos-e;n.pos>o;){let e=n.size;if(n.id==t&&e>=0){u.size=r,u.start=i,u.skip=l,l+=4,r+=4,n.next();continue}let a=n.pos-e;if(e<0||a<o||n.start<c)break;let d=n.id>=s?4:0,h=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break e;d+=4}else n.id>=s&&(d+=4);n.next()}i=h,r+=e,l+=d}return(t<0||r==e)&&(u.size=r,u.start=i,u.skip=l),u.size>4?u:void 0}function v(e,t,n){let{id:r,start:o,end:i,size:l}=a;if(a.next(),l>=0&&r<s){let s=n;if(l>4){let r=a.pos-(l-4);for(;a.pos>r;)n=v(e,t,n)}t[--n]=s,t[--n]=i-e,t[--n]=o-e,t[--n]=r}else-3==l?c=r:-4==l&&(u=r);return n}let y=[],b=[];for(;a.pos>0;)d(e.start||0,e.bufferStart||0,y,b,-1,0);let w=null!==(t=e.length)&&void 0!==t?t:y.length?b[0]+y[0].length:0;return new nA(l[e.topID],y.reverse(),b.reverse(),w)}(e)}}nA.empty=new nA(QE.none,[],[],0);class rA{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new rA(this.buffer,this.index)}}class oA{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return QE.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),n==(e+=4))return o;let i=[];for(;e<n;)i.push(this.childString(e)),e=this.buffer[e+3];return o+"("+i.join(",")+")"}findChild(e,t,n,r,o){let{buffer:i}=this,s=-1;for(let a=e;a!=t&&!(iA(o,r,i[a+1],i[a+2])&&(s=a,n>0));a=i[a+3]);return s}slice(e,t,n){let r=this.buffer,o=new Uint16Array(t-e),i=0;for(let s=e,a=0;s<t;){o[a++]=r[s++],o[a++]=r[s++]-n;let t=o[a++]=r[s++]-n;o[a++]=r[s++]-e,i=Math.max(i,t)}return new oA(o,i,this.set)}}function iA(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function sA(e,t,n,r){for(var o;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!r&&e instanceof lA&&e.index<0?null:e.parent;if(!t)return e;e=t}let i=r?0:tA.IgnoreOverlays;if(r)for(let s=e,a=s.parent;a;s=a,a=s.parent)s instanceof lA&&s.index<0&&(null===(o=a.enter(t,n,i))||void 0===o?void 0:o.from)!=s.from&&(e=a);for(;;){let r=e.enter(t,n,i);if(!r)return e;e=r}}class aA{cursor(){return new mA(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}getChild(e){let t=cA(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return t.length?t[0]:null}getChildren(e){return cA(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}resolve(e){return sA(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!1)}resolveInner(e){return sA(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!0)}matchContext(e){return uA(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(n=t,t=e.prevSibling):t=e}return n}get node(){return this}get next(){return this.parent}}class lA extends aA{constructor(e,t,n,r){super(),this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;for(let i=this;;){for(let{children:s,positions:a}=i._tree,l=t>0?s.length:-1;e!=l;e+=t){let l=s[e],c=a[e]+i.from;if(iA(r,n,c,c+l.length))if(l instanceof oA){if(o&tA.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,t,n-c,r);if(s>-1)return new hA(new dA(i,l,e,c),null,s)}else if(o&tA.IncludeAnonymous||!l.type.isAnonymous||gA(l)){let s;if(!(o&tA.IgnoreMounts)&&(s=GE.get(l))&&!s.overlay)return new lA(s.tree,c,e,i);let a=new lA(l,c,e,i);return o&tA.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(t<0?l.children.length-1:0,t,n,r)}}if(o&tA.IncludeAnonymous||!i.type.isAnonymous)return null;if(e=i.index>=0?i.index+t:t<0?-1:i._parent._tree.children.length,i=i._parent,!i)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(r&tA.IgnoreOverlays)&&(n=GE.get(this._tree))&&n.overlay){let r=e-this.from;for(let{from:e,to:o}of n.overlay)if((t>0?e<=r:e<r)&&(t<0?o>=r:o>r))return new lA(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function cA(e,t,n,r){let o=e.cursor(),i=[];if(!o.firstChild())return i;if(null!=n)for(let s=!1;!s;)if(s=o.type.is(n),!o.nextSibling())return i;for(;;){if(null!=r&&o.type.is(r))return i;if(o.type.is(t)&&i.push(o.node),!o.nextSibling())return null==r?i:[]}}function uA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1;for(let r=e.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}class dA{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class hA extends aA{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return o<0?null:new hA(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&tA.ExcludeBuffers)return null;let{buffer:n}=this.context,r=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return r<0?null:new hA(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new hA(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new hA(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,o=n.buffer[this.index+3];if(o>r){let i=n.buffer[this.index+1];e.push(n.slice(r,o,i)),t.push(0)}return new nA(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function fA(e){if(!e.length)return null;let t=0,n=e[0];for(let i=1;i<e.length;i++){let r=e[i];(r.from>n.from||r.to<n.to)&&(n=r,t=i)}let r=n instanceof lA&&n.index<0?null:n.parent,o=e.slice();return r?o[t]=r:o.splice(t,1),new pA(o,n)}class pA{constructor(e,t){this.heads=e,this.node=t}get next(){return fA(this.heads)}}class mA{get name(){return this.type.name}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof lA)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof lA?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&tA.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&tA.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&tA.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(r.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let r=t+e,o=e<0?-1:n._tree.children.length;r!=o;r+=e){let e=n._tree.children[r];if(this.mode&tA.IncludeAnonymous||e instanceof oA||!e.type.isAnonymous||gA(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,e)}prev(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,e)}moveTo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,o=this.stack.length;o>=0;){for(let i=e;i;i=i._parent)if(i.index==r){if(r==this.index)return i;t=i,n=o+1;break e}r=this.stack[--o]}for(let r=n;r<this.stack.length;r++)t=new hA(this.buffer,t,this.stack[r]);return this.bufferNode=new hA(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return uA(this.node,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return uA(this.node,e,r);let i=n[t.buffer[this.stack[o]]];if(!i.isAnonymous){if(e[r]&&e[r]!=i.name)return!1;r--}}return!0}}function gA(e){return e.children.some((e=>e instanceof oA||!e.type.isAnonymous||gA(e)))}const vA=new WeakMap;function yA(e,t){if(!e.isAnonymous||t instanceof oA||t.type!=e)return 1;let n=vA.get(t);if(null==n){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof nA)){n=1;break}n+=yA(e,r)}vA.set(t,n)}return n}function bA(e,t,n,r,o,i,s,a,l){let c=0;for(let f=r;f<o;f++)c+=yA(e,t[f]);let u=Math.ceil(1.5*c/8),d=[],h=[];return function t(n,r,o,s,a){for(let c=o;c<s;){let o=c,f=r[c],p=yA(e,n[c]);for(c++;c<s;c++){let t=yA(e,n[c]);if(p+t>=u)break;p+=t}if(c==o+1){if(p>u){let e=n[o];t(e.children,e.positions,0,e.children.length,r[o]+a);continue}d.push(n[o])}else{let t=r[c-1]+n[c-1].length-f;d.push(bA(e,n,r,o,c,f,t,null,l))}h.push(f+a-i)}}(t,n,r,o,0),(a||l)(d,h,s)}class wA{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=(o?1:0)|(i?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[new wA(0,e.length,e,0,!1,n)];for(let o of t)o.to>e.length&&r.push(o);return r}static applyChanges(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!t.length)return e;let r=[],o=1,i=e.length?e[0]:null;for(let s=0,a=0,l=0;;s++){let c=s<t.length?t[s]:null,u=c?c.fromA:1e9;if(u-a>=n)for(;i&&i.from<u;){let t=i;if(a>=t.from||u<=t.to||l){let e=Math.max(t.from,a)-l,n=Math.min(t.to,u)-l;t=e>=n?null:new wA(e,n,t.tree,t.offset+l,s>0,!!c)}if(t&&r.push(t),i.to>u)break;i=o<e.length?e[o++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return r}}class xA{startParse(e,t,n){return"string"==typeof e&&(e=new SA(e)),n=n?n.length?n.map((e=>new $E(e.from,e.to))):[new $E(0,0)]:[new $E(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let e=r.advance();if(e)return e}}}class SA{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new XE({perNode:!0});let kA=0;class CA{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=kA++}static define(e){if(null===e||void 0===e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new CA([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new EA;return t=>t.modified.indexOf(e)>-1?t:EA.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let _A=0;class EA{constructor(){this.instances=[],this.id=_A++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find((n=>{return n.base==e&&(r=t,o=n.modified,r.length==o.length&&r.every(((e,t)=>e==o[t])));var r,o}));if(n)return n;let r=[],o=new CA(r,e,t);for(let s of t)s.instances.push(o);let i=function(e){let t=[[]];for(let n=0;n<e.length;n++)for(let r=0,o=t.length;r<o;r++)t.push(t[r].concat(e[n]));return t.sort(((e,t)=>t.length-e.length))}(t);for(let s of e.set)if(!s.modified.length)for(let e of i)r.push(EA.get(s,e));return o}}function AA(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let e of n.split(" "))if(e){let n=[],o=2,i=e;for(let t=0;;){if("..."==i&&t>0&&t+3==e.length){o=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(i);if(!r)throw new RangeError("Invalid path: "+e);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),t+=r[0].length,t==e.length)break;let s=e[t++];if(t==e.length&&"!"==s){o=0;break}if("/"!=s)throw new RangeError("Invalid path: "+e);i=e.slice(t)}let s=n.length-1,a=n[s];if(!a)throw new RangeError("Invalid path: "+e);let l=new TA(r,o,s>0?n.slice(0,s):null);t[a]=l.sort(t[a])}}return MA.add(t)}const MA=new XE;class TA{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function PA(e,t){let n=Object.create(null);for(let i of e)if(Array.isArray(i.tag))for(let e of i.tag)n[e.id]=i.class;else n[i.tag.id]=i.class;let{scope:r,all:o=null}=t||{};return{style:e=>{let t=o;for(let r of e)for(let e of r.set){let r=n[e.id];if(r){t=t?t+" "+r:r;break}}return t},scope:r}}function OA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length,i=new NA(r,Array.isArray(t)?t:[t],n);i.highlightRange(e.cursor(),r,o,"",i.highlighters),i.flush(o)}TA.empty=new TA([],2,null);class NA{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,r,o){let{type:i,from:s,to:a}=e;if(s>=n||a<=t)return;i.isTop&&(o=this.highlighters.filter((e=>!e.scope||e.scope(i))));let l=r,c=function(e){let t=e.type.prop(MA);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||TA.empty,u=function(e,t){let n=null;for(let r of e){let e=r.style(t);e&&(n=n?n+" "+e:e)}return n}(o,c.tags);if(u&&(l&&(l+=" "),l+=u,1==c.mode&&(r+=(r?" ":"")+u)),this.startSpan(Math.max(t,s),l),c.opaque)return;let d=e.tree&&e.tree.prop(XE.mounted);if(d&&d.overlay){let i=e.node.enter(d.overlay[0].from+s,1),c=this.highlighters.filter((e=>!e.scope||e.scope(d.tree.type))),u=e.firstChild();for(let h=0,f=s;;h++){let p=h<d.overlay.length?d.overlay[h]:null,m=p?p.from+s:a,g=Math.max(t,f),v=Math.min(n,m);if(g<v&&u)for(;e.from<v&&(this.highlightRange(e,g,v,r,o),this.startSpan(Math.min(v,e.to),l),!(e.to>=m)&&e.nextSibling()););if(!p||m>n)break;f=p.to+s,f>t&&(this.highlightRange(i.cursor(),Math.max(t,p.from+s),Math.min(n,f),"",c),this.startSpan(Math.min(n,f),l))}u&&e.parent()}else if(e.firstChild()){d&&(r="");do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,o),this.startSpan(Math.min(n,e.to),l)}}while(e.nextSibling());e.parent()}}}const DA=CA.define,RA=DA(),IA=DA(),zA=DA(IA),LA=DA(IA),BA=DA(),jA=DA(BA),FA=DA(BA),VA=DA(),WA=DA(VA),HA=DA(),UA=DA(),qA=DA(),KA=DA(qA),YA=DA(),$A={comment:RA,lineComment:DA(RA),blockComment:DA(RA),docComment:DA(RA),name:IA,variableName:DA(IA),typeName:zA,tagName:DA(zA),propertyName:LA,attributeName:DA(LA),className:DA(IA),labelName:DA(IA),namespace:DA(IA),macroName:DA(IA),literal:BA,string:jA,docString:DA(jA),character:DA(jA),attributeValue:DA(jA),number:FA,integer:DA(FA),float:DA(FA),bool:DA(BA),regexp:DA(BA),escape:DA(BA),color:DA(BA),url:DA(BA),keyword:HA,self:DA(HA),null:DA(HA),atom:DA(HA),unit:DA(HA),modifier:DA(HA),operatorKeyword:DA(HA),controlKeyword:DA(HA),definitionKeyword:DA(HA),moduleKeyword:DA(HA),operator:UA,derefOperator:DA(UA),arithmeticOperator:DA(UA),logicOperator:DA(UA),bitwiseOperator:DA(UA),compareOperator:DA(UA),updateOperator:DA(UA),definitionOperator:DA(UA),typeOperator:DA(UA),controlOperator:DA(UA),punctuation:qA,separator:DA(qA),bracket:KA,angleBracket:DA(KA),squareBracket:DA(KA),paren:DA(KA),brace:DA(KA),content:VA,heading:WA,heading1:DA(WA),heading2:DA(WA),heading3:DA(WA),heading4:DA(WA),heading5:DA(WA),heading6:DA(WA),contentSeparator:DA(VA),list:DA(VA),quote:DA(VA),emphasis:DA(VA),strong:DA(VA),link:DA(VA),monospace:DA(VA),strikethrough:DA(VA),inserted:DA(),deleted:DA(),changed:DA(),invalid:DA(),meta:YA,documentMeta:DA(YA),annotation:DA(YA),processingInstruction:DA(YA),definition:CA.defineModifier(),constant:CA.defineModifier(),function:CA.defineModifier(),standard:CA.defineModifier(),local:CA.defineModifier(),special:CA.defineModifier()};PA([{tag:$A.link,class:"tok-link"},{tag:$A.heading,class:"tok-heading"},{tag:$A.emphasis,class:"tok-emphasis"},{tag:$A.strong,class:"tok-strong"},{tag:$A.keyword,class:"tok-keyword"},{tag:$A.atom,class:"tok-atom"},{tag:$A.bool,class:"tok-bool"},{tag:$A.url,class:"tok-url"},{tag:$A.labelName,class:"tok-labelName"},{tag:$A.inserted,class:"tok-inserted"},{tag:$A.deleted,class:"tok-deleted"},{tag:$A.literal,class:"tok-literal"},{tag:$A.string,class:"tok-string"},{tag:$A.number,class:"tok-number"},{tag:[$A.regexp,$A.escape,$A.special($A.string)],class:"tok-string2"},{tag:$A.variableName,class:"tok-variableName"},{tag:$A.local($A.variableName),class:"tok-variableName tok-local"},{tag:$A.definition($A.variableName),class:"tok-variableName tok-definition"},{tag:$A.special($A.variableName),class:"tok-variableName2"},{tag:$A.definition($A.propertyName),class:"tok-propertyName tok-definition"},{tag:$A.typeName,class:"tok-typeName"},{tag:$A.namespace,class:"tok-namespace"},{tag:$A.className,class:"tok-className"},{tag:$A.macroName,class:"tok-macroName"},{tag:$A.propertyName,class:"tok-propertyName"},{tag:$A.operator,class:"tok-operator"},{tag:$A.comment,class:"tok-comment"},{tag:$A.meta,class:"tok-meta"},{tag:$A.invalid,class:"tok-invalid"},{tag:$A.punctuation,class:"tok-punctuation"}]);var XA;const GA=new XE;const ZA=new XE;class QA{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.data=e,this.name=r,Lw.prototype.hasOwnProperty("tree")||Object.defineProperty(Lw.prototype,"tree",{get(){return eM(this)}}),this.parser=t,this.extension=[cM.of(this),Lw.languageData.of(((e,t,n)=>{let r=JA(e,t,n),o=r.type.prop(GA);if(!o)return[];let i=e.facet(o),s=r.type.prop(ZA);if(s){let o=r.resolve(t-r.from,n);for(let t of s)if(t.test(o,e)){let n=e.facet(t.facet);return"replace"==t.type?n:n.concat(i)}}return i}))].concat(n)}isActiveAt(e,t){return JA(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1).type.prop(GA)==this.data}findRegions(e){let t=e.facet(cM);if((null===t||void 0===t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],r=(e,t)=>{if(e.prop(GA)==this.data)return void n.push({from:t,to:t+e.length});let o=e.prop(XE.mounted);if(o){if(o.tree.prop(GA)==this.data){if(o.overlay)for(let e of o.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}if(o.overlay){let e=n.length;if(r(o.tree,o.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let o=e.children[n];o instanceof nA&&r(o,e.positions[n]+t)}};return r(eM(e),0),n}get allowsNesting(){return!0}}function JA(e,t,n){let r=e.facet(cM),o=eM(e).topNode;if(!r||r.allowsNesting)for(let i=o;i;i=i.enter(t,n,tA.ExcludeBuffers))i.type.isTop&&(o=i);return o}QA.setState=_w.define();function eM(e){let t=e.field(QA.state,!1);return t?t.tree:nA.empty}class tM{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let nM=null;class rM{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0;this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.treeLen=o,this.viewport=i,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new rM(e,t,[],nA.empty,0,n,[],null)}startParse(){return this.parser.startParse(new tM(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=nA.empty&&this.isDone(null!==t&&void 0!==t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(wA.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!==t&&void 0!==t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(wA.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=nM;nM=this;try{return e()}finally{nM=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=oM(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:r,treeLen:o,viewport:i,skipped:s}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,n,r,o)=>t.push({fromA:e,toA:n,fromB:r,toB:o}))),n=wA.applyChanges(n,t),r=nA.empty,o=0,i={from:e.mapPos(i.from,-1),to:e.mapPos(i.to,1)},this.skipped.length){s=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);n<r&&s.push({from:n,to:r})}}}return new rM(this.parser,t,n,r,o,i,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:t,to:r}=this.skipped[n];t<e.to&&r>e.from&&(this.fragments=oM(this.fragments,t,r),this.skipped.splice(n--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends xA{createParse(t,n,r){let o=r[0].from,i=r[r.length-1].to,s={parsedPos:o,advance(){let t=nM;if(t){for(let e of r)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=i,new nA(QE.none,[],[],i-o)},stoppedAt:null,stopAt(){}};return s}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return nM}}function oM(e,t,n){return wA.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class iM{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new iM(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=rM.create(e.facet(cM).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new iM(n)}}QA.state=nw.define({create:iM.init,update(e,t){for(let n of t.effects)if(n.is(QA.setState))return n.value;return t.startState.facet(cM)!=t.state.facet(cM)?iM.init(t.state):e.apply(t)}});let sM=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(sM=e=>{let t=-1,n=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const aM="undefined"!=typeof navigator&&(null===(XA=navigator.scheduling)||void 0===XA?void 0:XA.isInputPending)?()=>navigator.scheduling.isInputPending():null,lM=ik.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(QA.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(QA.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=sM(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,o=n.field(QA.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let i=Date.now()+Math.min(this.chunkBudget,100,e&&!aM?Math.max(25,e.timeRemaining()-5):1e9),s=o.context.treeLen<r&&n.doc.length>r+1e3,a=o.context.work((()=>aM&&aM()||Date.now()>i),r+(s?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:QA.setState.of(new iM(o.context))})),this.chunkBudget>0&&(!a||s)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>tk(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),cM=Xb.define({combine:e=>e.length?e[0]:null,enables:e=>[QA.state,lM,r_.contentAttributes.compute([e],(t=>{let n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}}))]});const uM=Xb.define(),dM=Xb.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some((e=>e!=t[0])))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function hM(e){let t=e.facet(dM);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function fM(e,t){let n="",r=e.tabSize,o=e.facet(dM)[0];if("\t"==o){for(;t>=r;)n+="\t",t-=r;o=" "}for(let i=0;i<t;i++)n+=o;return n}function pM(e,t){e instanceof Lw&&(e=new mM(e));for(let r of e.state.facet(uM)){let n=r(e,t);if(void 0!==n)return n}let n=eM(e.state);return n.length>=t?function(e,t,n){let r=t.resolveStack(n),o=r.node.enterUnfinishedNodesBefore(n);if(o!=r.node){let e=[];for(let t=o;t!=r.node;t=t.parent)e.push(t);for(let t=e.length-1;t>=0;t--)r={node:e[t],next:r}}return vM(r,e,n)}(e,n,t):null}class mM{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state=e,this.options=t,this.unit=hM(e)}lineAt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return null!=r&&r>=n.from&&r<=n.to?o&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(e,t);return n.slice(e-r,Math.min(n.length,e+100-r))}column(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{text:n,from:r}=this.lineAt(e,t),o=this.countColumn(n,e-r),i=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return i>-1&&(o+=i-this.countColumn(n,n.search(/\S|$/))),o}countColumn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return tx(e,this.state.tabSize,t)}lineIndent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{text:n,from:r}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let e=o(r);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const gM=new XE;function vM(e,t,n){for(let r=e;r;r=r.next){let e=yM(r.node);if(e)return e(wM.create(t,n,r))}return 0}function yM(e){let t=e.type.prop(gM);if(t)return t;let n,r=e.firstChild;if(r&&(n=r.type.prop(XE.closedBy))){let t=e.lastChild,r=t&&n.indexOf(t.name)>-1;return e=>SM(e,!0,1,void 0,r&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?bM:null}function bM(){return 0}class wM extends mM{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new wM(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(xM(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return vM(this.context.next,this.base,this.pos)}}function xM(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function SM(e,t,n,r,o){let i=e.textAfter,s=i.match(/^\s*/)[0].length,a=r&&i.slice(s,s+r.length)==r||o==e.pos+s,l=t?function(e){let t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;let o=e.options.simulateBreak,i=e.state.doc.lineAt(n.from),s=null==o||o<=i.from?i.to:Math.min(i.to,o);for(let a=n.to;;){let e=t.childAfter(a);if(!e||e==r)return null;if(!e.type.isSkipped)return e.from<s?n:null;a=e.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*n)}const kM=Xb.define(),CM=new XE;function _M(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function EM(e,t,n){for(let r of e.facet(kM)){let o=r(e,t,n);if(o)return o}return function(e,t,n){let r=eM(e);if(r.length<n)return null;let o=null;for(let i=r.resolveStack(n,1);i;i=i.next){let s=i.node;if(s.to<=n||s.from>n)continue;if(o&&s.from<t)break;let a=s.type.prop(CM);if(a&&(s.to<r.length-50||r.length==e.doc.length||!_M(s))){let r=a(s,e);r&&r.from<=n&&r.from>=t&&r.to>n&&(o=r)}}return o}(e,t,n)}function AM(e,t){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}const MM=_w.define({map:AM}),TM=_w.define({map:AM});function PM(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some((e=>e.from<=n&&e.to>=n))||t.push(e.lineBlockAt(n));return t}const OM=nw.define({create:()=>mS.none,update(e,t){e=e.map(t.changes);for(let n of t.effects)if(n.is(MM)&&!DM(e,n.value.from,n.value.to)){let{preparePlaceholder:r}=t.state.facet(BM),o=r?mS.replace({widget:new WM(r(t.state,n.value))}):VM;e=e.update({add:[o.range(n.value.from,n.value.to)]})}else n.is(TM)&&(e=e.update({filter:(e,t)=>n.value.from!=e||n.value.to!=t,filterFrom:n.value.from,filterTo:n.value.to}));if(t.selection){let n=!1,{head:r}=t.selection.main;e.between(r,r,((e,t)=>{e<r&&t>r&&(n=!0)})),n&&(e=e.update({filterFrom:r,filterTo:r,filter:(e,t)=>t<=r||e>=r}))}return e},provide:e=>r_.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,((e,t)=>{n.push(e,t)})),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let n=0;n<e.length;){let r=e[n++],o=e[n++];if("number"!=typeof r||"number"!=typeof o)throw new RangeError("Invalid JSON for fold state");t.push(VM.range(r,o))}return mS.set(t,!0)}});function NM(e,t,n){var r;let o=null;return null===(r=e.field(OM,!1))||void 0===r||r.between(t,n,((e,t)=>{(!o||o.from>e)&&(o={from:e,to:t})})),o}function DM(e,t,n){let r=!1;return e.between(t,t,((e,o)=>{e==t&&o==n&&(r=!0)})),r}function RM(e,t){return e.field(OM,!1)?t:t.concat(_w.appendConfig.of(jM()))}function IM(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.state.doc.lineAt(t.from).number,o=e.state.doc.lineAt(t.to).number;return r_.announce.of("".concat(e.state.phrase(n?"Folded lines":"Unfolded lines")," ").concat(r," ").concat(e.state.phrase("to")," ").concat(o,"."))}const zM=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e=>{for(let t of PM(e)){let n=EM(e.state,t.from,t.to);if(n)return e.dispatch({effects:RM(e.state,[MM.of(n),IM(e,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:e=>{if(!e.state.field(OM,!1))return!1;let t=[];for(let n of PM(e)){let r=NM(e.state,n.from,n.to);r&&t.push(TM.of(r),IM(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,n=[];for(let r=0;r<t.doc.length;){let o=e.lineBlockAt(r),i=EM(t,o.from,o.to);i&&n.push(MM.of(i)),r=(i?e.lineBlockAt(i.to):o).to+1}return n.length&&e.dispatch({effects:RM(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(OM,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,((e,t)=>{n.push(TM.of({from:e,to:t}))})),e.dispatch({effects:n}),!0}}],LM={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},BM=Xb.define({combine:e=>Bw(e,LM)});function jM(e){let t=[OM,qM];return e&&t.push(BM.of(e)),t}function FM(e,t){let{state:n}=e,r=n.facet(BM),o=t=>{let n=e.lineBlockAt(e.posAtDOM(t.target)),r=NM(e.state,n.from,n.to);r&&e.dispatch({effects:TM.of(r)}),t.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,o,t);let i=document.createElement("span");return i.textContent=r.placeholderText,i.setAttribute("aria-label",n.phrase("folded code")),i.title=n.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=o,i}const VM=mS.replace({widget:new class extends fS{toDOM(e){return FM(e,null)}}});class WM extends fS{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return FM(e,this.value)}}const HM={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class UM extends xE{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}const qM=r_.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class KM{constructor(e,t){let n;function r(e){let t=sx.newName();return(n||(n=Object.create(null)))["."+t]=e,t}this.specs=e;const o="string"==typeof t.all?t.all:t.all?r(t.all):void 0,i=t.scope;this.scope=i instanceof QA?e=>e.prop(GA)==i.data:i?e=>e==i:void 0,this.style=PA(e.map((e=>({tag:e.tag,class:e.class||r(Object.assign({},e,{tag:null}))}))),{all:o}).style,this.module=n?new sx(n):null,this.themeType=t.themeType}static define(e,t){return new KM(e,t||{})}}const YM=Xb.define(),$M=Xb.define({combine:e=>e.length?[e[0]]:null});function XM(e){let t=e.facet(YM);return t.length?t:e.facet($M)}function GM(e,t){let n,r=[QM];return e instanceof KM&&(e.module&&r.push(r_.styleModule.of(e.module)),n=e.themeType),(null===t||void 0===t?void 0:t.fallback)?r.push($M.of(e)):n?r.push(YM.computeN([r_.darkTheme],(t=>t.facet(r_.darkTheme)==("dark"==n)?[e]:[]))):r.push(YM.of(e)),r}class ZM{constructor(e){this.markCache=Object.create(null),this.tree=eM(e.state),this.decorations=this.buildDeco(e,XM(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=eM(e.state),n=XM(e.state),r=n!=XM(e.startState),{viewport:o}=e.view,i=e.changes.mapPos(this.decoratedTo,1);t.length<o.to&&!r&&t.type==this.tree.type&&i>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=i):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=o.to)}buildDeco(e,t){if(!t||!this.tree.length)return mS.none;let n=new Uw;for(let{from:r,to:o}of e.visibleRanges)OA(this.tree,t,((e,t,r)=>{n.add(e,t,this.markCache[r]||(this.markCache[r]=mS.mark({class:r})))}),r,o);return n.finish()}}const QM=lw.high(ik.fromClass(ZM,{decorations:e=>e.decorations})),JM=KM.define([{tag:$A.meta,color:"#404740"},{tag:$A.link,textDecoration:"underline"},{tag:$A.heading,textDecoration:"underline",fontWeight:"bold"},{tag:$A.emphasis,fontStyle:"italic"},{tag:$A.strong,fontWeight:"bold"},{tag:$A.strikethrough,textDecoration:"line-through"},{tag:$A.keyword,color:"#708"},{tag:[$A.atom,$A.bool,$A.url,$A.contentSeparator,$A.labelName],color:"#219"},{tag:[$A.literal,$A.inserted],color:"#164"},{tag:[$A.string,$A.deleted],color:"#a11"},{tag:[$A.regexp,$A.escape,$A.special($A.string)],color:"#e40"},{tag:$A.definition($A.variableName),color:"#00f"},{tag:$A.local($A.variableName),color:"#30a"},{tag:[$A.typeName,$A.namespace],color:"#085"},{tag:$A.className,color:"#167"},{tag:[$A.special($A.variableName),$A.macroName],color:"#256"},{tag:$A.definition($A.propertyName),color:"#00c"},{tag:$A.comment,color:"#940"},{tag:$A.invalid,color:"#f00"}]),eT=r_.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),tT=1e4,nT="()[]{}",rT=Xb.define({combine:e=>Bw(e,{afterCursor:!0,brackets:nT,maxScanDistance:tT,renderMatch:sT})}),oT=mS.mark({class:"cm-matchingBracket"}),iT=mS.mark({class:"cm-nonmatchingBracket"});function sT(e){let t=[],n=e.matched?oT:iT;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const aT=nw.define({create:()=>mS.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],r=t.state.facet(rT);for(let o of t.state.selection.ranges){if(!o.empty)continue;let e=hT(t.state,o.head,-1,r)||o.head>0&&hT(t.state,o.head-1,1,r)||r.afterCursor&&(hT(t.state,o.head,1,r)||o.head<t.state.doc.length&&hT(t.state,o.head+1,-1,r));e&&(n=n.concat(r.renderMatch(e,t.state)))}return mS.set(n,!0)},provide:e=>r_.decorations.from(e)}),lT=[aT,eT];const cT=new XE;function uT(e,t,n){let r=e.prop(t<0?XE.openedBy:XE.closedBy);if(r)return r;if(1==e.name.length){let r=n.indexOf(e.name);if(r>-1&&r%2==(t<0?1:0))return[n[r+t]]}return null}function dT(e){let t=e.type.prop(cT);return t?t(e.node):e}function hT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.maxScanDistance||tT,i=r.brackets||nT,s=eM(e),a=s.resolveInner(t,n);for(let l=a;l;l=l.parent){let r=uT(l.type,n,i);if(r&&l.from<l.to){let o=dT(l);if(o&&(n>0?t>=o.from&&t<o.to:t>o.from&&t<=o.to))return fT(e,t,n,l,o,r,i)}}return function(e,t,n,r,o,i,s){let a=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),d=0;for(let h=0;!u.next().done&&h<=i;){let e=u.value;n<0&&(h+=e.length);let i=t+h*n;for(let t=n>0?0:e.length-1,a=n>0?e.length:-1;t!=a;t+=n){let a=s.indexOf(e[t]);if(!(a<0||r.resolveInner(i+t,1).type!=o))if(a%2==0==n>0)d++;else{if(1==d)return{start:c,end:{from:i+t,to:i+t+1},matched:a>>1==l>>1};d--}}n>0&&(h+=e.length)}return u.done?{start:c,matched:!1}:null}(e,t,n,s,a.type,o,i)}function fT(e,t,n,r,o,i,s){let a=r.parent,l={from:o.from,to:o.to},c=0,u=null===a||void 0===a?void 0:a.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do{if(n<0?u.to<=r.from:u.from>=r.to){if(0==c&&i.indexOf(u.type.name)>-1&&u.from<u.to){let e=dT(u);return{start:l,end:e?{from:e.from,to:e.to}:void 0,matched:!0}}if(uT(u.type,n,s))c++;else if(uT(u.type,-n,s)){if(0==c){let e=dT(u);return{start:l,end:e&&e.from<e.to?{from:e.from,to:e.to}:void 0,matched:!1}}c--}}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}const pT=Object.create(null),mT=[QE.none],gT=[],vT=Object.create(null),yT=Object.create(null);for(let[n,ZG]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])yT[n]=wT(pT,ZG);function bT(e,t){gT.indexOf(e)>-1||(gT.push(e),console.warn(t))}function wT(e,t){let n=[];for(let a of t.split(" ")){let t=[];for(let n of a.split(".")){let r=e[n]||$A[n];r?"function"==typeof r?t.length?t=t.map(r):bT(n,"Modifier ".concat(n," used at start of tag")):t.length?bT(n,"Tag ".concat(n," used as modifier")):t=Array.isArray(r)?r:[r]:bT(n,"Unknown highlighting tag ".concat(n))}for(let e of t)n.push(e)}if(!n.length)return 0;let r=t.replace(/ /g,"_"),o=r+" "+n.map((e=>e.id)),i=vT[o];if(i)return i.id;let s=vT[o]=QE.define({id:mT.length,name:r,props:[AA({[r]:n})]});return mT.push(s),s.id}CS.RTL,CS.LTR;var xT=e=>{var{theme:t,settings:n={},styles:r=[]}=e,o={".cm-gutters":{}},i={};n.background&&(i.backgroundColor=n.background),n.backgroundImage&&(i.backgroundImage=n.backgroundImage),n.foreground&&(i.color=n.foreground),(n.background||n.foreground)&&(o["&"]=i),n.fontFamily&&(o["&.cm-editor .cm-scroller"]={fontFamily:n.fontFamily}),n.gutterBackground&&(o[".cm-gutters"].backgroundColor=n.gutterBackground),n.gutterForeground&&(o[".cm-gutters"].color=n.gutterForeground),n.gutterBorder&&(o[".cm-gutters"].borderRightColor=n.gutterBorder),n.caret&&(o[".cm-content"]={caretColor:n.caret},o[".cm-cursor, .cm-dropCursor"]={borderLeftColor:n.caret});var s={};return n.gutterActiveForeground&&(s.color=n.gutterActiveForeground),n.lineHighlight&&(o[".cm-activeLine"]={backgroundColor:n.lineHighlight},s.backgroundColor=n.lineHighlight),o[".cm-activeLineGutter"]=s,n.selection&&(o["&.cm-focused .cm-selectionBackground, & .cm-line::selection, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={background:n.selection+" !important"}),n.selectionMatch&&(o["& .cm-selectionMatch"]={backgroundColor:n.selectionMatch}),[r_.theme(o,{dark:"dark"===t}),GM(KM.define(r))]};var ST={background:"#fff",foreground:"#24292e",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#6e7781"},kT=(e=>{var{theme:t="light",settings:n={},styles:r=[]}=e||{};return xT({theme:t,settings:ft({},ST,n),styles:[{tag:[$A.standard($A.tagName),$A.tagName],color:"#116329"},{tag:[$A.comment,$A.bracket],color:"#6a737d"},{tag:[$A.className,$A.propertyName],color:"#6f42c1"},{tag:[$A.variableName,$A.attributeName,$A.number,$A.operator],color:"#005cc5"},{tag:[$A.keyword,$A.typeName,$A.typeOperator,$A.typeName],color:"#d73a49"},{tag:[$A.string,$A.meta,$A.regexp],color:"#032f62"},{tag:[$A.name,$A.quote],color:"#22863a"},{tag:[$A.heading,$A.strong],color:"#24292e",fontWeight:"bold"},{tag:[$A.emphasis],color:"#24292e",fontStyle:"italic"},{tag:[$A.deleted],color:"#b31d28",backgroundColor:"ffeef0"},{tag:[$A.atom,$A.bool,$A.special($A.variableName)],color:"#e36209"},{tag:[$A.url,$A.escape,$A.regexp,$A.link],color:"#032f62"},{tag:$A.link,textDecoration:"underline"},{tag:$A.strikethrough,textDecoration:"line-through"},{tag:$A.invalid,color:"#cb2431"},...r]})})(),CT={background:"#0d1117",foreground:"#c9d1d9",caret:"#c9d1d9",selection:"#003d73",selectionMatch:"#003d73",lineHighlight:"#36334280"},_T=(e=>{var{theme:t="dark",settings:n={},styles:r=[]}=e||{};return xT({theme:t,settings:ft({},CT,n),styles:[{tag:[$A.standard($A.tagName),$A.tagName],color:"#7ee787"},{tag:[$A.comment,$A.bracket],color:"#8b949e"},{tag:[$A.className,$A.propertyName],color:"#d2a8ff"},{tag:[$A.variableName,$A.attributeName,$A.number,$A.operator],color:"#79c0ff"},{tag:[$A.keyword,$A.typeName,$A.typeOperator,$A.typeName],color:"#ff7b72"},{tag:[$A.string,$A.meta,$A.regexp],color:"#a5d6ff"},{tag:[$A.name,$A.quote],color:"#7ee787"},{tag:[$A.heading,$A.strong],color:"#d2a8ff",fontWeight:"bold"},{tag:[$A.emphasis],color:"#d2a8ff",fontStyle:"italic"},{tag:[$A.deleted],color:"#ffdcd7",backgroundColor:"ffeef0"},{tag:[$A.atom,$A.bool,$A.special($A.variableName)],color:"#ffab70"},{tag:$A.link,textDecoration:"underline"},{tag:$A.strikethrough,textDecoration:"line-through"},{tag:$A.invalid,color:"#f97583"},...r]})})();function ET(e,t){return n=>{let{state:r,dispatch:o}=n;if(r.readOnly)return!1;let i=e(t,r);return!!i&&(o(r.update(i)),!0)}}const AT=ET(DT,0),MT=ET(NT,0),TT=ET(((e,t)=>NT(e,t,function(e){let t=[];for(let n of e.selection.ranges){let r=e.doc.lineAt(n.from),o=n.to<=r.to?r:e.doc.lineAt(n.to),i=t.length-1;i>=0&&t[i].to>r.from?t[i].to=o.to:t.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:o.to})}return t}(t))),0);function PT(e,t){let n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}const OT=50;function NT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,r=n.map((e=>PT(t,e.from).block));if(!r.every((e=>e)))return null;let o=n.map(((e,n)=>function(e,t,n,r){let o,i,{open:s,close:a}=t,l=e.sliceDoc(n-OT,n),c=e.sliceDoc(r,r+OT),u=/\s*$/.exec(l)[0].length,d=/^\s*/.exec(c)[0].length,h=l.length-u;if(l.slice(h-s.length,h)==s&&c.slice(d,d+a.length)==a)return{open:{pos:n-u,margin:u&&1},close:{pos:r+d,margin:d&&1}};r-n<=2*OT?o=i=e.sliceDoc(n,r):(o=e.sliceDoc(n,n+OT),i=e.sliceDoc(r-OT,r));let f=/^\s*/.exec(o)[0].length,p=/\s*$/.exec(i)[0].length,m=i.length-p-a.length;return o.slice(f,f+s.length)==s&&i.slice(m,m+a.length)==a?{open:{pos:n+f+s.length,margin:/\s/.test(o.charAt(f+s.length))?1:0},close:{pos:r-p-a.length,margin:/\s/.test(i.charAt(m-1))?1:0}}:null}(t,r[n],e.from,e.to)));if(2!=e&&!o.every((e=>e)))return{changes:t.changes(n.map(((e,t)=>o[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}])))};if(1!=e&&o.some((e=>e))){let e=[];for(let t,n=0;n<o.length;n++)if(t=o[n]){let o=r[n],{open:i,close:s}=t;e.push({from:i.pos-o.open.length,to:i.pos+i.margin},{from:s.pos-s.margin,to:s.pos+o.close.length})}return{changes:e}}return null}function DT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,r=[],o=-1;for(let{from:i,to:s}of n){let e=r.length,n=1e9,a=PT(t,i).line;if(a){for(let e=i;e<=s;){let l=t.doc.lineAt(e);if(l.from>o&&(i==s||s>l.from)){o=l.from;let e=/^\s*/.exec(l.text)[0].length,t=e==l.length,i=l.text.slice(e,e+a.length)==a?e:-1;e<l.text.length&&e<n&&(n=e),r.push({line:l,comment:i,token:a,indent:e,empty:t,single:!1})}e=l.to+1}if(n<1e9)for(let t=e;t<r.length;t++)r[t].indent<r[t].line.text.length&&(r[t].indent=n);r.length==e+1&&(r[e].single=!0)}}if(2!=e&&r.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:o,indent:i,empty:s,single:a}of r)!a&&s||e.push({from:t.from+i,insert:o+" "});let n=t.changes(e);return{changes:n,selection:t.selection.map(n,1)}}if(1!=e&&r.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:n,token:o}of r)if(n>=0){let r=t.from+n,i=r+o.length;" "==t.text[i-t.from]&&i++,e.push({from:r,to:i})}return{changes:e}}return null}const RT=Sw.define(),IT=Sw.define(),zT=Xb.define(),LT=Xb.define({combine:e=>Bw(e,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,r)=>e(n,r)||t(n,r)})}),BT=nw.define({create:()=>eP.empty,update(e,t){let n=t.state.facet(LT),r=t.annotation(RT);if(r){let o=UT.fromTransaction(t,r.selection),i=r.side,s=0==i?e.undone:e.done;return s=o?qT(s,s.length,n.minDepth,o):XT(s,t.startState.selection),new eP(0==i?r.rest:s,0==i?s:r.rest)}let o=t.annotation(IT);if("full"!=o&&"before"!=o||(e=e.isolate()),!1===t.annotation(Ew.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let i=UT.fromTransaction(t),s=t.annotation(Ew.time),a=t.annotation(Ew.userEvent);return i?e=e.addChanges(i,s,a,n,t):t.selection&&(e=e.addSelection(t.startState.selection,s,a,n.newGroupDelay)),"full"!=o&&"after"!=o||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new eP(e.done.map(UT.fromJSON),e.undone.map(UT.fromJSON))});function jT(e,t){return function(n){let{state:r,dispatch:o}=n;if(!t&&r.readOnly)return!1;let i=r.field(BT,!1);if(!i)return!1;let s=i.pop(e,r,t);return!!s&&(o(s),!0)}}const FT=jT(0,!1),VT=jT(1,!1),WT=jT(0,!0),HT=jT(1,!0);class UT{constructor(e,t,n,r,o){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=r,this.selectionsAfter=o}setSelAfter(e){return new UT(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new UT(e.changes&&Bb.fromJSON(e.changes),[],e.mapped&&Lb.fromJSON(e.mapped),e.startSelection&&Kb.fromJSON(e.startSelection),e.selectionsAfter.map(Kb.fromJSON))}static fromTransaction(e,t){let n=YT;for(let r of e.startState.facet(zT)){let t=r(e);t.length&&(n=n.concat(t))}return!n.length&&e.changes.empty?null:new UT(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,YT)}static selection(e){return new UT(void 0,YT,void 0,void 0,e)}}function qT(e,t,n,r){let o=t+1>n+20?t-n-1:0,i=e.slice(o,t);return i.push(r),i}function KT(e,t){return e.length?t.length?e.concat(t):e:t}const YT=[],$T=200;function XT(e,t){if(e.length){let n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-$T));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),qT(e,e.length-1,1e9,n.setSelAfter(r)))}return[UT.selection([t])]}function GT(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function ZT(e,t){if(!e.length)return e;let n=e.length,r=YT;for(;n;){let o=QT(e[n-1],t,r);if(o.changes&&!o.changes.empty||o.effects.length){let t=e.slice(0,n);return t[n-1]=o,t}t=o.mapped,n--,r=o.selectionsAfter}return r.length?[UT.selection(r)]:YT}function QT(e,t,n){let r=KT(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):YT,n);if(!e.changes)return UT.selection(r);let o=e.changes.map(t),i=t.mapDesc(e.changes,!0),s=e.mapped?e.mapped.composeDesc(i):i;return new UT(o,_w.mapEffects(e.effects,t),s,e.startSelection.map(i),r)}const JT=/^(input\.type|delete)($|\.)/;class eP{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new eP(this.done,this.undone):this}addChanges(e,t,n,r,o){let i=this.done,s=i[i.length-1];return i=s&&s.changes&&!s.changes.empty&&e.changes&&(!n||JT.test(n))&&(!s.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(o,function(e,t){let n=[],r=!1;return e.iterChangedRanges(((e,t)=>n.push(e,t))),t.iterChangedRanges(((e,t,o,i)=>{for(let s=0;s<n.length;){let e=n[s++],t=n[s++];i>=e&&o<=t&&(r=!0)}})),r}(s.changes,e.changes))||"input.type.compose"==n)?qT(i,i.length-1,r.minDepth,new UT(e.changes.compose(s.changes),KT(e.effects,s.effects),s.mapped,s.startSelection,YT)):qT(i,i.length,r.minDepth,e),new eP(i,YT,t,n)}addSelection(e,t,n,r){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:YT;return o.length>0&&t-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(i=o[o.length-1],s=e,i.ranges.length==s.ranges.length&&0===i.ranges.filter(((e,t)=>e.empty!=s.ranges[t].empty)).length)?this:new eP(XT(this.done,e),this.undone,t,n);var i,s}addMapping(e){return new eP(ZT(this.done,e),ZT(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let r=0==e?this.done:this.undone;if(0==r.length)return null;let o=r[r.length-1],i=o.selectionsAfter[0]||t.selection;if(n&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:RT.of({side:e,rest:GT(r),selection:i}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let n=1==r.length?YT:r.slice(0,r.length-1);return o.mapped&&(n=ZT(n,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:RT.of({side:e,rest:n,selection:i}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}eP.empty=new eP(YT,YT);const tP=[{key:"Mod-z",run:FT,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:VT,preventDefault:!0},{linux:"Ctrl-Shift-z",run:VT,preventDefault:!0},{key:"Mod-u",run:WT,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:HT,preventDefault:!0}];function nP(e,t){return Kb.create(e.ranges.map(t),e.mainIndex)}function rP(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function oP(e,t){let{state:n,dispatch:r}=e,o=nP(n.selection,t);return!o.eq(n.selection,!0)&&(r(rP(n,o)),!0)}function iP(e,t){return Kb.cursor(t?e.to:e.from)}function sP(e,t){return oP(e,(n=>n.empty?e.moveByChar(n,t):iP(n,t)))}function aP(e){return e.textDirectionAt(e.state.selection.main.head)==CS.LTR}const lP=e=>sP(e,!aP(e)),cP=e=>sP(e,aP(e));function uP(e,t){return oP(e,(n=>n.empty?e.moveByGroup(n,t):iP(n,t)))}"undefined"!=typeof Intl&&Intl.Segmenter;function dP(e,t,n){if(t.type.prop(n))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function hP(e,t,n){let r,o,i=eM(e).resolveInner(t.head),s=n?XE.closedBy:XE.openedBy;for(let a=t.head;;){let t=n?i.childAfter(a):i.childBefore(a);if(!t)break;dP(e,t,s)?i=t:a=n?t.to:t.from}return o=i.type.prop(s)&&(r=n?hT(e,i.from,1):hT(e,i.to,-1))&&r.matched?n?r.end.to:r.end.from:n?i.to:i.from,Kb.cursor(o,n?-1:1)}function fP(e,t){return oP(e,(n=>{if(!n.empty)return iP(n,t);let r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)}))}const pP=e=>fP(e,!1),mP=e=>fP(e,!0);function gP(e){let t,n=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,r=0,o=0;if(n){for(let t of e.state.facet(r_.scrollMargins)){let n=t(e);(null===n||void 0===n?void 0:n.top)&&(r=Math.max(null===n||void 0===n?void 0:n.top,r)),(null===n||void 0===n?void 0:n.bottom)&&(o=Math.max(null===n||void 0===n?void 0:n.bottom,o))}t=e.scrollDOM.clientHeight-r-o}else t=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:o,selfScroll:n,height:Math.max(e.defaultLineHeight,t-5)}}function vP(e,t){let n,r=gP(e),{state:o}=e,i=nP(o.selection,(n=>n.empty?e.moveVertically(n,t,r.height):iP(n,t)));if(i.eq(o.selection))return!1;if(r.selfScroll){let t=e.coordsAtPos(o.selection.main.head),s=e.scrollDOM.getBoundingClientRect(),a=s.top+r.marginTop,l=s.bottom-r.marginBottom;t&&t.top>a&&t.bottom<l&&(n=r_.scrollIntoView(i.main.head,{y:"start",yMargin:t.top-a}))}return e.dispatch(rP(o,i),{effects:n}),!0}const yP=e=>vP(e,!1),bP=e=>vP(e,!0);function wP(e,t,n){let r=e.lineBlockAt(t.head),o=e.moveToLineBoundary(t,n);if(o.head==t.head&&o.head!=(n?r.to:r.from)&&(o=e.moveToLineBoundary(t,n,!1)),!n&&o.head==r.from&&r.length){let n=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&t.head!=r.from+n&&(o=Kb.cursor(r.from+n))}return o}function xP(e,t,n){let r=!1,o=nP(e.selection,(t=>{let o=hT(e,t.head,-1)||hT(e,t.head,1)||t.head>0&&hT(e,t.head-1,1)||t.head<e.doc.length&&hT(e,t.head+1,-1);if(!o||!o.end)return t;r=!0;let i=o.start.from==t.head?o.end.to:o.end.from;return n?Kb.range(t.anchor,i):Kb.cursor(i)}));return!!r&&(t(rP(e,o)),!0)}function SP(e,t){let n=nP(e.state.selection,(e=>{let n=t(e);return Kb.range(e.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(e.state.selection)&&(e.dispatch(rP(e.state,n)),!0)}function kP(e,t){return SP(e,(n=>e.moveByChar(n,t)))}const CP=e=>kP(e,!aP(e)),_P=e=>kP(e,aP(e));function EP(e,t){return SP(e,(n=>e.moveByGroup(n,t)))}function AP(e,t){return SP(e,(n=>e.moveVertically(n,t)))}const MP=e=>AP(e,!1),TP=e=>AP(e,!0);function PP(e,t){return SP(e,(n=>e.moveVertically(n,t,gP(e).height)))}const OP=e=>PP(e,!1),NP=e=>PP(e,!0),DP=e=>{let{state:t,dispatch:n}=e;return n(rP(t,{anchor:0})),!0},RP=e=>{let{state:t,dispatch:n}=e;return n(rP(t,{anchor:t.doc.length})),!0},IP=e=>{let{state:t,dispatch:n}=e;return n(rP(t,{anchor:t.selection.main.anchor,head:0})),!0},zP=e=>{let{state:t,dispatch:n}=e;return n(rP(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0};function LP(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:r}=e,o=r.changeByRange((r=>{let{from:o,to:i}=r;if(o==i){let s=t(r);s<o?(n="delete.backward",s=BP(e,s,!1)):s>o&&(n="delete.forward",s=BP(e,s,!0)),o=Math.min(o,s),i=Math.max(i,s)}else o=BP(e,o,!1),i=BP(e,i,!0);return o==i?{range:r}:{changes:{from:o,to:i},range:Kb.cursor(o,o<r.head?-1:1)}}));return!o.changes.empty&&(e.dispatch(r.update(o,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?r_.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function BP(e,t,n){if(e instanceof r_)for(let r of e.state.facet(r_.atomicRanges).map((t=>t(e))))r.between(t,t,((e,r)=>{e<t&&r>t&&(t=n?r:e)}));return t}const jP=(e,t)=>LP(e,(n=>{let r,o,i=n.from,{state:s}=e,a=s.doc.lineAt(i);if(!t&&i>a.from&&i<a.from+200&&!/[^ \t]/.test(r=a.text.slice(0,i-a.from))){if("\t"==r[r.length-1])return i-1;let e=tx(r,s.tabSize)%hM(s)||hM(s);for(let t=0;t<e&&" "==r[r.length-1-t];t++)i--;o=i}else o=Ab(a.text,i-a.from,t,t)+a.from,o==i&&a.number!=(t?s.doc.lines:1)?o+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(a.text.slice(o-a.from,i-a.from))&&(o=Ab(a.text,o-a.from,!1,!1)+a.from);return o})),FP=e=>jP(e,!1),VP=e=>jP(e,!0),WP=(e,t)=>LP(e,(n=>{let r=n.head,{state:o}=e,i=o.doc.lineAt(r),s=o.charCategorizer(r);for(let e=null;;){if(r==(t?i.to:i.from)){r==n.head&&i.number!=(t?o.doc.lines:1)&&(r+=t?1:-1);break}let a=Ab(i.text,r-i.from,t)+i.from,l=i.text.slice(Math.min(r,a)-i.from,Math.max(r,a)-i.from),c=s(l);if(null!=e&&c!=e)break;" "==l&&r==n.head||(e=c),r=a}return r})),HP=e=>WP(e,!1);function UP(e){let t=[],n=-1;for(let r of e.selection.ranges){let o=e.doc.lineAt(r.from),i=e.doc.lineAt(r.to);if(r.empty||r.to!=i.from||(i=e.doc.lineAt(r.to-1)),n>=o.number){let e=t[t.length-1];e.to=i.to,e.ranges.push(r)}else t.push({from:o.from,to:i.to,ranges:[r]});n=i.number+1}return t}function qP(e,t,n){if(e.readOnly)return!1;let r=[],o=[];for(let i of UP(e)){if(n?i.to==e.doc.length:0==i.from)continue;let t=e.doc.lineAt(n?i.to+1:i.from-1),s=t.length+1;if(n){r.push({from:i.to,to:t.to},{from:i.from,insert:t.text+e.lineBreak});for(let t of i.ranges)o.push(Kb.range(Math.min(e.doc.length,t.anchor+s),Math.min(e.doc.length,t.head+s)))}else{r.push({from:t.from,to:i.from},{from:i.to,insert:e.lineBreak+t.text});for(let e of i.ranges)o.push(Kb.range(e.anchor-s,e.head-s))}}return!!r.length&&(t(e.update({changes:r,scrollIntoView:!0,selection:Kb.create(o,e.selection.mainIndex),userEvent:"move.line"})),!0)}function KP(e,t,n){if(e.readOnly)return!1;let r=[];for(let o of UP(e))n?r.push({from:o.from,insert:e.doc.slice(o.from,o.to)+e.lineBreak}):r.push({from:o.to,insert:e.lineBreak+e.doc.slice(o.from,o.to)});return t(e.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const YP=XP(!1),$P=XP(!0);function XP(e){return t=>{let{state:n,dispatch:r}=t;if(n.readOnly)return!1;let o=n.changeByRange((t=>{let{from:r,to:o}=t,i=n.doc.lineAt(r),s=!e&&r==o&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n,r=eM(e).resolveInner(t),o=r.childBefore(t),i=r.childAfter(t);return o&&i&&o.to<=t&&i.from>=t&&(n=o.type.prop(XE.closedBy))&&n.indexOf(i.name)>-1&&e.doc.lineAt(o.to).from==e.doc.lineAt(i.from).from&&!/\S/.test(e.sliceDoc(o.to,i.from))?{from:o.to,to:i.from}:null}(n,r);e&&(r=o=(o<=i.to?i:n.doc.lineAt(o)).to);let a=new mM(n,{simulateBreak:r,simulateDoubleBreak:!!s}),l=pM(a,r);for(null==l&&(l=tx(/^\s*/.exec(n.doc.lineAt(r).text)[0],n.tabSize));o<i.to&&/\s/.test(i.text[o-i.from]);)o++;s?({from:r,to:o}=s):r>i.from&&r<i.from+100&&!/\S/.test(i.text.slice(0,r))&&(r=i.from);let c=["",fM(n,l)];return s&&c.push(fM(n,a.lineIndent(i.from,-1))),{changes:{from:r,to:o,insert:fb.of(c)},range:Kb.cursor(r+1+c[1].length)}}));return r(n.update(o,{scrollIntoView:!0,userEvent:"input"})),!0}}function GP(e,t){let n=-1;return e.changeByRange((r=>{let o=[];for(let s=r.from;s<=r.to;){let i=e.doc.lineAt(s);i.number>n&&(r.empty||r.to>i.from)&&(t(i,o,r),n=i.number),s=i.to+1}let i=e.changes(o);return{changes:o,range:Kb.range(i.mapPos(r.anchor,1),i.mapPos(r.head,1))}}))}const ZP=e=>{let{state:t,dispatch:n}=e;return!t.readOnly&&(n(t.update(GP(t,((e,n)=>{n.push({from:e.from,insert:t.facet(dM)})})),{userEvent:"input.indent"})),!0)},QP=e=>{let{state:t,dispatch:n}=e;return!t.readOnly&&(n(t.update(GP(t,((e,n)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let o=tx(r,t.tabSize),i=0,s=fM(t,Math.max(0,o-hM(t)));for(;i<r.length&&i<s.length&&r.charCodeAt(i)==s.charCodeAt(i);)i++;n.push({from:e.from+i,to:e.from+r.length,insert:s.slice(i)})})),{userEvent:"delete.dedent"})),!0)},JP=[{key:"Ctrl-b",run:lP,shift:CP,preventDefault:!0},{key:"Ctrl-f",run:cP,shift:_P},{key:"Ctrl-p",run:pP,shift:MP},{key:"Ctrl-n",run:mP,shift:TP},{key:"Ctrl-a",run:e=>oP(e,(t=>Kb.cursor(e.lineBlockAt(t.head).from,1))),shift:e=>SP(e,(t=>Kb.cursor(e.lineBlockAt(t.head).from)))},{key:"Ctrl-e",run:e=>oP(e,(t=>Kb.cursor(e.lineBlockAt(t.head).to,-1))),shift:e=>SP(e,(t=>Kb.cursor(e.lineBlockAt(t.head).to)))},{key:"Ctrl-d",run:VP},{key:"Ctrl-h",run:FP},{key:"Ctrl-k",run:e=>LP(e,(t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))},{key:"Ctrl-Alt-h",run:HP},{key:"Ctrl-o",run:e=>{let{state:t,dispatch:n}=e;if(t.readOnly)return!1;let r=t.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:fb.of(["",""])},range:Kb.cursor(e.from)})));return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:e=>{let{state:t,dispatch:n}=e;if(t.readOnly)return!1;let r=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let n=e.from,r=t.doc.lineAt(n),o=n==r.from?n-1:Ab(r.text,n-r.from,!1)+r.from,i=n==r.to?n+1:Ab(r.text,n-r.from,!0)+r.from;return{changes:{from:o,to:i,insert:t.doc.slice(n,i).append(t.doc.slice(o,n))},range:Kb.cursor(i)}}));return!r.changes.empty&&(n(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:bP}],eO=[{key:"ArrowLeft",run:lP,shift:CP,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>uP(e,!aP(e)),shift:e=>EP(e,!aP(e)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:e=>oP(e,(t=>wP(e,t,!aP(e)))),shift:e=>SP(e,(t=>wP(e,t,!aP(e)))),preventDefault:!0},{key:"ArrowRight",run:cP,shift:_P,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>uP(e,aP(e)),shift:e=>EP(e,aP(e)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:e=>oP(e,(t=>wP(e,t,aP(e)))),shift:e=>SP(e,(t=>wP(e,t,aP(e)))),preventDefault:!0},{key:"ArrowUp",run:pP,shift:MP,preventDefault:!0},{mac:"Cmd-ArrowUp",run:DP,shift:IP},{mac:"Ctrl-ArrowUp",run:yP,shift:OP},{key:"ArrowDown",run:mP,shift:TP,preventDefault:!0},{mac:"Cmd-ArrowDown",run:RP,shift:zP},{mac:"Ctrl-ArrowDown",run:bP,shift:NP},{key:"PageUp",run:yP,shift:OP},{key:"PageDown",run:bP,shift:NP},{key:"Home",run:e=>oP(e,(t=>wP(e,t,!1))),shift:e=>SP(e,(t=>wP(e,t,!1))),preventDefault:!0},{key:"Mod-Home",run:DP,shift:IP},{key:"End",run:e=>oP(e,(t=>wP(e,t,!0))),shift:e=>SP(e,(t=>wP(e,t,!0))),preventDefault:!0},{key:"Mod-End",run:RP,shift:zP},{key:"Enter",run:YP},{key:"Mod-a",run:e=>{let{state:t,dispatch:n}=e;return n(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0}},{key:"Backspace",run:FP,shift:FP},{key:"Delete",run:VP},{key:"Mod-Backspace",mac:"Alt-Backspace",run:HP},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>WP(e,!0)},{mac:"Mod-Backspace",run:e=>LP(e,(t=>{let n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}))},{mac:"Mod-Delete",run:e=>LP(e,(t=>{let n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))}].concat(JP.map((e=>({mac:e.key,run:e.run,shift:e.shift})))),tO=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>oP(e,(t=>hP(e.state,t,!aP(e)))),shift:e=>SP(e,(t=>hP(e.state,t,!aP(e))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>oP(e,(t=>hP(e.state,t,aP(e)))),shift:e=>SP(e,(t=>hP(e.state,t,aP(e))))},{key:"Alt-ArrowUp",run:e=>{let{state:t,dispatch:n}=e;return qP(t,n,!1)}},{key:"Shift-Alt-ArrowUp",run:e=>{let{state:t,dispatch:n}=e;return KP(t,n,!1)}},{key:"Alt-ArrowDown",run:e=>{let{state:t,dispatch:n}=e;return qP(t,n,!0)}},{key:"Shift-Alt-ArrowDown",run:e=>{let{state:t,dispatch:n}=e;return KP(t,n,!0)}},{key:"Escape",run:e=>{let{state:t,dispatch:n}=e,r=t.selection,o=null;return r.ranges.length>1?o=Kb.create([r.main]):r.main.empty||(o=Kb.create([Kb.cursor(r.main.head)])),!!o&&(n(rP(t,o)),!0)}},{key:"Mod-Enter",run:$P},{key:"Alt-l",mac:"Ctrl-l",run:e=>{let{state:t,dispatch:n}=e,r=UP(t).map((e=>{let{from:n,to:r}=e;return Kb.range(n,Math.min(r+1,t.doc.length))}));return n(t.update({selection:Kb.create(r),userEvent:"select"})),!0}},{key:"Mod-i",run:e=>{let{state:t,dispatch:n}=e,r=nP(t.selection,(e=>{var n;for(let r=eM(t).resolveStack(e.from,1);r;r=r.next){let{node:t}=r;if((t.from<e.from&&t.to>=e.to||t.to>e.to&&t.from<=e.from)&&(null===(n=t.parent)||void 0===n?void 0:n.parent))return Kb.range(t.to,t.from)}return e}));return n(rP(t,r)),!0},preventDefault:!0},{key:"Mod-[",run:QP},{key:"Mod-]",run:ZP},{key:"Mod-Alt-\\",run:e=>{let{state:t,dispatch:n}=e;if(t.readOnly)return!1;let r=Object.create(null),o=new mM(t,{overrideIndentation:e=>{let t=r[e];return null==t?-1:t}}),i=GP(t,((e,n,i)=>{let s=pM(o,e.from);if(null==s)return;/\S/.test(e.text)||(s=0);let a=/^\s*/.exec(e.text)[0],l=fM(t,s);(a!=l||i.from<e.from+a.length)&&(r[e.from]=s,n.push({from:e.from,to:e.from+a.length,insert:l}))}));return i.changes.empty||n(t.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(UP(t).map((e=>{let{from:n,to:r}=e;return n>0?n--:r<t.doc.length&&r++,{from:n,to:r}}))),r=nP(t.selection,(t=>e.moveVertically(t,!0))).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:e=>{let{state:t,dispatch:n}=e;return xP(t,n,!1)}},{key:"Mod-/",run:e=>{let{state:t}=e,n=t.doc.lineAt(t.selection.main.from),r=PT(e.state,n.from);return r.line?AT(e):!!r.block&&TT(e)}},{key:"Alt-A",run:MT}].concat(eO),nO={key:"Tab",run:ZP,shift:QP};function rO(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];"string"==typeof o?e.setAttribute(r,o):null!=o&&(e[r]=o)}t++}for(;t<arguments.length;t++)oO(e,arguments[t]);return e}function oO(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)oO(e,t[n])}}const iO="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class sO{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;this.test=i,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,r),this.bufferStart=n,this.normalize=o?e=>o(iO(e)):iO,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Nb(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Db(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Rb(e);let r=this.normalize(t);for(let o=0,i=n;;o++){let e=r.charCodeAt(o),s=this.match(e,i,this.bufferPos+this.bufferStart);if(o==r.length-1){if(s)return this.value=s,this;break}i==n&&o<t.length&&t.charCodeAt(o)==e&&i++}}}match(e,t,n){let r=null;for(let o=0;o<this.matches.length;o+=2){let t=this.matches[o],i=!1;this.query.charCodeAt(t)==e&&(t==this.query.length-1?r={from:this.matches[o+1],to:n}:(this.matches[o]++,i=!0)),i||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?r={from:t,to:n}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}"undefined"!=typeof Symbol&&(sO.prototype[Symbol.iterator]=function(){return this});const aO={from:-1,to:-1,match:/.*/.exec("")},lO="gm"+(null==/x/.unicode?"":"u");class cO{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=aO,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new hO(e,t,n,r,o);this.re=new RegExp(t,lO+((null===n||void 0===n?void 0:n.ignoreCase)?"i":"")),this.test=null===n||void 0===n?void 0:n.test,this.iter=e.iter();let i=e.lineAt(r);this.curLineStart=i.from,this.matchPos=fO(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=fO(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const uO=new WeakMap;class dO{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let r=uO.get(e);if(!r||r.from>=n||r.to<=t){let r=new dO(t,e.sliceString(t,n));return uO.set(e,r),r}if(r.from==t&&r.to==n)return r;let{text:o,from:i}=r;return i>t&&(o=e.sliceString(t,i)+o,i=t),r.to<n&&(o+=e.sliceString(r.to,n)),uO.set(e,new dO(i,o)),new dO(t,o.slice(t-i,n-i))}}class hO{constructor(e,t,n,r,o){this.text=e,this.to=o,this.done=!1,this.value=aO,this.matchPos=fO(e,r),this.re=new RegExp(t,lO+((null===n||void 0===n?void 0:n.ignoreCase)?"i":"")),this.test=null===n||void 0===n?void 0:n.test,this.flat=dO.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let e=this.flat.from+t.index,n=e+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(e,n,t)))return this.value={from:e,to:n,match:t},this.matchPos=fO(this.text,n+(e==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=dO.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function fO(e,t){if(t>=e.length)return t;let n,r=e.lineAt(t);for(;t<r.to&&(n=r.text.charCodeAt(t-r.from))>=56320&&n<57344;)t++;return t}function pO(e){let t=rO("input",{class:"cm-textfield",name:"line",value:String(e.state.doc.lineAt(e.state.selection.main.head).number)});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!n)return;let{state:r}=e,o=r.doc.lineAt(r.selection.main.head),[,i,s,a,l]=n,c=a?+a.slice(1):0,u=s?+s:o.number;if(s&&l){let e=u/100;i&&(e=e*("-"==i?-1:1)+o.number/r.doc.lines),u=Math.round(r.doc.lines*e)}else s&&i&&(u=u*("-"==i?-1:1)+o.number);let d=r.doc.line(Math.max(1,Math.min(r.doc.lines,u))),h=Kb.cursor(d.from+Math.max(0,Math.min(c,d.length)));e.dispatch({effects:[mO.of(!1),r_.scrollIntoView(h.from,{y:"center"})],selection:h}),e.focus()}return{dom:rO("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:mO.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:e=>{e.preventDefault(),n()}},rO("label",e.state.phrase("Go to line"),": ",t)," ",rO("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}}"undefined"!=typeof Symbol&&(cO.prototype[Symbol.iterator]=hO.prototype[Symbol.iterator]=function(){return this});const mO=_w.define(),gO=nw.define({create:()=>!0,update(e,t){for(let n of t.effects)n.is(mO)&&(e=n.value);return e},provide:e=>wE.from(e,(e=>e?pO:null))}),vO=r_.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),yO={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},bO=Xb.define({combine:e=>Bw(e,yO,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});const wO=mS.mark({class:"cm-selectionMatch"}),xO=mS.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function SO(e,t,n,r){return(0==n||e(t.sliceDoc(n-1,n))!=Dw.Word)&&(r==t.doc.length||e(t.sliceDoc(r,r+1))!=Dw.Word)}const kO=ik.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(bO),{state:n}=e,r=n.selection;if(r.ranges.length>1)return mS.none;let o,i=r.main,s=null;if(i.empty){if(!t.highlightWordAroundCursor)return mS.none;let e=n.wordAt(i.head);if(!e)return mS.none;s=n.charCategorizer(i.head),o=n.sliceDoc(e.from,e.to)}else{let e=i.to-i.from;if(e<t.minSelectionLength||e>200)return mS.none;if(t.wholeWords){if(o=n.sliceDoc(i.from,i.to),s=n.charCategorizer(i.head),!SO(s,n,i.from,i.to)||!function(e,t,n,r){return e(t.sliceDoc(n,n+1))==Dw.Word&&e(t.sliceDoc(r-1,r))==Dw.Word}(s,n,i.from,i.to))return mS.none}else if(o=n.sliceDoc(i.from,i.to),!o)return mS.none}let a=[];for(let l of e.visibleRanges){let e=new sO(n.doc,o,l.from,l.to);for(;!e.next().done;){let{from:r,to:o}=e.value;if((!s||SO(s,n,r,o))&&(i.empty&&r<=i.from&&o>=i.to?a.push(xO.range(r,o)):(r>=i.to||o<=i.from)&&a.push(wO.range(r,o)),a.length>t.maxMatches))return mS.none}}return mS.set(a)}},{decorations:e=>e.decorations}),CO=r_.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const _O=Xb.define({combine:e=>Bw(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new eN(e),scrollToMatch:e=>r_.scrollIntoView(e)})});class EO{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,lO),!0}catch(Zs){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new DO(this):new TO(this)}getCursor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=e.doc?e:Lw.create({doc:e});return null==n&&(n=r.doc.length),this.regexp?PO(this,r,t,n):MO(this,r,t,n)}}class AO{constructor(e){this.spec=e}}function MO(e,t,n,r){return new sO(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:e=>e.toLowerCase(),e.wholeWord?function(e,t){return(n,r,o,i)=>((i>n||i+o.length<r)&&(i=Math.max(0,n-2),o=e.sliceString(i,Math.min(e.length,r+2))),(t(OO(o,n-i))!=Dw.Word||t(NO(o,n-i))!=Dw.Word)&&(t(NO(o,r-i))!=Dw.Word||t(OO(o,r-i))!=Dw.Word))}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}class TO extends AO{constructor(e){super(e)}nextMatch(e,t,n){let r=MO(this.spec,e,n,e.doc.length).nextOverlapping();return r.done&&(r=MO(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=n;;){let n=Math.max(t,r-1e4-this.spec.unquoted.length),o=MO(this.spec,e,n,r),i=null;for(;!o.nextOverlapping().done;)i=o.value;if(i)return i;if(n==t)return null;r-=1e4}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=MO(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let o=MO(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}function PO(e,t,n,r){return new cO(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(o=t.charCategorizer(t.selection.main.head),(e,t,n)=>!n[0].length||(o(OO(n.input,n.index))!=Dw.Word||o(NO(n.input,n.index))!=Dw.Word)&&(o(NO(n.input,n.index+n[0].length))!=Dw.Word||o(OO(n.input,n.index+n[0].length))!=Dw.Word)):void 0},n,r);var o}function OO(e,t){return e.slice(Ab(e,t,!1),t)}function NO(e,t){return e.slice(t,Ab(e,t))}class DO extends AO{nextMatch(e,t,n){let r=PO(this.spec,e,n,e.doc.length).next();return r.done&&(r=PO(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=1;;r++){let o=Math.max(t,n-1e4*r),i=PO(this.spec,e,o,n),s=null;for(;!i.next().done;)s=i.value;if(s&&(o==t||s.from>o+10))return s;if(o==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,((t,n)=>"$"==n?"$":"&"==n?e.match[0]:"0"!=n&&+n<e.match.length?e.match[n]:t))}matchAll(e,t){let n=PO(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let o=PO(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}const RO=_w.define(),IO=_w.define(),zO=nw.define({create:e=>new LO($O(e).create(),null),update(e,t){for(let n of t.effects)n.is(RO)?e=new LO(n.value.create(),e.panel):n.is(IO)&&(e=new LO(e.query,n.value?YO:null));return e},provide:e=>wE.from(e,(e=>e.panel))});class LO{constructor(e,t){this.query=e,this.panel=t}}const BO=mS.mark({class:"cm-searchMatch"}),jO=mS.mark({class:"cm-searchMatch cm-searchMatch-selected"}),FO=ik.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(zO))}update(e){let t=e.state.field(zO);(t!=e.startState.field(zO)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight(e){let{query:t,panel:n}=e;if(!n||!t.spec.valid)return mS.none;let{view:r}=this,o=new Uw;for(let i=0,s=r.visibleRanges,a=s.length;i<a;i++){let{from:e,to:n}=s[i];for(;i<a-1&&n>s[i+1].from-500;)n=s[++i].to;t.highlight(r.state,e,n,((e,t)=>{let n=r.state.selection.ranges.some((n=>n.from==e&&n.to==t));o.add(e,t,n?jO:BO)}))}return o.finish()}},{decorations:e=>e.decorations});function VO(e){return t=>{let n=t.state.field(zO,!1);return n&&n.query.spec.valid?e(t,n):ZO(t)}}const WO=VO(((e,t)=>{let{query:n}=t,{to:r}=e.state.selection.main,o=n.nextMatch(e.state,r,r);if(!o)return!1;let i=Kb.single(o.from,o.to),s=e.state.facet(_O);return e.dispatch({selection:i,effects:[oN(e,o),s.scrollToMatch(i.main,e)],userEvent:"select.search"}),GO(e),!0})),HO=VO(((e,t)=>{let{query:n}=t,{state:r}=e,{from:o}=r.selection.main,i=n.prevMatch(r,o,o);if(!i)return!1;let s=Kb.single(i.from,i.to),a=e.state.facet(_O);return e.dispatch({selection:s,effects:[oN(e,i),a.scrollToMatch(s.main,e)],userEvent:"select.search"}),GO(e),!0})),UO=VO(((e,t)=>{let{query:n}=t,r=n.matchAll(e.state,1e3);return!(!r||!r.length)&&(e.dispatch({selection:Kb.create(r.map((e=>Kb.range(e.from,e.to)))),userEvent:"select.search.matches"}),!0)})),qO=VO(((e,t)=>{let{query:n}=t,{state:r}=e,{from:o,to:i}=r.selection.main;if(r.readOnly)return!1;let s=n.nextMatch(r,o,o);if(!s)return!1;let a,l,c=[],u=[];if(s.from==o&&s.to==i&&(l=r.toText(n.getReplacement(s)),c.push({from:s.from,to:s.to,insert:l}),s=n.nextMatch(r,s.from,s.to),u.push(r_.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(o).number)+"."))),s){let t=0==c.length||c[0].from>=s.to?0:s.to-s.from-l.length;a=Kb.single(s.from-t,s.to-t),u.push(oN(e,s)),u.push(r.facet(_O).scrollToMatch(a.main,e))}return e.dispatch({changes:c,selection:a,effects:u,userEvent:"input.replace"}),!0})),KO=VO(((e,t)=>{let{query:n}=t;if(e.state.readOnly)return!1;let r=n.matchAll(e.state,1e9).map((e=>{let{from:t,to:r}=e;return{from:t,to:r,insert:n.getReplacement(e)}}));if(!r.length)return!1;let o=e.state.phrase("replaced $ matches",r.length)+".";return e.dispatch({changes:r,effects:r_.announce.of(o),userEvent:"input.replace.all"}),!0}));function YO(e){return e.state.facet(_O).createPanel(e)}function $O(e,t){var n,r,o,i,s;let a=e.selection.main,l=a.empty||a.to>a.from+100?"":e.sliceDoc(a.from,a.to);if(t&&!l)return t;let c=e.facet(_O);return new EO({search:(null!==(n=null===t||void 0===t?void 0:t.literal)&&void 0!==n?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null===t||void 0===t?void 0:t.caseSensitive)&&void 0!==r?r:c.caseSensitive,literal:null!==(o=null===t||void 0===t?void 0:t.literal)&&void 0!==o?o:c.literal,regexp:null!==(i=null===t||void 0===t?void 0:t.regexp)&&void 0!==i?i:c.regexp,wholeWord:null!==(s=null===t||void 0===t?void 0:t.wholeWord)&&void 0!==s?s:c.wholeWord})}function XO(e){let t=gE(e,YO);return t&&t.dom.querySelector("[main-field]")}function GO(e){let t=XO(e);t&&t==e.root.activeElement&&t.select()}const ZO=e=>{let t=e.state.field(zO,!1);if(t&&t.panel){let n=XO(e);if(n&&n!=e.root.activeElement){let r=$O(e.state,t.query.spec);r.valid&&e.dispatch({effects:RO.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[IO.of(!0),t?RO.of($O(e.state,t.query.spec)):_w.appendConfig.of(sN)]});return!0},QO=e=>{let t=e.state.field(zO,!1);if(!t||!t.panel)return!1;let n=gE(e,YO);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:IO.of(!1)}),!0},JO=[{key:"Mod-f",run:ZO,scope:"editor search-panel"},{key:"F3",run:WO,shift:HO,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:WO,shift:HO,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:QO,scope:"editor search-panel"},{key:"Mod-Shift-l",run:e=>{let{state:t,dispatch:n}=e,r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:o,to:i}=r.main,s=[],a=0;for(let l=new sO(t.doc,t.sliceDoc(o,i));!l.next().done;){if(s.length>1e3)return!1;l.value.from==o&&(a=s.length),s.push(Kb.range(l.value.from,l.value.to))}return n(t.update({selection:Kb.create(s,a),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:e=>{let t=gE(e,pO);if(!t){let n=[mO.of(!0)];null==e.state.field(gO,!1)&&n.push(_w.appendConfig.of([gO,vO])),e.dispatch({effects:n}),t=gE(e,pO)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:e=>{let{state:t,dispatch:n}=e,{ranges:r}=t.selection;if(r.some((e=>e.from===e.to)))return(e=>{let{state:t,dispatch:n}=e,{selection:r}=t,o=Kb.create(r.ranges.map((e=>t.wordAt(e.head)||Kb.cursor(e.head))),r.mainIndex);return!o.eq(r)&&(n(t.update({selection:o})),!0)})({state:t,dispatch:n});let o=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some((e=>t.sliceDoc(e.from,e.to)!=o)))return!1;let i=function(e,t){let{main:n,ranges:r}=e.selection,o=e.wordAt(n.head),i=o&&o.from==n.from&&o.to==n.to;for(let s=!1,a=new sO(e.doc,t,r[r.length-1].to);;){if(a.next(),!a.done){if(s&&r.some((e=>e.from==a.value.from)))continue;if(i){let t=e.wordAt(a.value.from);if(!t||t.from!=a.value.from||t.to!=a.value.to)continue}return a.value}if(s)return null;a=new sO(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),s=!0}}(t,o);return!!i&&(n(t.update({selection:t.selection.addRange(Kb.range(i.from,i.to),!1),effects:r_.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class eN{constructor(e){this.view=e;let t=this.query=e.state.field(zO).query.spec;function n(e,t,n){return rO("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=rO("input",{value:t.search,placeholder:tN(e,"Find"),"aria-label":tN(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=rO("input",{value:t.replace,placeholder:tN(e,"Replace"),"aria-label":tN(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=rO("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=rO("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=rO("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=rO("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,n("next",(()=>WO(e)),[tN(e,"next")]),n("prev",(()=>HO(e)),[tN(e,"previous")]),n("select",(()=>UO(e)),[tN(e,"all")]),rO("label",null,[this.caseField,tN(e,"match case")]),rO("label",null,[this.reField,tN(e,"regexp")]),rO("label",null,[this.wordField,tN(e,"by word")]),...e.state.readOnly?[]:[rO("br"),this.replaceField,n("replace",(()=>qO(e)),[tN(e,"replace")]),n("replaceAll",(()=>KO(e)),[tN(e,"replace all")])],rO("button",{name:"close",onclick:()=>QO(e),"aria-label":tN(e,"close"),type:"button"},["\xd7"])])}commit(){let e=new EO({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:RO.of(e)}))}keydown(e){var t,n,r;t=this.view,n=e,r="search-panel",g_(f_(t.state),n,t,r)?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?HO:WO)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),qO(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(RO)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(_O).top}}function tN(e,t){return e.state.phrase(t)}const nN=30,rN=/[\s\.,:;?!]/;function oN(e,t){let{from:n,to:r}=t,o=e.state.doc.lineAt(n),i=e.state.doc.lineAt(r).to,s=Math.max(o.from,n-nN),a=Math.min(i,r+nN),l=e.state.sliceDoc(s,a);if(s!=o.from)for(let c=0;c<nN;c++)if(!rN.test(l[c+1])&&rN.test(l[c])){l=l.slice(c);break}if(a!=i)for(let c=l.length-1;c>l.length-nN;c--)if(!rN.test(l[c-1])&&rN.test(l[c])){l=l.slice(0,c);break}return r_.announce.of("".concat(e.state.phrase("current match"),". ").concat(l," ").concat(e.state.phrase("on line")," ").concat(o.number,"."))}const iN=r_.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),sN=[zO,lw.low(FO),iN];class aN{constructor(e,t,n){this.state=e,this.pos=t,this.explicit=n,this.abortListeners=[]}tokenBefore(e){let t=eM(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),o=r.search(hN(e,!1));return o<0?null:{from:n+o,to:this.pos,text:r.slice(o)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function lN(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(t.replace(/[^\w\s]/g,"\\$&"),"]")}function cN(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[n,r]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),n=Object.create(null);for(let{label:o}of e){t[o[0]]=!0;for(let e=1;e<o.length;e++)n[o[e]]=!0}let r=lN(t)+lN(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(t);return e=>{let o=e.matchBefore(r);return o||e.explicit?{from:o?o.from:e.pos,options:t,validFor:n}:null}}class uN{constructor(e,t,n,r){this.completion=e,this.source=t,this.match=n,this.score=r}}function dN(e){return e.selection.main.from}function hN(e,t){var n;let{source:r}=e,o=t&&"^"!=r[0],i="$"!=r[r.length-1];return o||i?new RegExp("".concat(o?"^":"","(?:").concat(r,")").concat(i?"$":""),null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}const fN=Sw.define();const pN=new WeakMap;function mN(e){if(!Array.isArray(e))return e;let t=pN.get(e);return t||pN.set(e,t=cN(e)),t}const gN=_w.define(),vN=_w.define();class yN{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=Nb(e,t),r=Rb(n);this.chars.push(n);let o=e.slice(t,t+r),i=o.toUpperCase();this.folded.push(Nb(i==o?o.toLowerCase():i,0)),t+=r}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,!0}match(e){if(0==this.pattern.length)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:t,folded:n,any:r,precise:o,byWord:i}=this;if(1==t.length){let r=Nb(e,0),o=Rb(r),i=o==e.length?0:-100;if(r==t[0]);else{if(r!=n[0])return!1;i+=-200}return this.ret(i,[0,o])}let s=e.indexOf(this.pattern);if(0==s)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let a=t.length,l=0;if(s<0){for(let o=0,i=Math.min(e.length,200);o<i&&l<a;){let i=Nb(e,o);i!=t[l]&&i!=n[l]||(r[l++]=o),o+=Rb(i)}if(l<a)return!1}let c=0,u=0,d=!1,h=0,f=-1,p=-1,m=/[a-z]/.test(e),g=!0;for(let v=0,y=Math.min(e.length,200),b=0;v<y&&u<a;){let r=Nb(e,v);s<0&&(c<a&&r==t[c]&&(o[c++]=v),h<a&&(r==t[h]||r==n[h]?(0==h&&(f=v),p=v+1,h++):h=0));let l,y=r<255?r>=48&&r<=57||r>=97&&r<=122?2:r>=65&&r<=90?1:0:(l=Db(r))!=l.toLowerCase()?1:l!=l.toUpperCase()?2:0;(!v||1==y&&m||0==b&&0!=y)&&(t[u]==r||n[u]==r&&(d=!0)?i[u++]=v:i.length&&(g=!1)),b=y,v+=Rb(r)}return u==a&&0==i[0]&&g?this.result((d?-200:0)-100,i,e):h==a&&0==f?this.ret(-200-e.length+(p==e.length?0:-100),[0,p]):s>-1?this.ret(-700-e.length,[s,s+this.pattern.length]):h==a?this.ret(-900-e.length,[f,p]):u==a?this.result((d?-200:0)-100-700+(g?0:-1100),i,e):2!=t.length&&this.result((r[0]?-700:0)-200-1100,r,e)}result(e,t,n){let r=[],o=0;for(let i of t){let e=i+(this.astral?Rb(Nb(n,i)):1);o&&r[o-1]==i?r[o-1]=e:(r[o++]=i,r[o++]=e)}return this.ret(e-n.length,r)}}const bN=Xb.define({combine:e=>Bw(e,{activateOnTyping:!0,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:xN,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>wN(e(n),t(n)),optionClass:(e,t)=>n=>wN(e(n),t(n)),addToOptions:(e,t)=>e.concat(t)})});function wN(e,t){return e?t?e+" "+t:e:t}function xN(e,t,n,r,o,i){let s,a,l=e.textDirection==CS.RTL,c=l,u=!1,d="top",h=t.left-o.left,f=o.right-t.right,p=r.right-r.left,m=r.bottom-r.top;if(c&&h<Math.min(p,f)?c=!1:!c&&f<Math.min(p,h)&&(c=!0),p<=(c?h:f))s=Math.max(o.top,Math.min(n.top,o.bottom-m))-t.top,a=Math.min(400,c?h:f);else{u=!0,a=Math.min(400,(l?t.right:o.right-t.left)-30);let e=o.bottom-t.bottom;e>=m||e>t.top?s=n.bottom-t.top:(d="bottom",s=t.bottom-n.top)}let g=(t.bottom-t.top)/i.offsetHeight,v=(t.right-t.left)/i.offsetWidth;return{style:"".concat(d,": ").concat(s/g,"px; max-width: ").concat(a/v,"px"),class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":c?"left":"right")}}function SN(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let e=Math.floor(t/n);return{from:e*n,to:(e+1)*n}}let r=Math.floor((e-t)/n);return{from:e-(r+1)*n,to:e-r*n}}class kN{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:e=>this.placeInfo(e),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:o,selected:i}=r.open,s=e.state.facet(bN);this.optionContent=function(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map((e=>"cm-completionIcon-"+e))),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,n,r){let o=document.createElement("span");o.className="cm-completionLabel";let i=e.displayLabel||e.label,s=0;for(let a=0;a<r.length;){let e=r[a++],t=r[a++];e>s&&o.appendChild(document.createTextNode(i.slice(s,e)));let n=o.appendChild(document.createElement("span"));n.appendChild(document.createTextNode(i.slice(e,t))),n.className="cm-completionMatchedText",s=t}return s<i.length&&o.appendChild(document.createTextNode(i.slice(s))),o},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort(((e,t)=>e.position-t.position)).map((e=>e.render))}(s),this.optionClass=s.optionClass,this.tooltipClass=s.tooltipClass,this.range=SN(o.length,i,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",(n=>{let{options:r}=e.state.field(t).open;for(let t,o=n.target;o&&o!=this.dom;o=o.parentNode)if("LI"==o.nodeName&&(t=/-(\d+)$/.exec(o.id))&&+t[1]<r.length)return this.applyCompletion(e,r[+t[1]]),void n.preventDefault()})),this.dom.addEventListener("focusout",(t=>{let n=e.state.field(this.stateField,!1);n&&n.tooltip&&e.state.facet(bN).closeOnBlur&&t.relatedTarget!=e.contentDOM&&e.dispatch({effects:vN.of(null)})})),this.showOptions(o,r.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)}))}update(e){var t;let n=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=r){let{options:o,selected:i,disabled:s}=n.open;r.open&&r.open.options==o||(this.range=SN(o.length,i,e.state.facet(bN).maxRenderedOptions),this.showOptions(o,n.id)),this.updateSel(),s!=(null===(t=r.open)||void 0===t?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!s)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let e of this.currentClass.split(" "))e&&this.dom.classList.remove(e);for(let e of t.split(" "))e&&this.dom.classList.add(e);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=SN(t.options.length,t.selected,this.view.state.facet(bN).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:n}=t.options[t.selected],{info:r}=n;if(!r)return;let o="string"===typeof r?document.createTextNode(r):r(n);if(!o)return;"then"in o?o.then((t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t,n)})).catch((e=>tk(this.view.state,e,"completion info"))):this.addInfoPane(o,n)}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",null!=e.nodeType)n.appendChild(e),this.infoDestroy=null;else{let{dom:t,destroy:r}=e;n.appendChild(t),this.infoDestroy=r||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)"LI"==n.nodeName&&n.id?r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected"):r--;return t&&function(e,t){let n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=n.height/e.offsetHeight;r.top<n.top?e.scrollTop-=(n.top-r.top)/o:r.bottom>n.bottom&&(e.scrollTop+=(r.bottom-n.bottom)/o)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),o=this.space;if(!o){let e=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:e.innerWidth,bottom:e.innerHeight}}return r.top>Math.min(o.bottom,t.bottom)-10||r.bottom<Math.max(o.top,t.top)+10?null:this.view.state.facet(bN).positionInfo(this.view,t,r,n,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let i=n.from;i<n.to;i++){let{completion:s,match:a}=e[i],{section:l}=s;if(l){let e="string"==typeof l?l:l.name;if(e!=o&&(i>n.from||0==n.from))if(o=e,"string"!=typeof l&&l.header)r.appendChild(l.header(l));else{r.appendChild(document.createElement("completion-section")).textContent=e}}const c=r.appendChild(document.createElement("li"));c.id=t+"-"+i,c.setAttribute("role","option");let u=this.optionClass(s);u&&(c.className=u);for(let e of this.optionContent){let t=e(s,this.view.state,this.view,a);t&&c.appendChild(t)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function CN(e,t){return n=>new kN(n,e,t)}function _N(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class EN{constructor(e,t,n,r,o,i){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=r,this.selected=o,this.disabled=i}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new EN(this.options,TN(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,r,o){let i=function(e,t){let n=[],r=null,o=e=>{n.push(e);let{section:t}=e.completion;if(t){r||(r=[]);let e="string"==typeof t?t:t.name;r.some((t=>t.name==e))||r.push("string"==typeof t?{name:e}:t)}};for(let l of e)if(l.hasResult()){let e=l.result.getMatch;if(!1===l.result.filter)for(let t of l.result.options)o(new uN(t,l.source,e?e(t):[],1e9-n.length));else{let n=new yN(t.sliceDoc(l.from,l.to));for(let t of l.result.options)if(n.match(t.label)){let r=t.displayLabel?e?e(t,n.matched):[]:n.matched;o(new uN(t,l.source,r,n.score+(t.boost||0)))}}}if(r){let e=Object.create(null),t=0,o=(e,t)=>{var n,r;return(null!==(n=e.rank)&&void 0!==n?n:1e9)-(null!==(r=t.rank)&&void 0!==r?r:1e9)||(e.name<t.name?-1:1)};for(let n of r.sort(o))t-=1e5,e[n.name]=t;for(let r of n){let{section:t}=r.completion;t&&(r.score+=e["string"==typeof t?t:t.name])}}let i=[],s=null,a=t.facet(bN).compareCompletions;for(let l of n.sort(((e,t)=>t.score-e.score||a(e.completion,t.completion)))){let e=l.completion;!s||s.label!=e.label||s.detail!=e.detail||null!=s.type&&null!=e.type&&s.type!=e.type||s.apply!=e.apply||s.boost!=e.boost?i.push(l):_N(l.completion)>_N(s)&&(i[i.length-1]=l),s=l.completion}return i}(e,t);if(!i.length)return r&&e.some((e=>1==e.state))?new EN(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let s=t.facet(bN).selectOnOpen?0:-1;if(r&&r.selected!=s&&-1!=r.selected){let e=r.options[r.selected].completion;for(let t=0;t<i.length;t++)if(i[t].completion==e){s=t;break}}return new EN(i,TN(n,s),{pos:e.reduce(((e,t)=>t.hasResult()?Math.min(e,t.from):e),1e8),create:BN,above:o.aboveCursor},r?r.timestamp:Date.now(),s,!1)}map(e){return new EN(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class AN{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new AN(PN,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,n=t.facet(bN),r=(n.override||t.languageDataAt("autocomplete",dN(t)).map(mN)).map((t=>(this.active.find((e=>e.source==t))||new NN(t,this.active.some((e=>0!=e.state))?1:0)).update(e,n)));r.length==this.active.length&&r.every(((e,t)=>e==this.active[t]))&&(r=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||r.some((t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to)))||!function(e,t){if(e==t)return!0;for(let n=0,r=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;r<t.length&&!t[r].hasResult;)r++;let o=n==e.length,i=r==t.length;if(o||i)return o==i;if(e[n++].result!=t[r++].result)return!1}}(r,this.active)?o=EN.build(r,t,this.id,o,n):o&&o.disabled&&!r.some((e=>1==e.state))&&(o=null),!o&&r.every((e=>1!=e.state))&&r.some((e=>e.hasResult()))&&(r=r.map((e=>e.hasResult()?new NN(e.source,0):e)));for(let i of e.effects)i.is(IN)&&(o=o&&o.setSelected(i.value,this.id));return r==this.active&&o==this.open?this:new AN(r,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:MN}}const MN={"aria-autocomplete":"list"};function TN(e,t){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}const PN=[];function ON(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}class NN{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this.source=e,this.state=t,this.explicitPos=n}hasResult(){return!1}update(e,t){let n=ON(e),r=this;n?r=r.handleUserEvent(e,n,t):e.docChanged?r=r.handleChange(e):e.selection&&0!=r.state&&(r=new NN(r.source,0));for(let o of e.effects)if(o.is(gN))r=new NN(r.source,1,o.value?dN(e.state):-1);else if(o.is(vN))r=new NN(r.source,0);else if(o.is(RN))for(let e of o.value)e.source==r.source&&(r=e);return r}handleUserEvent(e,t,n){return"delete"!=t&&n.activateOnTyping?new NN(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(dN(e.startState))?new NN(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new NN(this.source,this.state,e.mapPos(this.explicitPos))}}class DN extends NN{constructor(e,t,n,r,o){super(e,2,t),this.result=n,this.from=r,this.to=o}hasResult(){return!0}handleUserEvent(e,t,n){var r;let o=e.changes.mapPos(this.from),i=e.changes.mapPos(this.to,1),s=dN(e.state);if((this.explicitPos<0?s<=o:s<this.from)||s>i||"delete"==t&&dN(e.startState)==this.from)return new NN(this.source,"input"==t&&n.activateOnTyping?1:0);let a,l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function(e,t,n,r){if(!e)return!1;let o=t.sliceDoc(n,r);return"function"==typeof e?e(o,n,r,t):hN(e,!0).test(o)}(this.result.validFor,e.state,o,i)?new DN(this.source,l,this.result,o,i):this.result.update&&(a=this.result.update(this.result,o,i,new aN(e.state,s,l>=0)))?new DN(this.source,l,a,a.from,null!==(r=a.to)&&void 0!==r?r:dN(e.state)):new NN(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new NN(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new DN(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}const RN=_w.define({map:(e,t)=>e.map((e=>e.map(t)))}),IN=_w.define(),zN=nw.define({create:()=>AN.start(),update:(e,t)=>e.update(t),provide:e=>[sE.from(e,(e=>e.tooltip)),r_.contentAttributes.from(e,(e=>e.attrs))]});function LN(e,t){const n=t.completion.apply||t.completion.label;let r=e.state.field(zN).active.find((e=>e.source==t.source));return r instanceof DN&&("string"==typeof n?e.dispatch(Object.assign(Object.assign({},function(e,t,n,r){let{main:o}=e.selection,i=n-o.from,s=r-o.from;return Object.assign(Object.assign({},e.changeByRange((a=>a!=o&&n!=r&&e.sliceDoc(a.from+i,a.from+s)!=e.sliceDoc(n,r)?{range:a}:{changes:{from:a.from+i,to:r==o.from?a.to:a.from+s,insert:t},range:Kb.cursor(a.from+i+t.length)}))),{scrollIntoView:!0,userEvent:"input.complete"})}(e.state,n,r.from,r.to)),{annotations:fN.of(t.completion)})):n(e,t.completion,r.from,r.to),!0)}const BN=CN(zN,LN);function jN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"option";return n=>{let r=n.state.field(zN,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(bN).interactionDelay)return!1;let o,i=1;"page"==t&&(o=fE(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(e?1:-1):e?0:s-1;return a<0?a="page"==t?0:s-1:a>=s&&(a="page"==t?s-1:0),n.dispatch({effects:IN.of(a)}),!0}}class FN{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const VN=ik.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of e.state.field(zN).active)1==t.state&&this.startQuery(t)}update(e){let t=e.state.field(zN);if(!e.selectionSet&&!e.docChanged&&e.startState.field(zN)==t)return;let n=e.transactions.some((e=>(e.selection||e.docChanged)&&!ON(e)));for(let o=0;o<this.running.length;o++){let t=this.running[o];if(n||t.updates.length+e.transactions.length>50&&Date.now()-t.time>1e3){for(let e of t.context.abortListeners)try{e()}catch(XG){tk(this.view.state,XG)}t.context.abortListeners=null,this.running.splice(o--,1)}else t.updates.push(...e.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),e.transactions.some((e=>e.effects.some((e=>e.is(gN)))))&&(this.pendingStart=!0);let r=this.pendingStart?50:e.state.facet(bN).activateOnTypingDelay;if(this.debounceUpdate=t.active.some((e=>1==e.state&&!this.running.some((t=>t.active.source==e.source))))?setTimeout((()=>this.startUpdate()),r):-1,0!=this.composing)for(let o of e.transactions)"input"==ON(o)?this.composing=2:2==this.composing&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:e}=this.view,t=e.field(zN);for(let n of t.active)1!=n.state||this.running.some((e=>e.active.source==n.source))||this.startQuery(n)}startQuery(e){let{state:t}=this.view,n=dN(t),r=new aN(t,n,e.explicitPos==n),o=new FN(e,r);this.running.push(o),Promise.resolve(e.source(r)).then((e=>{o.context.aborted||(o.done=e||null,this.scheduleAccept())}),(e=>{this.view.dispatch({effects:vN.of(null)}),tk(this.view.state,e)}))}scheduleAccept(){this.running.every((e=>void 0!==e.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),this.view.state.facet(bN).updateSyncTime))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],n=this.view.state.facet(bN);for(let r=0;r<this.running.length;r++){let o=this.running[r];if(void 0===o.done)continue;if(this.running.splice(r--,1),o.done){let r=new DN(o.active.source,o.active.explicitPos,o.done,o.done.from,null!==(e=o.done.to)&&void 0!==e?e:dN(o.updates.length?o.updates[0].startState:this.view.state));for(let e of o.updates)r=r.update(e,n);if(r.hasResult()){t.push(r);continue}}let i=this.view.state.field(zN).active.find((e=>e.source==o.active.source));if(i&&1==i.state)if(null==o.done){let e=new NN(o.active.source,0);for(let t of o.updates)e=e.update(t,n);1!=e.state&&t.push(e)}else this.startQuery(i)}t.length&&this.view.dispatch({effects:RN.of(t)})}},{eventHandlers:{blur(e){let t=this.view.state.field(zN,!1);if(t&&t.tooltip&&this.view.state.facet(bN).closeOnBlur){let n=t.open&&fE(this.view,t.open.tooltip);n&&n.dom.contains(e.relatedTarget)||setTimeout((()=>this.view.dispatch({effects:vN.of(null)})),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:gN.of(!1)})),20),this.composing=0}}}),WN="object"==typeof navigator&&/Win/.test(navigator.platform),HN=lw.highest(r_.domEventHandlers({keydown(e,t){let n=t.state.field(zN,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||e.key.length>1||e.ctrlKey&&(!WN||!e.altKey)||e.metaKey)return!1;let r=n.open.options[n.open.selected],o=n.active.find((e=>e.source==r.source)),i=r.completion.commitCharacters||o.result.commitCharacters;return i&&i.indexOf(e.key)>-1&&LN(t,r),!1}})),UN=r_.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"".concat(400,"px"),boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"".concat(30,"px")},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"".concat(30,"px")},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\ud835\udc36'"}},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\ud83d\udd11\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});const qN={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},KN=_w.define({map(e,t){let n=t.mapPos(e,-1,zb.TrackAfter);return null==n?void 0:n}}),YN=new class extends jw{};YN.startSide=1,YN.endSide=-1;const $N=nw.define({create:()=>Hw.empty,update(e,t){if(e=e.map(t.changes),t.selection){let n=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:e=>e>=n.from&&e<=n.to})}for(let n of t.effects)n.is(KN)&&(e=e.update({add:[YN.range(n.value,n.value+1)]}));return e}});const XN="()[]{}<>";function GN(e){for(let t=0;t<XN.length;t+=2)if(XN.charCodeAt(t)==e)return XN.charAt(t+1);return Db(e<128?e:e+1)}function ZN(e,t){return e.languageDataAt("closeBrackets",t)[0]||qN}const QN="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),JN=r_.inputHandler.of(((e,t,n,r)=>{if((QN?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let o=e.state.selection.main;if(r.length>2||2==r.length&&1==Rb(Nb(r,0))||t!=o.from||n!=o.to)return!1;let i=function(e,t){let n=ZN(e,e.selection.main.head),r=n.brackets||qN.brackets;for(let o of r){let i=GN(Nb(o,0));if(t==o)return i==o?iD(e,o,r.indexOf(o+o+o)>-1,n):rD(e,o,i,n.before||qN.before);if(t==i&&tD(e,e.selection.main.from))return oD(e,o,i)}return null}(e.state,r);return!!i&&(e.dispatch(i),!0)})),eD=[{key:"Backspace",run:e=>{let{state:t,dispatch:n}=e;if(t.readOnly)return!1;let r=ZN(t,t.selection.main.head).brackets||qN.brackets,o=null,i=t.changeByRange((e=>{if(e.empty){let n=function(e,t){let n=e.sliceString(t-2,t);return Rb(Nb(n,0))==n.length?n:n.slice(1)}(t.doc,e.head);for(let o of r)if(o==n&&nD(t.doc,e.head)==GN(Nb(o,0)))return{changes:{from:e.head-o.length,to:e.head+o.length},range:Kb.cursor(e.head-o.length)}}return{range:o=e}}));return o||n(t.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!o}}];function tD(e,t){let n=!1;return e.field($N).between(0,e.doc.length,(e=>{e==t&&(n=!0)})),n}function nD(e,t){let n=e.sliceString(t,t+2);return n.slice(0,Rb(Nb(n,0)))}function rD(e,t,n,r){let o=null,i=e.changeByRange((i=>{if(!i.empty)return{changes:[{insert:t,from:i.from},{insert:n,from:i.to}],effects:KN.of(i.to+t.length),range:Kb.range(i.anchor+t.length,i.head+t.length)};let s=nD(e.doc,i.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:t+n,from:i.head},effects:KN.of(i.head+t.length),range:Kb.cursor(i.head+t.length)}:{range:o=i}}));return o?null:e.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function oD(e,t,n){let r=null,o=e.changeByRange((t=>t.empty&&nD(e.doc,t.head)==n?{changes:{from:t.head,to:t.head+n.length,insert:n},range:Kb.cursor(t.head+n.length)}:r={range:t}));return r?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function iD(e,t,n,r){let o=r.stringPrefixes||qN.stringPrefixes,i=null,s=e.changeByRange((r=>{if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:t,from:r.to}],effects:KN.of(r.to+t.length),range:Kb.range(r.anchor+t.length,r.head+t.length)};let s,a=r.head,l=nD(e.doc,a);if(l==t){if(sD(e,a))return{changes:{insert:t+t,from:a},effects:KN.of(a+t.length),range:Kb.cursor(a+t.length)};if(tD(e,a)){let r=n&&e.sliceDoc(a,a+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:a,to:a+r.length,insert:r},range:Kb.cursor(a+r.length)}}}else{if(n&&e.sliceDoc(a-2*t.length,a)==t+t&&(s=aD(e,a-2*t.length,o))>-1&&sD(e,s))return{changes:{insert:t+t+t+t,from:a},effects:KN.of(a+t.length),range:Kb.cursor(a+t.length)};if(e.charCategorizer(a)(l)!=Dw.Word&&aD(e,a,o)>-1&&!function(e,t,n,r){let o=eM(e).resolveInner(t,-1),i=r.reduce(((e,t)=>Math.max(e,t.length)),0);for(let s=0;s<5;s++){let s=e.sliceDoc(o.from,Math.min(o.to,o.from+n.length+i)),a=s.indexOf(n);if(!a||a>-1&&r.indexOf(s.slice(0,a))>-1){let t=o.firstChild;for(;t&&t.from==o.from&&t.to-t.from>n.length+a;){if(e.sliceDoc(t.to-n.length,t.to)==n)return!1;t=t.firstChild}return!0}let l=o.to==t&&o.parent;if(!l)break;o=l}return!1}(e,a,t,o))return{changes:{insert:t+t,from:a},effects:KN.of(a+t.length),range:Kb.cursor(a+t.length)}}return{range:i=r}}));return i?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function sD(e,t){let n=eM(e).resolveInner(t+1);return n.parent&&n.from==t}function aD(e,t,n){let r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=Dw.Word)return t;for(let o of n){let n=t-o.length;if(e.sliceDoc(n,t)==o&&r(e.sliceDoc(n-1,n))!=Dw.Word)return n}return-1}const lD=[{key:"Ctrl-Space",run:e=>!!e.state.field(zN,!1)&&(e.dispatch({effects:gN.of(!0)}),!0)},{key:"Escape",run:e=>{let t=e.state.field(zN,!1);return!(!t||!t.active.some((e=>0!=e.state)))&&(e.dispatch({effects:vN.of(null)}),!0)}},{key:"ArrowDown",run:jN(!0)},{key:"ArrowUp",run:jN(!1)},{key:"PageDown",run:jN(!0,"page")},{key:"PageUp",run:jN(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(zN,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(bN).interactionDelay)&&LN(e,t.open.options[t.open.selected])}}],cD=lw.highest(d_.computeN([bN],(e=>e.facet(bN).defaultKeymap?[lD]:[])));class uD{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class dD{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let r=e,o=n.facet(CD).markerFilter;o&&(r=o(r,n));let i=mS.set(r.map((e=>e.from==e.to||e.from==e.to-1&&n.doc.lineAt(e.from).to==e.from?mS.widget({widget:new AD(e),diagnostic:e}).range(e.from):mS.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity+(e.markClass?" "+e.markClass:"")},diagnostic:e,inclusive:!0}).range(e.from,e.to))),!0);return new dD(i,t,hD(i))}}function hD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=null;return e.between(n,1e9,((e,n,o)=>{let{spec:i}=o;if(!t||i.diagnostic==t)return r=new uD(e,n,i.diagnostic),!1})),r}function fD(e,t){let n=e.startState.doc.lineAt(t.pos);return!(!e.effects.some((e=>e.is(mD)))&&!e.changes.touchesRange(n.from,n.to))}function pD(e,t){return e.field(yD,!1)?t:t.concat(_w.appendConfig.of(DD))}const mD=_w.define(),gD=_w.define(),vD=_w.define(),yD=nw.define({create:()=>new dD(mS.none,null,null),update(e,t){if(t.docChanged){let n=e.diagnostics.map(t.changes),r=null;if(e.selected){let o=t.changes.mapPos(e.selected.from,1);r=hD(n,e.selected.diagnostic,o)||hD(n,null,o)}e=new dD(n,e.panel,r)}for(let n of t.effects)n.is(mD)?e=dD.init(n.value,e.panel,t.state):n.is(gD)?e=new dD(e.diagnostics,n.value?TD.open:null,e.selected):n.is(vD)&&(e=new dD(e.diagnostics,e.panel,n.value));return e},provide:e=>[wE.from(e,(e=>e.panel)),r_.decorations.from(e,(e=>e.diagnostics))]});const bD=mS.mark({class:"cm-lintRange cm-lintRange-active",inclusive:!0});function wD(e,t,n){let{diagnostics:r}=e.state.field(yD),o=[],i=2e8,s=0;r.between(t-(n<0?1:0),t+(n>0?1:0),((e,r,a)=>{let{spec:l}=a;t>=e&&t<=r&&(e==r||(t>e||n>0)&&(t<r||n<0))&&(o.push(l.diagnostic),i=Math.min(e,i),s=Math.max(r,s))}));let a=e.state.facet(CD).tooltipFilter;return a&&(o=a(o,e.state)),o.length?{pos:i,end:s,above:e.state.doc.lineAt(i).to<s,create:()=>({dom:xD(e,o)})}:null}function xD(e,t){return rO("ul",{class:"cm-tooltip-lint"},t.map((t=>ED(e,t,!1))))}const SD=e=>{let t=e.state.field(yD,!1);return!(!t||!t.panel)&&(e.dispatch({effects:gD.of(!1)}),!0)},kD=[{key:"Mod-Shift-m",run:e=>{let t=e.state.field(yD,!1);t&&t.panel||e.dispatch({effects:pD(e.state,[gD.of(!0)])});let n=gE(e,TD.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:e=>{let t=e.state.field(yD,!1);if(!t)return!1;let n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!(!r.value&&(r=t.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to))&&(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],CD=Xb.define({combine:e=>Object.assign({sources:e.map((e=>e.source)).filter((e=>null!=e))},Bw(e.map((e=>e.config)),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t}))});function _D(e){let t=[];if(e)e:for(let{name:n}of e){for(let e=0;e<n.length;e++){let r=n[e];if(/[a-zA-Z]/.test(r)&&!t.some((e=>e.toLowerCase()==r.toLowerCase()))){t.push(r);continue e}}t.push("")}return t}function ED(e,t,n){var r;let o=n?_D(t.actions):[];return rO("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},rO("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),null===(r=t.actions)||void 0===r?void 0:r.map(((n,r)=>{let i=!1,s=r=>{if(r.preventDefault(),i)return;i=!0;let o=hD(e.state.field(yD).diagnostics,t);o&&n.apply(e,o.from,o.to)},{name:a}=n,l=o[r]?a.indexOf(o[r]):-1,c=l<0?a:[a.slice(0,l),rO("u",a.slice(l,l+1)),a.slice(l+1)];return rO("button",{type:"button",class:"cm-diagnosticAction",onclick:s,onmousedown:s,"aria-label":" Action: ".concat(a).concat(l<0?"":' (access key "'.concat(o[r],')"'),".")},c)})),t.source&&rO("div",{class:"cm-diagnosticSource"},t.source))}class AD extends fS{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return rO("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class MD{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=ED(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class TD{constructor(e){this.view=e,this.items=[];this.list=rO("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)SD(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],r=_D(n.actions);for(let o=0;o<r.length;o++)if(r[o].toUpperCase().charCodeAt(0)==t.keyCode){let t=hD(this.view.state.field(yD).diagnostics,n);t&&n.actions[o].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=rO("div",{class:"cm-panel-lint"},this.list,rO("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>SD(this.view)},"\xd7")),this.update()}get selectedIndex(){let e=this.view.state.field(yD).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(yD),n=0,r=!1,o=null;for(e.between(0,this.view.state.doc.length,((e,i,s)=>{let a,{spec:l}=s,c=-1;for(let t=n;t<this.items.length;t++)if(this.items[t].diagnostic==l.diagnostic){c=t;break}c<0?(a=new MD(this.view,l.diagnostic),this.items.splice(n,0,a),r=!0):(a=this.items[c],c>n&&(this.items.splice(n,c-n),r=!0)),t&&a.diagnostic==t.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),o=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),n++}));n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new MD(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:e=>{let{sel:t,panel:n}=e,r=n.height/this.list.offsetHeight;t.top<n.top?this.list.scrollTop-=(n.top-t.top)/r:t.bottom>n.bottom&&(this.list.scrollTop+=(t.bottom-n.bottom)/r)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=hD(this.view.state.field(yD).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:vD.of(t)})}static open(e){return new TD(e)}}function PD(e){return'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" '.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:'viewBox="0 0 40 40"',">").concat(encodeURIComponent(e),"</svg>')")}function OD(e){return PD('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(e,'" fill="none" stroke-width=".7"/>'),'width="6" height="3"')}const ND=r_.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:OD("#d11")},".cm-lintRange-warning":{backgroundImage:OD("orange")},".cm-lintRange-info":{backgroundImage:OD("#999")},".cm-lintRange-hint":{backgroundImage:OD("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});const DD=[yD,r_.decorations.compute([yD],(e=>{let{selected:t,panel:n}=e.field(yD);return t&&n&&t.from!=t.to?mS.set([bD.range(t.from,t.to)]):mS.none})),hE(wD,{hideOn:fD}),ND];var RD=function(e){void 0===e&&(e={});var{crosshairCursor:t=!1}=e,n=[];!1!==e.closeBracketsKeymap&&(n=n.concat(eD)),!1!==e.defaultKeymap&&(n=n.concat(tO)),!1!==e.searchKeymap&&(n=n.concat(JO)),!1!==e.historyKeymap&&(n=n.concat(tP)),!1!==e.foldKeymap&&(n=n.concat(zM)),!1!==e.completionKeymap&&(n=n.concat(lD)),!1!==e.lintKeymap&&(n=n.concat(kD));var r=[];return!1!==e.lineNumbers&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[IE.of(e),AE(),BE]}()),!1!==e.highlightActiveLineGutter&&r.push(VE),!1!==e.highlightSpecialChars&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[F_.of(e),V_||(V_=ik.fromClass(class{constructor(e){this.view=e,this.decorations=mS.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(F_)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new I_({regexp:e.specialChars,decoration:(t,n,r)=>{let{doc:o}=n.state,i=Nb(t[0],0);if(9==i){let e=o.lineAt(r),t=n.state.tabSize,i=tx(e.text,t,r-e.from);return mS.replace({widget:new H_((t-i%t)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[i]||(this.decorationCache[i]=mS.replace({widget:new W_(e,i)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(F_);e.startState.facet(F_)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}()),!1!==e.history&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[BT,LT.of(e),r_.domEventHandlers({beforeinput(e,t){let n="historyUndo"==e.inputType?FT:"historyRedo"==e.inputType?VT:null;return!!n&&(e.preventDefault(),n(t))}})]}()),!1!==e.foldGutter&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign(Object.assign({},HM),e),n=new UM(t,!0),r=new UM(t,!1),o=ik.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(cM)!=e.state.facet(cM)||e.startState.field(OM,!1)!=e.state.field(OM,!1)||eM(e.startState)!=eM(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new Uw;for(let o of e.viewportLineBlocks){let i=NM(e.state,o.from,o.to)?r:EM(e.state,o.from,o.to)?n:null;i&&t.add(o.from,o.from,i)}return t.finish()}}),{domEventHandlers:i}=t;return[o,_E({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(o))||void 0===t?void 0:t.markers)||Hw.empty},initialSpacer:()=>new UM(t,!1),domEventHandlers:Object.assign(Object.assign({},i),{click:(e,t,n)=>{if(i.click&&i.click(e,t,n))return!0;let r=NM(e.state,t.from,t.to);if(r)return e.dispatch({effects:TM.of(r)}),!0;let o=EM(e.state,t.from,t.to);return!!o&&(e.dispatch({effects:MM.of(o)}),!0)}})}),jM()]}()),!1!==e.drawSelection&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[C_.of(e),E_,M_,P_,QS.of(!0)]}()),!1!==e.dropCursor&&r.push([N_,D_]),!1!==e.allowMultipleSelections&&r.push(Lw.allowMultipleSelections.of(!0)),!1!==e.indentOnInput&&r.push(Lw.transactionFilter.of((e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:r}=e.newSelection.main,o=n.lineAt(r);if(r>o.from+200)return e;let i=n.sliceString(o.from,r);if(!t.some((e=>e.test(i))))return e;let{state:s}=e,a=-1,l=[];for(let{head:c}of s.selection.ranges){let e=s.doc.lineAt(c);if(e.from==a)continue;a=e.from;let t=pM(s,e.from);if(null==t)continue;let n=/^\s*/.exec(e.text)[0],r=fM(s,t);n!=r&&l.push({from:e.from,to:e.from+n.length,insert:r})}return l.length?[e,{changes:l,sequential:!0}]:e}))),!1!==e.syntaxHighlighting&&r.push(GM(JM,{fallback:!0})),!1!==e.bracketMatching&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[rT.of(e),lT]}()),!1!==e.closeBrackets&&r.push([JN,$N]),!1!==e.autocompletion&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[HN,zN,bN.of(e),VN,cD,UN]}()),!1!==e.rectangularSelection&&r.push(function(e){let t=(null===e||void 0===e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return r_.mouseSelectionStyle.of(((e,n)=>t(n)?X_(e,n):null))}()),!1!==t&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=G_[e.key||"Alt"],r=ik.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventObservers:{keydown(e){this.set(e.keyCode==t||n(e))},keyup(e){e.keyCode!=t&&n(e)||this.set(!1)},mousemove(e){this.set(n(e))}}});return[r,r_.contentAttributes.of((e=>{var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.isDown)?Z_:null}))]}()),!1!==e.highlightActiveLine&&r.push(q_),!1!==e.highlightSelectionMatches&&r.push(function(e){let t=[CO,kO];return e&&t.push(bO.of(e)),t}()),e.tabSize&&"number"===typeof e.tabSize&&r.push(dM.of(" ".repeat(e.tabSize))),r.concat([d_.of(n.flat())]).filter(Boolean)};const ID="#e5c07b",zD="#e06c75",LD="#56b6c2",BD="#ffffff",jD="#abb2bf",FD="#7d8799",VD="#61afef",WD="#98c379",HD="#d19a66",UD="#c678dd",qD="#21252b",KD="#2c313a",YD="#282c34",$D="#353a42",XD="#3E4451",GD="#528bff",ZD=[r_.theme({"&":{color:jD,backgroundColor:YD},".cm-content":{caretColor:GD},".cm-cursor, .cm-dropCursor":{borderLeftColor:GD},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:XD},".cm-panels":{backgroundColor:qD,color:jD},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:YD,color:FD,border:"none"},".cm-activeLineGutter":{backgroundColor:KD},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:$D},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:$D,borderBottomColor:$D},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:KD,color:jD}}},{dark:!0}),GM(KM.define([{tag:$A.keyword,color:UD},{tag:[$A.name,$A.deleted,$A.character,$A.propertyName,$A.macroName],color:zD},{tag:[$A.function($A.variableName),$A.labelName],color:VD},{tag:[$A.color,$A.constant($A.name),$A.standard($A.name)],color:HD},{tag:[$A.definition($A.name),$A.separator],color:jD},{tag:[$A.typeName,$A.className,$A.number,$A.changed,$A.annotation,$A.modifier,$A.self,$A.namespace],color:ID},{tag:[$A.operator,$A.operatorKeyword,$A.url,$A.escape,$A.regexp,$A.link,$A.special($A.string)],color:LD},{tag:[$A.meta,$A.comment],color:FD},{tag:$A.strong,fontWeight:"bold"},{tag:$A.emphasis,fontStyle:"italic"},{tag:$A.strikethrough,textDecoration:"line-through"},{tag:$A.link,color:FD,textDecoration:"underline"},{tag:$A.heading,fontWeight:"bold",color:zD},{tag:[$A.atom,$A.bool,$A.special($A.variableName)],color:HD},{tag:[$A.processingInstruction,$A.string,$A.inserted],color:WD},{tag:$A.invalid,color:BD}]))];var QD=r_.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),JD=function(e){void 0===e&&(e={});var{indentWithTab:t=!0,editable:n=!0,readOnly:r=!1,theme:o="light",placeholder:i="",basicSetup:s=!0}=e,a=[];switch(t&&a.unshift(d_.of([nO])),s&&("boolean"===typeof s?a.unshift(RD()):a.unshift(RD(s))),i&&a.unshift(function(e){return ik.fromClass(class{constructor(t){this.view=t,this.placeholder=e?mS.set([mS.widget({widget:new K_(e),side:1}).range(0)]):mS.none}get decorations(){return this.view.state.doc.length?mS.none:this.placeholder}},{decorations:e=>e.decorations})}(i)),o){case"light":a.push(QD);break;case"dark":a.push(ZD);break;case"none":break;default:a.push(o)}return!1===n&&a.push(r_.editable.of(!1)),r&&a.push(Lw.readOnly.of(!0)),[...a]},eR=Sw.define(),tR=[];var nR=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],rR=(0,t.forwardRef)(((e,n)=>{var{className:r,value:o="",selection:i,extensions:s=[],onChange:a,onStatistics:l,onCreateEditor:c,onUpdate:u,autoFocus:d,theme:h="light",height:f,minHeight:p,maxHeight:m,width:g,minWidth:v,maxWidth:y,basicSetup:b,placeholder:w,indentWithTab:x,editable:S,readOnly:k,root:C,initialState:_}=e,E=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,nR),A=(0,t.useRef)(null),{state:M,view:T,container:P}=function(e){var{value:n,selection:r,onChange:o,onStatistics:i,onCreateEditor:s,onUpdate:a,extensions:l=tR,autoFocus:c,theme:u="light",height:d=null,minHeight:h=null,maxHeight:f=null,width:p=null,minWidth:m=null,maxWidth:g=null,placeholder:v="",editable:y=!0,readOnly:b=!1,indentWithTab:w=!0,basicSetup:x=!0,root:S,initialState:k}=e,[C,_]=(0,t.useState)(),[E,A]=(0,t.useState)(),[M,T]=(0,t.useState)(),P=r_.theme({"&":{height:d,minHeight:h,maxHeight:f,width:p,minWidth:m,maxWidth:g},"& .cm-scroller":{height:"100% !important"}}),O=r_.updateListener.of((e=>{if(e.docChanged&&"function"===typeof o&&!e.transactions.some((e=>e.annotation(eR)))){var t=e.state.doc.toString();o(t,e)}i&&i((e=>({line:e.state.doc.lineAt(e.state.selection.main.from),lineCount:e.state.doc.lines,lineBreak:e.state.lineBreak,length:e.state.doc.length,readOnly:e.state.readOnly,tabSize:e.state.tabSize,selection:e.state.selection,selectionAsSingle:e.state.selection.asSingle().main,ranges:e.state.selection.ranges,selectionCode:e.state.sliceDoc(e.state.selection.main.from,e.state.selection.main.to),selections:e.state.selection.ranges.map((t=>e.state.sliceDoc(t.from,t.to))),selectedText:e.state.selection.ranges.some((e=>!e.empty))}))(e))})),N=[O,P,...JD({theme:u,editable:y,readOnly:b,placeholder:v,indentWithTab:w,basicSetup:x})];return a&&"function"===typeof a&&N.push(r_.updateListener.of(a)),N=N.concat(l),(0,t.useEffect)((()=>{if(C&&!M){var e={doc:n,selection:r,extensions:N},t=k?Lw.fromJSON(k.json,e,k.fields):Lw.create(e);if(T(t),!E){var o=new r_({state:t,parent:C,root:S});A(o),s&&s(o,t)}}return()=>{E&&(T(void 0),A(void 0))}}),[C,M]),(0,t.useEffect)((()=>_(e.container)),[e.container]),(0,t.useEffect)((()=>()=>{E&&(E.destroy(),A(void 0))}),[E]),(0,t.useEffect)((()=>{c&&E&&E.focus()}),[c,E]),(0,t.useEffect)((()=>{E&&E.dispatch({effects:_w.reconfigure.of(N)})}),[u,l,d,h,f,p,m,g,v,y,b,w,x,o,a]),(0,t.useEffect)((()=>{if(void 0!==n){var e=E?E.state.doc.toString():"";E&&n!==e&&E.dispatch({changes:{from:0,to:e.length,insert:n||""},annotations:[eR.of(!0)]})}}),[n,E]),{state:M,setState:T,view:E,setView:A,container:C,setContainer:_}}({container:A.current,root:C,value:o,autoFocus:d,theme:h,height:f,minHeight:p,maxHeight:m,width:g,minWidth:v,maxWidth:y,basicSetup:b,placeholder:w,indentWithTab:x,editable:S,readOnly:k,selection:i,onChange:a,onStatistics:l,onCreateEditor:c,onUpdate:u,extensions:s,initialState:_});if((0,t.useImperativeHandle)(n,(()=>({editor:A.current,state:M,view:T})),[A,P,M,T]),"string"!==typeof o)throw new Error("value must be typeof string but got "+typeof o);var O="string"===typeof h?"cm-theme-"+h:"cm-theme";return(0,Wt.jsx)("div",ft({ref:A,className:O+(r?" "+r:"")},E))}));rR.displayName="CodeMirror";const oR=rR;function iR(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var sR=n(443);const aR=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"===typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!==typeof o||null===o)?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=t=e(r,o,i);return i},lR=e=>e?aR(e):aR;const{useDebugValue:cR}=t,{useSyncExternalStoreWithSelector:uR}=sR,dR=e=>e;function hR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dR,n=arguments.length>2?arguments[2]:void 0;const r=uR(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return cR(r),r}const fR=(e,t)=>{const n=lR(e),r=function(e){return hR(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(r,n),r},pR=(e,t)=>e?fR(e,t):fR,mR={currentStep:0,data:[],cur_data:[],output:"",location:null},gR=(e=>pR(((t,n)=>({...mR,setStep:e=>{e<n().data.length&&t({currentStep:e,cur_data:n().data[e].contexts,output:n().data[e].output,location:n().data[e].location})},setVisualData:e=>{t({currentStep:0,data:e})},setOutput:e=>{t({output:e})},setLocation:e=>{t({location:e})},...e})),iR))({});var vR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yR=t.createContext&&t.createContext(vR),bR=function(){return bR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bR.apply(this,arguments)},wR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function xR(e){return e&&e.map((function(e,n){return t.createElement(e.tag,bR({key:n},e.attr),xR(e.child))}))}function SR(e){return function(n){return t.createElement(kR,bR({attr:bR({},e.attr)},n),xR(e.child))}}function kR(e){var n=function(n){var r,o=e.attr,i=e.size,s=e.title,a=wR(e,["attr","size","title"]),l=i||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",bR({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,a,{className:r,style:bR(bR({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&t.createElement("title",null,s),e.children)};return void 0!==yR?t.createElement(yR.Consumer,null,(function(e){return n(e)})):n(vR)}function CR(e){return SR({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]})(e)}function _R(e){return SR({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 000-1.41l-2.34-2.34a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}}]})(e)}var ER=xy((function(e,t){const{direction:n,align:r,justify:o,wrap:i,basis:s,grow:a,shrink:l,...c}=e,u={display:"flex",flexDirection:n,alignItems:r,justifyContent:o,flexWrap:i,flexBasis:s,flexGrow:a,flexShrink:l};return(0,Wt.jsx)(vy.div,{ref:t,__css:u,...c})}));ER.displayName="Flex";var AR=vy("div");AR.displayName="Box";var MR=xy((function(e,t){const{size:n,centerContent:r=!0,...o}=e,i=r?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return(0,Wt.jsx)(AR,{ref:t,boxSize:n,__css:{...i,flexShrink:0,flexGrow:0},...o})}));MR.displayName="Square";var TR=xy((function(e,t){const{size:n,...r}=e;return(0,Wt.jsx)(MR,{size:n,ref:t,borderRadius:"9999px",...r})}));TR.displayName="Circle";var PR=e=>(0,Wt.jsx)(Ty,{viewBox:"0 0 24 24",...e,children:(0,Wt.jsx)("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}),OR=e=>(0,Wt.jsx)(Ty,{viewBox:"0 0 24 24",...e,children:(0,Wt.jsx)("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})});function NR(e,n,r,o){(0,t.useEffect)((()=>{var t;if(!e.current||!o)return;const i=null!=(t=e.current.ownerDocument.defaultView)?t:window,s=Array.isArray(n)?n:[n],a=new i.MutationObserver((e=>{for(const t of e)"attributes"===t.type&&t.attributeName&&s.includes(t.attributeName)&&r(t)}));return a.observe(e.current,{attributes:!0,attributeFilter:s}),()=>a.disconnect()}))}var DR=50,RR=300;function IR(e,n){const[r,o]=(0,t.useState)(!1),[i,s]=(0,t.useState)(null),[a,l]=(0,t.useState)(!0),c=(0,t.useRef)(null),u=()=>clearTimeout(c.current);!function(e,n){const r=$u(e);(0,t.useEffect)((()=>{let e=null;const t=()=>r();return null!==n&&(e=window.setInterval(t,n)),()=>{e&&window.clearInterval(e)}}),[n,r])}((()=>{"increment"===i&&e(),"decrement"===i&&n()}),r?DR:null);const d=(0,t.useCallback)((()=>{a&&e(),c.current=setTimeout((()=>{l(!1),o(!0),s("increment")}),RR)}),[e,a]),h=(0,t.useCallback)((()=>{a&&n(),c.current=setTimeout((()=>{l(!1),o(!0),s("decrement")}),RR)}),[n,a]),f=(0,t.useCallback)((()=>{l(!0),o(!1),u()}),[]);return(0,t.useEffect)((()=>()=>u()),[]),{up:d,down:h,stop:f,isSpinning:r}}function zR(e,t){let n=function(e){const t=parseFloat(e);return"number"!==typeof t||Number.isNaN(t)?0:t}(e);const r=10**(null!=t?t:10);return n=Math.round(n*r)/r,t?n.toFixed(t):n.toString()}function LR(e){if(!Number.isFinite(e))return 0;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n+=1;return n}function BR(e,t,n){return 100*(e-t)/(n-t)}function jR(e,t,n){return zR(Math.round((e-t)/n)*n+t,LR(n))}function FR(e,t,n){return null==e?e:(n<t&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(e,t),n))}function VR(e){return parseFloat(e.toString().replace(/[^\w.-]+/g,""))}function WR(e,t){return Math.max(LR(t),LR(e))}function HR(e,t,n){const r=VR(e);if(Number.isNaN(r))return;const o=WR(r,t);return zR(r,null!=n?n:o)}function UR(e,n,r,o){const i=$u(r);return(0,t.useEffect)((()=>{const t="function"===typeof e?e():null!=e?e:document;if(r&&t)return t.addEventListener(n,i,o),()=>{t.removeEventListener(n,i,o)}}),[n,e,o,i,r]),()=>{const t="function"===typeof e?e():null!=e?e:document;null==t||t.removeEventListener(n,i,o)}}function qR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{!function(e,t){if(null!=e)if("function"!==typeof e)try{e.current=t}catch(n){throw new Error("Cannot assign value '".concat(t,"' to ref '").concat(e,"'"))}else e(t)}(t,e)}))}}function KR(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useMemo)((()=>qR(...n)),n)}var YR=/^[Ee0-9+\-.]$/;function $R(e){return YR.test(e)}function XR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{focusInputOnChange:n=!0,clampValueOnBlur:r=!0,keepWithinRange:o=!0,min:i=Number.MIN_SAFE_INTEGER,max:s=Number.MAX_SAFE_INTEGER,step:a=1,isReadOnly:l,isDisabled:c,isRequired:u,isInvalid:d,pattern:h="[0-9]*(.[0-9]+)?",inputMode:f="decimal",allowMouseWheel:p,id:m,onChange:g,precision:v,name:y,"aria-describedby":b,"aria-label":w,"aria-labelledby":x,onFocus:S,onBlur:k,onInvalid:C,getAriaValueText:_,isValidCharacter:E,format:A,parse:M,...T}=e,P=$u(S),O=$u(k),N=$u(C),D=$u(null!=E?E:$R),R=$u(_),I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onChange:n,precision:r,defaultValue:o,value:i,step:s=1,min:a=Number.MIN_SAFE_INTEGER,max:l=Number.MAX_SAFE_INTEGER,keepWithinRange:c=!0}=e,u=$u(n),[d,h]=(0,t.useState)((()=>{var e;return null==o?"":null!=(e=HR(o,s,r))?e:""})),f="undefined"!==typeof i,p=f?i:d,m=WR(VR(p),s),g=null!=r?r:m,v=(0,t.useCallback)((e=>{e!==p&&(f||h(e.toString()),null==u||u(e.toString(),VR(e)))}),[u,f,p]),y=(0,t.useCallback)((e=>{let t=e;return c&&(t=FR(t,a,l)),zR(t,g)}),[g,c,l,a]),b=(0,t.useCallback)((function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;e=""===p?VR(t):VR(p)+t,e=y(e),v(e)}),[y,s,v,p]),w=(0,t.useCallback)((function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;e=""===p?VR(-t):VR(p)-t,e=y(e),v(e)}),[y,s,v,p]),x=(0,t.useCallback)((()=>{var e;let t;t=null==o?"":null!=(e=HR(o,s,r))?e:a,v(t)}),[o,r,s,v,a]),S=(0,t.useCallback)((e=>{var t;const n=null!=(t=HR(e,s,g))?t:a;v(n)}),[g,s,v,a]),k=VR(p);return{isOutOfRange:k>l||k<a,isAtMax:k===l,isAtMin:k===a,precision:g,value:p,valueAsNumber:k,update:v,reset:x,increment:b,decrement:w,clamp:y,cast:S,setValue:h}}(e),{update:z,increment:L,decrement:B}=I,[j,F]=(0,t.useState)(!1),V=!(l||c),W=(0,t.useRef)(null),H=(0,t.useRef)(null),U=(0,t.useRef)(null),q=(0,t.useRef)(null),K=(0,t.useCallback)((e=>e.split("").filter(D).join("")),[D]),Y=(0,t.useCallback)((e=>{var t;return null!=(t=null==M?void 0:M(e))?t:e}),[M]),$=(0,t.useCallback)((e=>{var t;return(null!=(t=null==A?void 0:A(e))?t:e).toString()}),[A]);Xu((()=>{(I.valueAsNumber>s||I.valueAsNumber<i)&&(null==N||N("rangeOverflow",$(I.value),I.valueAsNumber))}),[I.valueAsNumber,I.value,$,N]),co((()=>{if(!W.current)return;if(W.current.value!=I.value){const e=Y(W.current.value);I.setValue(K(e))}}),[Y,K]);const X=(0,t.useCallback)((function(){V&&L(arguments.length>0&&void 0!==arguments[0]?arguments[0]:a)}),[L,V,a]),G=(0,t.useCallback)((function(){V&&B(arguments.length>0&&void 0!==arguments[0]?arguments[0]:a)}),[B,V,a]),Z=IR(X,G);NR(U,"disabled",Z.stop,Z.isSpinning),NR(q,"disabled",Z.stop,Z.isSpinning);const Q=(0,t.useCallback)((e=>{if(e.nativeEvent.isComposing)return;const t=Y(e.currentTarget.value);z(K(t)),H.current={start:e.currentTarget.selectionStart,end:e.currentTarget.selectionEnd}}),[z,K,Y]),J=(0,t.useCallback)((e=>{var t,n,r;null==P||P(e),H.current&&(e.target.selectionStart=null!=(n=H.current.start)?n:null==(t=e.currentTarget.value)?void 0:t.length,e.currentTarget.selectionEnd=null!=(r=H.current.end)?r:e.currentTarget.selectionStart)}),[P]),ee=(0,t.useCallback)((e=>{if(e.nativeEvent.isComposing)return;(function(e,t){if(null==e.key)return!0;const n=e.ctrlKey||e.altKey||e.metaKey;return!(1===e.key.length&&!n)||t(e.key)})(e,D)||e.preventDefault();const t=te(e)*a,n={ArrowUp:()=>X(t),ArrowDown:()=>G(t),Home:()=>z(i),End:()=>z(s)}[e.key];n&&(e.preventDefault(),n(e))}),[D,a,X,G,z,i,s]),te=e=>{let t=1;return(e.metaKey||e.ctrlKey)&&(t=.1),e.shiftKey&&(t=10),t},ne=(0,t.useMemo)((()=>{const e=null==R?void 0:R(I.value);if(null!=e)return e;const t=I.value.toString();return t||void 0}),[I.value,R]),re=(0,t.useCallback)((()=>{let e=I.value;if(""===I.value)return;/^[eE]/.test(I.value.toString())?I.setValue(""):(I.valueAsNumber<i&&(e=i),I.valueAsNumber>s&&(e=s),I.cast(e))}),[I,s,i]),oe=(0,t.useCallback)((()=>{F(!1),r&&re()}),[r,F,re]),ie=(0,t.useCallback)((()=>{n&&requestAnimationFrame((()=>{var e;null==(e=W.current)||e.focus()}))}),[n]),se=(0,t.useCallback)((e=>{e.preventDefault(),Z.up(),ie()}),[ie,Z]),ae=(0,t.useCallback)((e=>{e.preventDefault(),Z.down(),ie()}),[ie,Z]);UR((()=>W.current),"wheel",(e=>{var t,n;const r=(null!=(n=null==(t=W.current)?void 0:t.ownerDocument)?n:document).activeElement===W.current;if(!p||!r)return;e.preventDefault();const o=te(e)*a,i=Math.sign(e.deltaY);-1===i?X(o):1===i&&G(o)}),{passive:!1});const le=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=c||o&&I.isAtMax;return{...e,ref:qR(t,U),role:"button",tabIndex:-1,onPointerDown:an(e.onPointerDown,(e=>{0!==e.button||n||se(e)})),onPointerLeave:an(e.onPointerLeave,Z.stop),onPointerUp:an(e.onPointerUp,Z.stop),disabled:n,"aria-disabled":sn(n)}}),[I.isAtMax,o,se,Z.stop,c]),ce=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=c||o&&I.isAtMin;return{...e,ref:qR(t,q),role:"button",tabIndex:-1,onPointerDown:an(e.onPointerDown,(e=>{0!==e.button||n||ae(e)})),onPointerLeave:an(e.onPointerLeave,Z.stop),onPointerUp:an(e.onPointerUp,Z.stop),disabled:n,"aria-disabled":sn(n)}}),[I.isAtMin,o,ae,Z.stop,c]),ue=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var n,r,o,a;return{name:y,inputMode:f,type:"text",pattern:h,"aria-labelledby":x,"aria-label":w,"aria-describedby":b,id:m,disabled:c,...e,readOnly:null!=(n=e.readOnly)?n:l,"aria-readonly":null!=(r=e.readOnly)?r:l,"aria-required":null!=(o=e.required)?o:u,required:null!=(a=e.required)?a:u,ref:qR(W,t),value:$(I.value),role:"spinbutton","aria-valuemin":i,"aria-valuemax":s,"aria-valuenow":Number.isNaN(I.valueAsNumber)?void 0:I.valueAsNumber,"aria-invalid":sn(null!=d?d:I.isOutOfRange),"aria-valuetext":ne,autoComplete:"off",autoCorrect:"off",onChange:an(e.onChange,Q),onKeyDown:an(e.onKeyDown,ee),onFocus:an(e.onFocus,J,(()=>F(!0))),onBlur:an(e.onBlur,O,oe)}}),[y,f,h,x,w,$,b,m,c,u,l,d,I.value,I.valueAsNumber,I.isOutOfRange,i,s,ne,Q,ee,J,O,oe]);return{value:$(I.value),valueAsNumber:I.valueAsNumber,isFocused:j,isDisabled:c,isReadOnly:l,getIncrementButtonProps:le,getDecrementButtonProps:ce,getInputProps:ue,htmlProps:T}}var[GR,ZR]=Yt({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[QR,JR]=Yt({strict:!1,name:"FormControlContext"});var eI=xy((function(e,n){const r=Ay("Form",e),o=Yr(e),{getRootProps:i,htmlProps:s,...a}=function(e){const{id:n,isRequired:r,isInvalid:o,isDisabled:i,isReadOnly:s,...a}=e,l=(0,t.useId)(),c=n||"field-".concat(l),u="".concat(c,"-label"),d="".concat(c,"-feedback"),h="".concat(c,"-helptext"),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),b=(0,t.useCallback)((function(){return{id:h,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:qR(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=>{e&&g(!0)}))}}),[h]),w=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,ref:t,"data-focus":on(v),"data-disabled":on(i),"data-invalid":on(o),"data-readonly":on(s),id:void 0!==e.id?e.id:u,htmlFor:void 0!==e.htmlFor?e.htmlFor:c}}),[c,i,v,o,s,u]),x=(0,t.useCallback)((function(){return{id:d,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:qR(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=>{e&&p(!0)})),"aria-live":"polite"}}),[d]),S=(0,t.useCallback)((function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},...a,ref:e,role:"group","data-focus":on(v),"data-disabled":on(i),"data-invalid":on(o),"data-readonly":on(s)}}),[a,i,v,o,s]),k=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"}}),[]);return{isRequired:!!r,isInvalid:!!o,isReadOnly:!!s,isDisabled:!!i,isFocused:!!v,onFocus:()=>y(!0),onBlur:()=>y(!1),hasFeedbackText:f,setHasFeedbackText:p,hasHelpText:m,setHasHelpText:g,id:c,labelId:u,feedbackId:d,helpTextId:h,htmlProps:a,getHelpTextProps:b,getErrorMessageProps:x,getRootProps:S,getLabelProps:w,getRequiredIndicatorProps:k}}(o),l=en("chakra-form-control",e.className);return(0,Wt.jsx)(QR,{value:a,children:(0,Wt.jsx)(GR,{value:r,children:(0,Wt.jsx)(vy.div,{...i({},n),className:l,__css:r.container})})})}));eI.displayName="FormControl";var tI=xy((function(e,t){const n=JR(),r=ZR(),o=en("chakra-form__helper-text",e.className);return(0,Wt.jsx)(vy.div,{...null==n?void 0:n.getHelpTextProps(e,t),__css:r.helperText,className:o})}));function nI(e){var t,n,r;const o=JR(),{id:i,disabled:s,readOnly:a,required:l,isRequired:c,isInvalid:u,isReadOnly:d,isDisabled:h,onFocus:f,onBlur:p,...m}=e,g=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==o?void 0:o.hasFeedbackText)&&(null==o?void 0:o.isInvalid)&&g.push(o.feedbackId),(null==o?void 0:o.hasHelpText)&&g.push(o.helpTextId),{...m,"aria-describedby":g.join(" ")||void 0,id:null!=i?i:null==o?void 0:o.id,isDisabled:null!=(t=null!=s?s:h)?t:null==o?void 0:o.isDisabled,isReadOnly:null!=(n=null!=a?a:d)?n:null==o?void 0:o.isReadOnly,isRequired:null!=(r=null!=l?l:c)?r:null==o?void 0:o.isRequired,isInvalid:null!=u?u:null==o?void 0:o.isInvalid,onFocus:an(null==o?void 0:o.onFocus,f),onBlur:an(null==o?void 0:o.onBlur,p)}}tI.displayName="FormHelperText";var[rI,oI]=Yt({name:"NumberInputStylesContext",errorMessage:"useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<NumberInput />\" "}),[iI,sI]=Yt({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),aI=xy((function(e,n){const r=Ay("NumberInput",e),o=nI(Yr(e)),{htmlProps:i,...s}=XR(o),a=(0,t.useMemo)((()=>s),[s]);return(0,Wt.jsx)(iI,{value:a,children:(0,Wt.jsx)(rI,{value:r,children:(0,Wt.jsx)(vy.div,{...i,ref:n,className:en("chakra-numberinput",e.className),__css:{position:"relative",zIndex:0,...r.root}})})})}));aI.displayName="NumberInput";var lI=xy((function(e,t){const n=oI();return(0,Wt.jsx)(vy.div,{"aria-hidden":!0,ref:t,...e,__css:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1,...n.stepperGroup}})}));lI.displayName="NumberInputStepper";var cI=xy((function(e,t){const{getInputProps:n}=sI(),r=n(e,t),o=oI();return(0,Wt.jsx)(vy.input,{...r,className:en("chakra-numberinput__field",e.className),__css:{width:"100%",...o.field}})}));cI.displayName="NumberInputField";var uI=vy("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),dI=xy((function(e,t){var n;const r=oI(),{getDecrementButtonProps:o}=sI(),i=o(e,t);return(0,Wt.jsx)(uI,{...i,__css:r.stepper,children:null!=(n=e.children)?n:(0,Wt.jsx)(PR,{})})}));dI.displayName="NumberDecrementStepper";var hI=xy((function(e,t){var n;const{getIncrementButtonProps:r}=sI(),o=r(e,t),i=oI();return(0,Wt.jsx)(uI,{...o,__css:i.stepper,children:null!=(n=e.children)?n:(0,Wt.jsx)(OR,{})})}));hI.displayName="NumberIncrementStepper";var fI=vy("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});fI.displayName="Spacer";var pI={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}};function mI(e){return null!=e&&"object"==typeof e&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function gI(e){return["html","body","#document"].includes(e.localName)?e.ownerDocument.body:function(e){var t;return!!mI(e)&&e instanceof(null!=(t=e.ownerDocument.defaultView)?t:window).HTMLElement}(e)&&function(e){const t=e.ownerDocument.defaultView||window,{overflow:n,overflowX:r,overflowY:o}=t.getComputedStyle(e);return/auto|scroll|overlay|hidden/.test(n+o+r)}(e)?e:gI(function(e){return"html"===e.localName?e:e.assignedSlot||e.parentElement||e.ownerDocument.documentElement}(e))}var vI=(e,t)=>({var:e,varRef:t?"var(".concat(e,", ").concat(t,")"):"var(".concat(e,")")}),yI={arrowShadowColor:vI("--popper-arrow-shadow-color"),arrowSize:vI("--popper-arrow-size","8px"),arrowSizeHalf:vI("--popper-arrow-size-half"),arrowBg:vI("--popper-arrow-bg"),transformOrigin:vI("--popper-transform-origin"),arrowOffset:vI("--popper-arrow-offset")};var bI={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},wI={scroll:!0,resize:!0};function xI(e){let t;return t="object"===typeof e?{enabled:!0,options:{...wI,...e}}:{enabled:e,options:wI},t}var SI={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:e=>{let{state:t}=e;t.styles.popper.width="".concat(t.rects.reference.width,"px")},effect:e=>{let{state:t}=e;return()=>{const e=t.elements.reference;t.elements.popper.style.width="".concat(e.offsetWidth,"px")}}},kI={name:"transformOrigin",enabled:!0,phase:"write",fn:e=>{let{state:t}=e;CI(t)},effect:e=>{let{state:t}=e;return()=>{CI(t)}}},CI=e=>{var t;e.elements.popper.style.setProperty(yI.transformOrigin.var,(t=e.placement,bI[t]))},_I={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;EI(t)}},EI=e=>{var t;if(!e.placement)return;const n=AI(e.placement);if((null==(t=e.elements)?void 0:t.arrow)&&n){Object.assign(e.elements.arrow.style,{[n.property]:n.value,width:yI.arrowSize.varRef,height:yI.arrowSize.varRef,zIndex:-1});const t={[yI.arrowSizeHalf.var]:"calc(".concat(yI.arrowSize.varRef," / 2 - 1px)"),[yI.arrowOffset.var]:"calc(".concat(yI.arrowSizeHalf.varRef," * -1)")};for(const n in t)e.elements.arrow.style.setProperty(n,t[n])}},AI=e=>e.startsWith("top")?{property:"bottom",value:yI.arrowOffset.varRef}:e.startsWith("bottom")?{property:"top",value:yI.arrowOffset.varRef}:e.startsWith("left")?{property:"right",value:yI.arrowOffset.varRef}:e.startsWith("right")?{property:"left",value:yI.arrowOffset.varRef}:void 0,MI={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:e=>{let{state:t}=e;TI(t)},effect:e=>{let{state:t}=e;return()=>{TI(t)}}},TI=e=>{if(!e.elements.arrow)return;const t=e.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!t)return;const n=(r=e.placement).includes("top")?"1px 1px 0px 0 var(--popper-arrow-shadow-color)":r.includes("bottom")?"-1px -1px 0px 0 var(--popper-arrow-shadow-color)":r.includes("right")?"-1px 1px 0px 0 var(--popper-arrow-shadow-color)":r.includes("left")?"1px -1px 0px 0 var(--popper-arrow-shadow-color)":void 0;var r;n&&t.style.setProperty("--popper-arrow-default-shadow",n),Object.assign(t.style,{transform:"rotate(45deg)",background:yI.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},PI={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},OI={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function NI(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function DI(e){return e instanceof NI(e).Element||e instanceof Element}function RI(e){return e instanceof NI(e).HTMLElement||e instanceof HTMLElement}function II(e){return"undefined"!==typeof ShadowRoot&&(e instanceof NI(e).ShadowRoot||e instanceof ShadowRoot)}var zI=Math.max,LI=Math.min,BI=Math.round;function jI(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function FI(){return!/^((?!chrome|android).)*safari/i.test(jI())}function VI(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&RI(e)&&(o=e.offsetWidth>0&&BI(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&BI(r.height)/e.offsetHeight||1);var s=(DI(e)?NI(e):window).visualViewport,a=!FI()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/o,c=(r.top+(a&&s?s.offsetTop:0))/i,u=r.width/o,d=r.height/i;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function WI(e){var t=NI(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function HI(e){return e?(e.nodeName||"").toLowerCase():null}function UI(e){return((DI(e)?e.ownerDocument:e.document)||window.document).documentElement}function qI(e){return VI(UI(e)).left+WI(e).scrollLeft}function KI(e){return NI(e).getComputedStyle(e)}function YI(e){var t=KI(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function $I(e,t,n){void 0===n&&(n=!1);var r=RI(t),o=RI(t)&&function(e){var t=e.getBoundingClientRect(),n=BI(t.width)/e.offsetWidth||1,r=BI(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=UI(t),s=VI(e,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==HI(t)||YI(i))&&(a=function(e){return e!==NI(e)&&RI(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:WI(e);var t}(t)),RI(t)?((l=VI(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=qI(i))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function XI(e){var t=VI(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function GI(e){return"html"===HI(e)?e:e.assignedSlot||e.parentNode||(II(e)?e.host:null)||UI(e)}function ZI(e){return["html","body","#document"].indexOf(HI(e))>=0?e.ownerDocument.body:RI(e)&&YI(e)?e:ZI(GI(e))}function QI(e,t){var n;void 0===t&&(t=[]);var r=ZI(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=NI(r),s=o?[i].concat(i.visualViewport||[],YI(r)?r:[]):r,a=t.concat(s);return o?a:a.concat(QI(GI(s)))}function JI(e){return["table","td","th"].indexOf(HI(e))>=0}function ez(e){return RI(e)&&"fixed"!==KI(e).position?e.offsetParent:null}function tz(e){for(var t=NI(e),n=ez(e);n&&JI(n)&&"static"===KI(n).position;)n=ez(n);return n&&("html"===HI(n)||"body"===HI(n)&&"static"===KI(n).position)?t:n||function(e){var t=/firefox/i.test(jI());if(/Trident/i.test(jI())&&RI(e)&&"fixed"===KI(e).position)return null;var n=GI(e);for(II(n)&&(n=n.host);RI(n)&&["html","body"].indexOf(HI(n))<0;){var r=KI(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var nz="top",rz="bottom",oz="right",iz="left",sz="auto",az=[nz,rz,oz,iz],lz="start",cz="end",uz="clippingParents",dz="viewport",hz="popper",fz="reference",pz=az.reduce((function(e,t){return e.concat([t+"-"+lz,t+"-"+cz])}),[]),mz=[].concat(az,[sz]).reduce((function(e,t){return e.concat([t,t+"-"+lz,t+"-"+cz])}),[]),gz=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function vz(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function yz(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var bz={placement:"bottom",modifiers:[],strategy:"absolute"};function wz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function xz(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?bz:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},bz,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:o,setOptions:function(n){var a="function"===typeof n?n(o.options):n;c(),o.options=Object.assign({},i,o.options,a),o.scrollParents={reference:DI(e)?QI(e):e.contextElement?QI(e.contextElement):[],popper:QI(t)};var u=function(e){var t=vz(e);return gz.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=u.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var a=i({state:o,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=o.elements,t=e.reference,n=e.popper;if(wz(t,n)){o.rects={reference:$I(t,tz(n),"fixed"===o.options.strategy),popper:XI(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],s=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"===typeof s&&(o=s({state:o,options:u,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:yz((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){c(),a=!0}};if(!wz(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var Sz={passive:!0};const kz={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,s=r.resize,a=void 0===s||s,l=NI(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,Sz)})),a&&l.addEventListener("resize",n.update,Sz),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Sz)})),a&&l.removeEventListener("resize",n.update,Sz)}},data:{}};function Cz(e){return e.split("-")[0]}function _z(e){return e.split("-")[1]}function Ez(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Az(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?Cz(o):null,s=o?_z(o):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case nz:t={x:a,y:n.y-r.height};break;case rz:t={x:a,y:n.y+n.height};break;case oz:t={x:n.x+n.width,y:l};break;case iz:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?Ez(i):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case lz:t[c]=t[c]-(n[u]/2-r[u]/2);break;case cz:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}const Mz={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Az({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var Tz={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Pz(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,f=void 0===h?0:h,p=s.y,m=void 0===p?0:p,g="function"===typeof u?u({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=iz,w=nz,x=window;if(c){var S=tz(n),k="clientHeight",C="clientWidth";if(S===NI(n)&&"static"!==KI(S=UI(n)).position&&"absolute"===a&&(k="scrollHeight",C="scrollWidth"),o===nz||(o===iz||o===oz)&&i===cz)w=rz,m-=(d&&S===x&&x.visualViewport?x.visualViewport.height:S[k])-r.height,m*=l?1:-1;if(o===iz||(o===nz||o===rz)&&i===cz)b=oz,f-=(d&&S===x&&x.visualViewport?x.visualViewport.width:S[C])-r.width,f*=l?1:-1}var _,E=Object.assign({position:a},c&&Tz),A=!0===u?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:BI(n*o)/o||0,y:BI(r*o)/o||0}}({x:f,y:m},NI(n)):{x:f,y:m};return f=A.x,m=A.y,l?Object.assign({},E,((_={})[w]=y?"0":"",_[b]=v?"0":"",_.transform=(x.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",_)):Object.assign({},E,((t={})[w]=y?m+"px":"",t[b]=v?f+"px":"",t.transform="",t))}const Oz={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,l=void 0===a||a,c={placement:Cz(t.placement),variation:_z(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Pz(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Pz(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};const Nz={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];RI(o)&&HI(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});RI(r)&&HI(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const Dz={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,s=mz.reduce((function(e,n){return e[n]=function(e,t,n){var r=Cz(e),o=[iz,nz].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[iz,oz].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,i),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var Rz={left:"right",right:"left",bottom:"top",top:"bottom"};function Iz(e){return e.replace(/left|right|bottom|top/g,(function(e){return Rz[e]}))}var zz={start:"end",end:"start"};function Lz(e){return e.replace(/start|end/g,(function(e){return zz[e]}))}function Bz(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&II(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function jz(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Fz(e,t,n){return t===dz?jz(function(e,t){var n=NI(e),r=UI(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;var c=FI();(c||!c&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a+qI(e),y:l}}(e,n)):DI(t)?function(e,t){var n=VI(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):jz(function(e){var t,n=UI(e),r=WI(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=zI(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=zI(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+qI(e),l=-r.scrollTop;return"rtl"===KI(o||n).direction&&(a+=zI(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}(UI(e)))}function Vz(e,t,n,r){var o="clippingParents"===t?function(e){var t=QI(GI(e)),n=["absolute","fixed"].indexOf(KI(e).position)>=0&&RI(e)?tz(e):e;return DI(n)?t.filter((function(e){return DI(e)&&Bz(e,n)&&"body"!==HI(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),s=i[0],a=i.reduce((function(t,n){var o=Fz(e,n,r);return t.top=zI(o.top,t.top),t.right=LI(o.right,t.right),t.bottom=LI(o.bottom,t.bottom),t.left=zI(o.left,t.left),t}),Fz(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Wz(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Hz(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Uz(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,s=void 0===i?e.strategy:i,a=n.boundary,l=void 0===a?uz:a,c=n.rootBoundary,u=void 0===c?dz:c,d=n.elementContext,h=void 0===d?hz:d,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,v=Wz("number"!==typeof g?g:Hz(g,az)),y=h===hz?fz:hz,b=e.rects.popper,w=e.elements[p?y:h],x=Vz(DI(w)?w:w.contextElement||UI(e.elements.popper),l,u,s),S=VI(e.elements.reference),k=Az({reference:S,element:b,strategy:"absolute",placement:o}),C=jz(Object.assign({},b,k)),_=h===hz?C:S,E={top:x.top-_.top+v.top,bottom:_.bottom-x.bottom+v.bottom,left:x.left-_.left+v.left,right:_.right-x.right+v.right},A=e.modifiersData.offset;if(h===hz&&A){var M=A[o];Object.keys(E).forEach((function(e){var t=[oz,rz].indexOf(e)>=0?1:-1,n=[nz,rz].indexOf(e)>=0?"y":"x";E[e]+=M[n]*t}))}return E}const qz={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=Cz(g),y=l||(v===g||!p?[Iz(g)]:function(e){if(Cz(e)===sz)return[];var t=Iz(e);return[Lz(e),t,Lz(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(Cz(n)===sz?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?mz:l,u=_z(r),d=u?a?pz:pz.filter((function(e){return _z(e)===u})):az,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,n){return t[n]=Uz(e,{placement:n,boundary:o,rootBoundary:i,padding:s})[Cz(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,x=t.rects.popper,S=new Map,k=!0,C=b[0],_=0;_<b.length;_++){var E=b[_],A=Cz(E),M=_z(E)===lz,T=[nz,rz].indexOf(A)>=0,P=T?"width":"height",O=Uz(t,{placement:E,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),N=T?M?oz:iz:M?rz:nz;w[P]>x[P]&&(N=Iz(N));var D=Iz(N),R=[];if(i&&R.push(O[A]<=0),a&&R.push(O[N]<=0,O[D]<=0),R.every((function(e){return e}))){C=E,k=!1;break}S.set(E,R)}if(k)for(var I=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},z=p?3:1;z>0;z--){if("break"===I(z))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Kz(e,t,n){return zI(e,LI(t,n))}const Yz={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=Uz(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Cz(t.placement),y=_z(t.placement),b=!y,w=Ez(v),x="x"===w?"y":"x",S=t.modifiersData.popperOffsets,k=t.rects.reference,C=t.rects.popper,_="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,E="number"===typeof _?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(S){if(i){var T,P="y"===w?nz:iz,O="y"===w?rz:oz,N="y"===w?"height":"width",D=S[w],R=D+g[P],I=D-g[O],z=f?-C[N]/2:0,L=y===lz?k[N]:C[N],B=y===lz?-C[N]:-k[N],j=t.elements.arrow,F=f&&j?XI(j):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=V[P],H=V[O],U=Kz(0,k[N],F[N]),q=b?k[N]/2-z-U-W-E.mainAxis:L-U-W-E.mainAxis,K=b?-k[N]/2+z+U+H+E.mainAxis:B+U+H+E.mainAxis,Y=t.elements.arrow&&tz(t.elements.arrow),$=Y?"y"===w?Y.clientTop||0:Y.clientLeft||0:0,X=null!=(T=null==A?void 0:A[w])?T:0,G=D+K-X,Z=Kz(f?LI(R,D+q-X-$):R,D,f?zI(I,G):I);S[w]=Z,M[w]=Z-D}if(a){var Q,J="x"===w?nz:iz,ee="x"===w?rz:oz,te=S[x],ne="y"===x?"height":"width",re=te+g[J],oe=te-g[ee],ie=-1!==[nz,iz].indexOf(v),se=null!=(Q=null==A?void 0:A[x])?Q:0,ae=ie?re:te-k[ne]-C[ne]-se+E.altAxis,le=ie?te+k[ne]+C[ne]-se-E.altAxis:oe,ce=f&&ie?function(e,t,n){var r=Kz(e,t,n);return r>n?n:r}(ae,te,le):Kz(f?ae:re,te,f?le:oe);S[x]=ce,M[x]=ce-te}t.modifiersData[r]=M}},requiresIfExists:["offset"]};const $z={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Cz(n.placement),l=Ez(a),c=[iz,oz].indexOf(a)>=0?"height":"width";if(i&&s){var u=function(e,t){return Wz("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Hz(e,az))}(o.padding,n),d=XI(i),h="y"===l?nz:iz,f="y"===l?rz:oz,p=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=tz(i),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,b=u[h],w=v-d[c]-u[f],x=v/2-d[c]/2+y,S=Kz(b,x,w),k=l;n.modifiersData[r]=((t={})[k]=S,t.centerOffset=S-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Bz(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xz(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Gz(e){return[nz,oz,rz,iz].some((function(t){return e[t]>=0}))}const Zz={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=Uz(t,{elementContext:"reference"}),a=Uz(t,{altBoundary:!0}),l=Xz(s,r),c=Xz(a,o,i),u=Gz(l),d=Gz(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}};var Qz=xz({defaultModifiers:[kz,Mz,Oz,Nz,Dz,qz,Yz,$z,Zz]});function Jz(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{enabled:n=!0,modifiers:r,placement:o="bottom",strategy:i="absolute",arrowPadding:s=8,eventListeners:a=!0,offset:l,gutter:c=8,flip:u=!0,boundary:d="clippingParents",preventOverflow:h=!0,matchWidth:f,direction:p="ltr"}=e,m=(0,t.useRef)(null),g=(0,t.useRef)(null),v=(0,t.useRef)(null),y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr";var n,r;const o=(null==(n=PI[e])?void 0:n[t])||e;return"ltr"===t?o:null!=(r=OI[e])?r:o}(o,p),b=(0,t.useRef)((()=>{})),w=(0,t.useCallback)((()=>{var e;n&&m.current&&g.current&&(null==(e=b.current)||e.call(b),v.current=Qz(m.current,g.current,{placement:y,modifiers:[MI,_I,kI,{...SI,enabled:!!f},{name:"eventListeners",...xI(a)},{name:"arrow",options:{padding:s}},{name:"offset",options:{offset:null!=l?l:[0,c]}},{name:"flip",enabled:!!u,options:{padding:8}},{name:"preventOverflow",enabled:!!h,options:{boundary:d}},...null!=r?r:[]],strategy:i}),v.current.forceUpdate(),b.current=v.current.destroy)}),[y,n,r,f,a,s,l,c,u,h,d,i]);(0,t.useEffect)((()=>()=>{var e;m.current||g.current||(null==(e=v.current)||e.destroy(),v.current=null)}),[]);const x=(0,t.useCallback)((e=>{m.current=e,w()}),[w]),S=(0,t.useCallback)((function(){return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:qR(x,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}),[x]),k=(0,t.useCallback)((e=>{g.current=e,w()}),[w]),C=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,ref:qR(k,t),style:{...e.style,position:i,minWidth:f?void 0:"max-content",inset:"0 auto auto 0"}}}),[i,k,f]),_=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{size:n,shadowColor:r,bg:o,style:i,...s}=e;return{...s,ref:t,"data-popper-arrow":"",style:eL(e)}}),[]),E=(0,t.useCallback)((function(){return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,"data-popper-arrow-inner":""}}),[]);return{update(){var e;null==(e=v.current)||e.update()},forceUpdate(){var e;null==(e=v.current)||e.forceUpdate()},transformOrigin:yI.transformOrigin.varRef,referenceRef:x,popperRef:k,getPopperProps:C,getArrowProps:_,getArrowInnerProps:E,getReferenceProps:S}}function eL(e){const{size:t,shadowColor:n,bg:r,style:o}=e,i={...o,position:"absolute"};return t&&(i["--popper-arrow-size"]=t),n&&(i["--popper-arrow-shadow-color"]=n),r&&(i["--popper-arrow-bg"]=r),i}var tL=e=>{var t;return(null==(t=e.current)?void 0:t.ownerDocument)||document},nL=e=>{var t,n;return(null==(n=null==(t=e.current)?void 0:t.ownerDocument)?void 0:n.defaultView)||window};function rL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{openDelay:n=0,closeDelay:r=0,closeOnClick:o=!0,closeOnMouseDown:i,closeOnScroll:s,closeOnPointerDown:a=i,closeOnEsc:l=!0,onOpen:c,onClose:u,placement:d,id:h,isOpen:f,defaultIsOpen:p,arrowSize:m=10,arrowShadowColor:g,arrowPadding:v,modifiers:y,isDisabled:b,gutter:w,offset:x,direction:S,...k}=e,{isOpen:C,onOpen:_,onClose:E}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onClose:n,onOpen:r,isOpen:o,id:i}=e,s=$u(r),a=$u(n),[l,c]=(0,t.useState)(e.defaultIsOpen||!1),u=void 0!==o?o:l,d=void 0!==o,h=(0,t.useId)(),f=null!=i?i:"disclosure-".concat(h),p=(0,t.useCallback)((()=>{d||c(!1),null==a||a()}),[d,a]),m=(0,t.useCallback)((()=>{d||c(!0),null==s||s()}),[d,s]),g=(0,t.useCallback)((()=>{u?p():m()}),[u,m,p]);return{isOpen:u,onOpen:m,onClose:p,onToggle:g,isControlled:d,getButtonProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e,"aria-expanded":u,"aria-controls":f,onClick(t){var n;null==(n=e.onClick)||n.call(e,t),g()}}},getDisclosureProps:function(){return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},hidden:!u,id:f}}}}({isOpen:f,defaultIsOpen:p,onOpen:c,onClose:u}),{referenceRef:A,getPopperProps:M,getArrowInnerProps:T,getArrowProps:P}=Jz({enabled:C,placement:d,arrowPadding:v,modifiers:y,gutter:w,offset:x,direction:S}),O=(0,t.useId)(),N="tooltip-".concat(null!=h?h:O),D=(0,t.useRef)(null),R=(0,t.useRef)(),I=(0,t.useCallback)((()=>{R.current&&(clearTimeout(R.current),R.current=void 0)}),[]),z=(0,t.useRef)(),L=(0,t.useCallback)((()=>{z.current&&(clearTimeout(z.current),z.current=void 0)}),[]),B=(0,t.useCallback)((()=>{L(),E()}),[E,L]),j=function(e,n){return(0,t.useEffect)((()=>{const t=tL(e);return t.addEventListener(oL,n),()=>t.removeEventListener(oL,n)}),[n,e]),()=>{const t=tL(e),n=nL(e);t.dispatchEvent(new n.CustomEvent(oL))}}(D,B),F=(0,t.useCallback)((()=>{if(!b&&!R.current){C&&j();const e=nL(D);R.current=e.setTimeout(_,n)}}),[j,b,C,_,n]),V=(0,t.useCallback)((()=>{I();const e=nL(D);z.current=e.setTimeout(B,r)}),[r,B,I]),W=(0,t.useCallback)((()=>{C&&o&&V()}),[o,V,C]),H=(0,t.useCallback)((()=>{C&&a&&V()}),[a,V,C]),U=(0,t.useCallback)((e=>{C&&"Escape"===e.key&&V()}),[C,V]);UR((()=>tL(D)),"keydown",l?U:void 0),UR((()=>{if(!s)return null;const e=D.current;if(!e)return null;const t=gI(e);return"body"===t.localName?nL(D):t}),"scroll",(()=>{C&&s&&B()}),{passive:!0,capture:!0}),(0,t.useEffect)((()=>{b&&(I(),C&&E())}),[b,C,E,I]),(0,t.useEffect)((()=>()=>{I(),L()}),[I,L]),UR((()=>D.current),"pointerleave",V);const q=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,ref:qR(D,t,A),onPointerEnter:an(e.onPointerEnter,(e=>{"touch"!==e.pointerType&&F()})),onClick:an(e.onClick,W),onPointerDown:an(e.onPointerDown,H),onFocus:an(e.onFocus,F),onBlur:an(e.onBlur,V),"aria-describedby":C?N:void 0}}),[F,V,H,C,N,W,A]),K=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return M({...e,style:{...e.style,[yI.arrowSize.var]:m?"".concat(m,"px"):void 0,[yI.arrowShadowColor.var]:g}},t)}),[M,m,g]),Y=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n={...e.style,position:"relative",transformOrigin:yI.transformOrigin.varRef};return{ref:t,...k,...e,id:N,role:"tooltip",style:n}}),[k,N]);return{isOpen:C,show:F,hide:V,getTriggerProps:q,getTooltipProps:Y,getTooltipPositionerProps:K,getArrowProps:P,getArrowInnerProps:T}}var oL="chakra-ui:close-tooltip";var iL=vy(ny.div),sL=xy(((e,n)=>{var r,o;const i=Ey("Tooltip",e),s=Yr(e),a=Sy(),{children:l,label:c,shouldWrapChildren:u,"aria-label":d,hasArrow:h,bg:f,portalProps:p,background:m,backgroundColor:g,bgColor:v,motionProps:y,...b}=s,w=null!=(o=null!=(r=null!=m?m:g)?r:f)?o:v;if(w){i.bg=w;const e=function(e,t,n){var r,o,i;return null!=(i=null==(o=null==(r=e.__cssMap)?void 0:r["".concat(t,".").concat(n)])?void 0:o.varRef)?i:n}(a,"colors",w);i[yI.arrowBg.var]=e}const x=rL({...b,direction:a.direction});let S;if("string"===typeof l||u)S=(0,Wt.jsx)(vy.span,{display:"inline-block",tabIndex:0,...x.getTriggerProps(),children:l});else{const e=t.Children.only(l);S=(0,t.cloneElement)(e,x.getTriggerProps(e.props,e.ref))}const k=!!d,C=x.getTooltipProps({},n),_=k?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}(C,["role","id"]):C,E=function(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}(C,["role","id"]);return c?(0,Wt.jsxs)(Wt.Fragment,{children:[S,(0,Wt.jsx)(eb,{children:x.isOpen&&(0,Wt.jsx)(ab,{...p,children:(0,Wt.jsx)(vy.div,{...x.getTooltipPositionerProps(),__css:{zIndex:i.zIndex,pointerEvents:"none"},children:(0,Wt.jsxs)(iL,{variants:pI,initial:"exit",animate:"enter",exit:"exit",...y,..._,__css:i,children:[c,k&&(0,Wt.jsx)(vy.span,{srOnly:!0,...E,children:d}),h&&(0,Wt.jsx)(vy.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:(0,Wt.jsx)(vy.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:i.bg}})})]})})})})]}):(0,Wt.jsx)(Wt.Fragment,{children:l})}));sL.displayName="Tooltip";var[aL,lL]=Yt({strict:!1,name:"ButtonGroupContext"});function cL(e){const{children:n,className:r,...o}=e,i=(0,t.isValidElement)(n)?(0,t.cloneElement)(n,{"aria-hidden":!0,focusable:!1}):n,s=en("chakra-button__icon",r);return(0,Wt.jsx)(vy.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...o,className:s,children:i})}function uL(e){const{label:n,placement:r,spacing:o="0.5rem",children:i=(0,Wt.jsx)(Ny,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:a,...l}=e,c=en("chakra-button__spinner",s),u="start"===r?"marginEnd":"marginStart",d=(0,t.useMemo)((()=>({display:"flex",alignItems:"center",position:n?"relative":"absolute",[u]:n?o:0,fontSize:"1em",lineHeight:"normal",...a})),[a,n,u,o]);return(0,Wt.jsx)(vy.div,{className:c,...l,__css:d,children:i})}cL.displayName="ButtonIcon",uL.displayName="ButtonSpinner";var dL=xy(((e,n)=>{const r=lL(),o=Ey("Button",{...r,...e}),{isDisabled:i=(null==r?void 0:r.isDisabled),isLoading:s,isActive:a,children:l,leftIcon:c,rightIcon:u,loadingText:d,iconSpacing:h="0.5rem",type:f,spinner:p,spinnerPlacement:m="start",className:g,as:v,...y}=Yr(e),b=(0,t.useMemo)((()=>{const e={...null==o?void 0:o._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...o,...!!r&&{_focus:e}}}),[o,r]),{ref:w,type:x}=function(e){const[n,r]=(0,t.useState)(!e),o=(0,t.useCallback)((e=>{e&&r("BUTTON"===e.tagName)}),[]);return{ref:o,type:n?"button":void 0}}(v),S={rightIcon:u,leftIcon:c,iconSpacing:h,children:l};return(0,Wt.jsxs)(vy.button,{ref:KR(n,w),as:v,type:null!=f?f:x,"data-active":on(a),"data-loading":on(s),__css:b,className:en("chakra-button",g),...y,disabled:i||s,children:[s&&"start"===m&&(0,Wt.jsx)(uL,{className:"chakra-button__spinner--start",label:d,placement:"start",spacing:h,children:p}),s?d||(0,Wt.jsx)(vy.span,{opacity:0,children:(0,Wt.jsx)(hL,{...S})}):(0,Wt.jsx)(hL,{...S}),s&&"end"===m&&(0,Wt.jsx)(uL,{className:"chakra-button__spinner--end",label:d,placement:"end",spacing:h,children:p})]})}));function hL(e){const{leftIcon:t,rightIcon:n,children:r,iconSpacing:o}=e;return(0,Wt.jsxs)(Wt.Fragment,{children:[t&&(0,Wt.jsx)(cL,{marginEnd:o,children:t}),r,n&&(0,Wt.jsx)(cL,{marginStart:o,children:n})]})}dL.displayName="Button";const fL=e=>(0,Wt.jsx)(Wt.Fragment,{children:(0,Wt.jsxs)(ER,{background:Jt("gray.100","gray.700"),minWidth:"max-content",alignItems:"center",h:"60px",children:[(0,Wt.jsx)(AR,{p:"10px",children:"Heap Size:"}),(0,Wt.jsxs)(aI,{backgroundColor:Jt("white","gray.800"),w:"20%",step:5,value:e.heapsize,onChange:t=>e.setHeapsize(parseInt(t)),children:[(0,Wt.jsx)(cI,{}),(0,Wt.jsxs)(lI,{children:[(0,Wt.jsx)(hI,{}),(0,Wt.jsx)(dI,{})]})]}),(0,Wt.jsx)(fI,{}),(0,Wt.jsx)(sL,{label:"Paste the code below and run it!",children:(0,Wt.jsx)(dL,{marginRight:"10px",size:"sm",rightIcon:(0,Wt.jsx)(Ty,{as:e.editing?CR:_R}),colorScheme:"blue",variant:"solid",onClick:e.toggleMode,isDisabled:e.isDisabled,children:e.editing?"Run":"Edit"})})]})});function pL(e){return SR({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"}}]})(e)}function mL(e){return SR({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"}}]})(e)}function gL(e){return SR({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(e)}function vL(e){const{viewBox:n="0 0 24 24",d:r,displayName:o,defaultProps:i={}}=e,s=t.Children.toArray(e.path),a=xy(((e,t)=>(0,Wt.jsx)(Ty,{ref:t,viewBox:n,...i,...e,children:s.length?s:(0,Wt.jsx)("path",{fill:"currentColor",d:r})})));return a.displayName=o,a}var yL=vL({d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",displayName:"ArrowBackIcon"}),bL=vL({d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z",displayName:"ArrowForwardIcon"}),wL=e=>e?"":void 0,xL=e=>!!e||void 0,SL=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")};function kL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.some((t=>(null==t||t(e),null==e?void 0:e.defaultPrevented)))}}function CL(e){const{orientation:t,vertical:n,horizontal:r}=e;return"vertical"===t?n:r}var _L={width:0,height:0},EL=e=>e||_L;function AL(e){const t=function(e){var t;return null!=(t=e.view)?t:window}(e);return"undefined"!==typeof t.PointerEvent&&e instanceof t.PointerEvent?!("mouse"!==e.pointerType):e instanceof t.MouseEvent}function ML(e){return!!e.touches}function TL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return ML(e)?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";const n=e.touches[0]||e.changedTouches[0];return{x:n["".concat(t,"X")],y:n["".concat(t,"Y")]}}(e,t):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{x:e["".concat(t,"X")],y:e["".concat(t,"Y")]}}(e,t)}function PL(e){function t(t){e(t,{point:TL(t)})}const n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?function(e){return t=>{const n=AL(t);(!n||n&&0===t.button)&&e(t)}}(t):t;return n}function OL(e,t,n,r){return function(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}(e,t,PL(n,"pointerdown"===t),r)}const NL=1/60*1e3,DL="undefined"!==typeof performance?()=>performance.now():()=>Date.now(),RL="undefined"!==typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout((()=>e(DL())),NL);let IL=!0,zL=!1,LL=!1;const BL={delta:0,timestamp:0},jL=["read","update","preRender","render","postRender"],FL=jL.reduce(((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:function(e){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&o,a=i?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),-1===a.indexOf(e)&&(a.push(e),i&&o&&(r=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),s.delete(e)},process:l=>{if(o)i=!0;else{if(o=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let n=0;n<r;n++){const r=t[n];r(l),s.has(r)&&(a.schedule(r),e())}o=!1,i&&(i=!1,a.process(l))}}};return a}((()=>zL=!0)),e)),{}),VL=jL.reduce(((e,t)=>{const n=FL[t];return e[t]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return zL||qL(),n.schedule(e,t,r)},e}),{}),WL=jL.reduce(((e,t)=>(e[t]=FL[t].cancel,e)),{}),HL=(jL.reduce(((e,t)=>(e[t]=()=>FL[t].process(BL),e)),{}),e=>FL[e].process(BL)),UL=e=>{zL=!1,BL.delta=IL?NL:Math.max(Math.min(e-BL.timestamp,40),1),BL.timestamp=e,LL=!0,jL.forEach(HL),LL=!1,zL&&(IL=!1,RL(UL))},qL=()=>{zL=!0,IL=!0,LL||RL(UL)},KL=()=>BL,YL=VL;var $L=Object.defineProperty,XL=(e,t,n)=>(((e,t,n)=>{t in e?$L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n),GL=class{constructor(e,t,n){var r;if(XL(this,"history",[]),XL(this,"startEvent",null),XL(this,"lastEvent",null),XL(this,"lastEventInfo",null),XL(this,"handlers",{}),XL(this,"removeListeners",(()=>{})),XL(this,"threshold",3),XL(this,"win"),XL(this,"updatePoint",(()=>{if(!this.lastEvent||!this.lastEventInfo)return;const e=QL(this.lastEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){if("number"===typeof e&&"number"===typeof t)return tB(e,t);if(nB(e)&&nB(t)){const n=tB(e.x,t.x),r=tB(e.y,t.y);return Math.sqrt(n**2+r**2)}return 0}(e.offset,{x:0,y:0})>=this.threshold;if(!t&&!n)return;const{timestamp:r}=KL();this.history.push({...e.point,timestamp:r});const{onStart:o,onMove:i}=this.handlers;t||(null==o||o(this.lastEvent,e),this.startEvent=this.lastEvent),null==i||i(this.lastEvent,e)})),XL(this,"onPointerMove",((e,t)=>{this.lastEvent=e,this.lastEventInfo=t,YL.update(this.updatePoint,!0)})),XL(this,"onPointerUp",((e,t)=>{const n=QL(t,this.history),{onEnd:r,onSessionEnd:o}=this.handlers;null==o||o(e,n),this.end(),r&&this.startEvent&&(null==r||r(e,n))})),this.win=null!=(r=e.view)?r:window,function(e){return ML(e)&&e.touches.length>1}(e))return;this.handlers=t,n&&(this.threshold=n),e.stopPropagation(),e.preventDefault();const o={point:TL(e)},{timestamp:i}=KL();this.history=[{...o.point,timestamp:i}];const{onSessionStart:s}=t;null==s||s(e,QL(o,this.history)),this.removeListeners=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.reduce(((e,t)=>t(e)),e)}(OL(this.win,"pointermove",this.onPointerMove),OL(this.win,"pointerup",this.onPointerUp),OL(this.win,"pointercancel",this.onPointerUp))}updateHandlers(e){this.handlers=e}end(){var e;null==(e=this.removeListeners)||e.call(this),WL.update(this.updatePoint)}};function ZL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function QL(e,t){return{point:e.point,delta:ZL(e.point,t[t.length-1]),offset:ZL(e.point,t[0]),velocity:eB(t,.1)}}var JL=e=>1e3*e;function eB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=e[e.length-1];for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>JL(t)));)n--;if(!r)return{x:0,y:0};const i=(o.timestamp-r.timestamp)/1e3;if(0===i)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function tB(e,t){return Math.abs(e-t)}function nB(e){return"x"in e&&"y"in e}function rB(e){const n=(0,t.useRef)(null);return n.current=e,n}function oB(e){const{value:n,defaultValue:r,onChange:o,shouldUpdate:i=((e,t)=>e!==t)}=e,s=$u(o),a=$u(i),[l,c]=(0,t.useState)(r),u=void 0!==n,d=u?n:l,h=$u((e=>{const t="function"===typeof e?e(d):e;a(d,t)&&(u||c(t),s(t))}),[u,s,d,a]);return[d,h]}var iB=Boolean(null==globalThis?void 0:globalThis.document)?t.useLayoutEffect:t.useEffect;function sB(e){let{getNodes:n,observeMutation:r=!0}=e;const[o,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(0);return iB((()=>{const e=n(),t=e.map(((e,t)=>function(e,t){var n;if(!e)return void t(void 0);t({width:e.offsetWidth,height:e.offsetHeight});const r=new(null!==(n=e.ownerDocument.defaultView)&&void 0!==n?n:window).ResizeObserver((n=>{if(!Array.isArray(n)||!n.length)return;const[r]=n;let o,i;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;o=t.inlineSize,i=t.blockSize}else o=e.offsetWidth,i=e.offsetHeight;t({width:o,height:i})}));return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}(e,(e=>{i((n=>[...n.slice(0,t),e,...n.slice(t+1)]))}))));if(r){const n=e[0];t.push(function(e,t){var n,r;if(!e||!e.parentElement)return;const o=new(null!=(r=null==(n=e.ownerDocument)?void 0:n.defaultView)?r:window).MutationObserver((()=>{t()}));return o.observe(e.parentElement,{childList:!0}),()=>{o.disconnect()}}(n,(()=>{a((e=>e+1))})))}return()=>{t.forEach((e=>{null==e||e()}))}}),[s]),o}function aB(e){var n;const{min:r=0,max:o=100,onChange:i,value:s,defaultValue:a,isReversed:l,direction:c="ltr",orientation:u="horizontal",id:d,isDisabled:h,isReadOnly:f,onChangeStart:p,onChangeEnd:m,step:g=1,getAriaValueText:v,"aria-valuetext":y,"aria-label":b,"aria-labelledby":w,name:x,focusThumbOnChange:S=!0,...k}=e,C=$u(p),_=$u(m),E=$u(v),A=function(e){const{isReversed:t,direction:n,orientation:r}=e;return"ltr"===n||"vertical"===r?t:!t}({isReversed:l,direction:c,orientation:u}),[M,T]=oB({value:s,defaultValue:null!=a?a:cB(r,o),onChange:i}),[P,O]=(0,t.useState)(!1),[N,D]=(0,t.useState)(!1),R=!(h||f),I=(o-r)/10,z=g||(o-r)/100,L=FR(M,r,o),B=BR(A?o-L+r:L,r,o),j="vertical"===u,F=rB({min:r,max:o,step:g,isDisabled:h,value:L,isInteractive:R,isReversed:A,isVertical:j,eventSource:null,focusThumbOnChange:S,orientation:u}),V=(0,t.useRef)(null),W=(0,t.useRef)(null),H=(0,t.useRef)(null),U=(0,t.useId)(),q=null!=d?d:U,[K,Y]=["slider-thumb-".concat(q),"slider-track-".concat(q)],$=(0,t.useCallback)((e=>{var t,n;if(!V.current)return;const r=F.current;r.eventSource="pointer";const o=V.current.getBoundingClientRect(),{clientX:i,clientY:s}=null!=(n=null==(t=e.touches)?void 0:t[0])?n:e;let a=(j?o.bottom-s:i-o.left)/(j?o.height:o.width);A&&(a=1-a);let l=function(e,t,n){return(n-t)*e+t}(a,r.min,r.max);return r.step&&(l=parseFloat(jR(l,r.min,r.step))),l=FR(l,r.min,r.max),l}),[j,A,F]),X=(0,t.useCallback)((e=>{const t=F.current;t.isInteractive&&(e=FR(e=parseFloat(jR(e,t.min,z)),t.min,t.max),T(e))}),[z,T,F]),G=(0,t.useMemo)((()=>({stepUp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;X(A?L-e:L+e)},stepDown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;X(A?L+e:L-e)},reset(){X(a||0)},stepTo(e){X(e)}})),[X,A,L,z,a]),Z=(0,t.useCallback)((e=>{const t=F.current,n={ArrowRight:()=>G.stepUp(),ArrowUp:()=>G.stepUp(),ArrowLeft:()=>G.stepDown(),ArrowDown:()=>G.stepDown(),PageUp:()=>G.stepUp(I),PageDown:()=>G.stepDown(I),Home:()=>X(t.min),End:()=>X(t.max)}[e.key];n&&(e.preventDefault(),e.stopPropagation(),n(e),t.eventSource="keyboard")}),[G,X,I,F]),Q=null!=(n=null==E?void 0:E(L))?n:y,J=function(e){const[t]=sB({observeMutation:!1,getNodes(){var t;return["object"===typeof(t=e)&&null!==t&&"current"in t?e.current:e]}});return t}(W),{getThumbStyle:ee,rootStyle:te,trackStyle:ne,innerTrackStyle:re}=(0,t.useMemo)((()=>{const e=F.current,t=null!=J?J:{width:0,height:0};return function(e){const{orientation:t,thumbPercents:n,thumbRects:r,isReversed:o}=e,i="vertical"===t?r.reduce(((e,t)=>EL(e).height>EL(t).height?e:t),_L):r.reduce(((e,t)=>EL(e).width>EL(t).width?e:t),_L),s={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0,...CL({orientation:t,vertical:i?{paddingLeft:i.width/2,paddingRight:i.width/2}:{},horizontal:i?{paddingTop:i.height/2,paddingBottom:i.height/2}:{}})},a={position:"absolute",...CL({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},l=1===n.length,c=[0,o?100-n[0]:n[0]],u=l?c:n;let d=u[0];!l&&o&&(d=100-d);const h=Math.abs(u[u.length-1]-u[0]);return{trackStyle:a,innerTrackStyle:{...a,...CL({orientation:t,vertical:o?{height:"".concat(h,"%"),top:"".concat(d,"%")}:{height:"".concat(h,"%"),bottom:"".concat(d,"%")},horizontal:o?{width:"".concat(h,"%"),right:"".concat(d,"%")}:{width:"".concat(h,"%"),left:"".concat(d,"%")}})},rootStyle:s,getThumbStyle:e=>{var o;const i=null!=(o=r[e])?o:_L;return{position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...CL({orientation:t,vertical:{bottom:"calc(".concat(n[e],"% - ").concat(i.height/2,"px)")},horizontal:{left:"calc(".concat(n[e],"% - ").concat(i.width/2,"px)")}})}}}}({isReversed:A,orientation:e.orientation,thumbRects:[t],thumbPercents:[B]})}),[A,J,B,F]),oe=(0,t.useCallback)((()=>{F.current.focusThumbOnChange&&setTimeout((()=>{var e;return null==(e=W.current)?void 0:e.focus()}))}),[F]);function ie(e){const t=$(e);null!=t&&t!==F.current.value&&T(t)}Xu((()=>{const e=F.current;oe(),"keyboard"===e.eventSource&&(null==_||_(e.value))}),[L,_]),function(e,n){const{onPan:r,onPanStart:o,onPanEnd:i,onPanSessionStart:s,onPanSessionEnd:a,threshold:l}=n,c=Boolean(r||o||i||s||a),u=(0,t.useRef)(null),d=rB({onSessionStart:s,onSessionEnd:a,onStart:o,onMove:r,onEnd(e,t){u.current=null,null==i||i(e,t)}});(0,t.useEffect)((()=>{var e;null==(e=u.current)||e.updateHandlers(d.current)})),(0,t.useEffect)((()=>{const t=e.current;if(t&&c)return OL(t,"pointerdown",(function(e){u.current=new GL(e,d.current,l)}))}),[e,c,d,l]),(0,t.useEffect)((()=>()=>{var e;null==(e=u.current)||e.end(),u.current=null}),[])}(H,{onPanSessionStart(e){const t=F.current;t.isInteractive&&(O(!0),oe(),ie(e),null==C||C(t.value))},onPanSessionEnd(){const e=F.current;e.isInteractive&&(O(!1),null==_||_(e.value))},onPan(e){F.current.isInteractive&&ie(e)}});const se=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,...k,ref:qR(t,H),tabIndex:-1,"aria-disabled":xL(h),"data-focused":wL(N),style:{...e.style,...te}}}),[k,h,N,te]),ae=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,ref:qR(t,V),id:Y,"data-disabled":wL(h),style:{...e.style,...ne}}}),[h,Y,ne]),le=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,ref:t,style:{...e.style,...re}}}),[re]),ce=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,ref:qR(t,W),role:"slider",tabIndex:R?0:void 0,id:K,"data-active":wL(P),"aria-valuetext":Q,"aria-valuemin":r,"aria-valuemax":o,"aria-valuenow":L,"aria-orientation":u,"aria-disabled":xL(h),"aria-readonly":xL(f),"aria-label":b,"aria-labelledby":b?void 0:w,style:{...e.style,...ee(0)},onKeyDown:kL(e.onKeyDown,Z),onFocus:kL(e.onFocus,(()=>D(!0))),onBlur:kL(e.onBlur,(()=>D(!1)))}}),[R,K,P,Q,r,o,L,u,h,f,b,w,ee,Z]),ue=(0,t.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=!(e.value<r||e.value>o),i=L>=e.value,s=BR(e.value,r,o),a={position:"absolute",pointerEvents:"none",...lB({orientation:u,vertical:{bottom:"".concat(A?100-s:s,"%")},horizontal:{left:"".concat(A?100-s:s,"%")}})};return{...e,ref:t,role:"presentation","aria-hidden":!0,"data-disabled":wL(h),"data-invalid":wL(!n),"data-highlighted":wL(i),style:{...e.style,...a}}}),[h,A,o,r,u,L]),de=(0,t.useCallback)((function(){return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,type:"hidden",value:L,name:x}}),[x,L]);return{state:{value:L,isFocused:N,isDragging:P},actions:G,getRootProps:se,getTrackProps:ae,getInnerTrackProps:le,getThumbProps:ce,getMarkerProps:ue,getInputProps:de}}function lB(e){const{orientation:t,vertical:n,horizontal:r}=e;return"vertical"===t?n:r}function cB(e,t){return t<e?e:e+(t-e)/2}var[uB,dB]=Yt({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[hB,fB]=Yt({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),pB=xy(((e,t)=>{var n;const r={...e,orientation:null!=(n=null==e?void 0:e.orientation)?n:"horizontal"},o=Ay("Slider",r),i=Yr(r),{direction:s}=Sy();i.direction=s;const{getInputProps:a,getRootProps:l,...c}=aB(i),u=l(),d=a({},t);return(0,Wt.jsx)(uB,{value:c,children:(0,Wt.jsx)(hB,{value:o,children:(0,Wt.jsxs)(vy.div,{...u,className:SL("chakra-slider",r.className),__css:o.container,children:[r.children,(0,Wt.jsx)("input",{...d})]})})})}));pB.displayName="Slider";var mB=xy(((e,t)=>{const{getThumbProps:n}=dB(),r=fB(),o=n(e,t);return(0,Wt.jsx)(vy.div,{...o,className:SL("chakra-slider__thumb",e.className),__css:r.thumb})}));mB.displayName="SliderThumb";var gB=xy(((e,t)=>{const{getTrackProps:n}=dB(),r=fB(),o=n(e,t);return(0,Wt.jsx)(vy.div,{...o,className:SL("chakra-slider__track",e.className),__css:r.track})}));gB.displayName="SliderTrack";var vB=xy(((e,t)=>{const{getInnerTrackProps:n}=dB(),r=fB(),o=n(e,t);return(0,Wt.jsx)(vy.div,{...o,className:SL("chakra-slider__filled-track",e.className),__css:r.filledTrack})}));vB.displayName="SliderFilledTrack";var yB=xy(((e,t)=>{const{getMarkerProps:n}=dB(),r=fB(),o=n(e,t);return(0,Wt.jsx)(vy.div,{...o,className:SL("chakra-slider__marker",e.className),__css:r.mark})}));yB.displayName="SliderMark";var bB=e=>(0,Wt.jsx)(vy.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});bB.displayName="StackItem";Object.freeze(["base","sm","md","lg","xl","2xl"]);function wB(e){return t.Children.toArray(e).filter((e=>(0,t.isValidElement)(e)))}var xB=xy(((e,n)=>{const{isInline:r,direction:o,align:i,justify:s,spacing:a="0.5rem",wrap:l,children:c,divider:u,className:d,shouldWrapChildren:h,...f}=e,p=r?"row":null!=o?o:"column",m=(0,t.useMemo)((()=>function(e){const{spacing:t,direction:n}=e,r={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":(o=n,i=e=>r[e],Array.isArray(o)?o.map((e=>null===e?null:i(e))):tn(o)?Object.keys(o).reduce(((e,t)=>(e[t]=i(o[t]),e)),{}):null!=o?i(o):null)};var o,i}({spacing:a,direction:p})),[a,p]),g=!!u,v=!h&&!g,y=(0,t.useMemo)((()=>{const e=wB(c);return v?e:e.map(((n,r)=>{const o="undefined"!==typeof n.key?n.key:r,i=r+1===e.length,s=h?(0,Wt.jsx)(bB,{children:n},o):n;if(!g)return s;const a=(0,t.cloneElement)(u,{__css:m}),l=i?null:a;return(0,Wt.jsxs)(t.Fragment,{children:[s,l]},o)}))}),[u,m,g,v,h,c]),b=en("chakra-stack",d);return(0,Wt.jsx)(vy.div,{ref:n,display:"flex",alignItems:i,justifyContent:s,flexDirection:p,flexWrap:l,gap:g?void 0:a,className:b,...f,children:y})}));xB.displayName="Stack";var SB=xy(((e,n)=>{const{icon:r,children:o,isRound:i,"aria-label":s,...a}=e,l=r||o,c=(0,t.isValidElement)(l)?(0,t.cloneElement)(l,{"aria-hidden":!0,focusable:!1}):null;return(0,Wt.jsx)(dL,{padding:"0",borderRadius:i?"full":void 0,ref:n,"aria-label":s,...a,children:c})}));SB.displayName="IconButton";var kB={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};var CB=()=>"undefined"!==typeof document;var _B=!1,EB=null,AB=!1,MB=!1,TB=new Set;function PB(e,t){TB.forEach((n=>n(e,t)))}var OB="undefined"!==typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);function NB(e){var t;AB=!0,(t=e).metaKey||!OB&&t.altKey||t.ctrlKey||"Control"===t.key||"Shift"===t.key||"Meta"===t.key||(EB="keyboard",PB("keyboard",e))}function DB(e){if(EB="pointer","mousedown"===e.type||"pointerdown"===e.type){AB=!0;const t=e.composedPath?e.composedPath()[0]:e.target;let n=!1;try{n=t.matches(":focus-visible")}catch{}if(n)return;PB("pointer",e)}}function RB(e){var t;(0===(t=e).mozInputSource&&t.isTrusted||0===t.detail&&!t.pointerType)&&(AB=!0,EB="virtual")}function IB(e){e.target!==window&&e.target!==document&&(AB||MB||(EB="virtual",PB("virtual",e)),AB=!1,MB=!1)}function zB(){AB=!1,MB=!0}function LB(){return"pointer"!==EB}function BB(){if(!CB()||_B)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(){AB=!0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(this,n)},document.addEventListener("keydown",NB,!0),document.addEventListener("keyup",NB,!0),document.addEventListener("click",RB,!0),window.addEventListener("focus",IB,!0),window.addEventListener("blur",zB,!1),"undefined"!==typeof PointerEvent?(document.addEventListener("pointerdown",DB,!0),document.addEventListener("pointermove",DB,!0),document.addEventListener("pointerup",DB,!0)):(document.addEventListener("mousedown",DB,!0),document.addEventListener("mousemove",DB,!0),document.addEventListener("mouseup",DB,!0)),_B=!0}function jB(e){BB(),e(LB());const t=()=>e(LB());return TB.add(t),()=>{TB.delete(t)}}function FB(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=nI(e),{isDisabled:r,isReadOnly:o,isRequired:i,isInvalid:s,id:a,onBlur:l,onFocus:c,"aria-describedby":u}=n,{defaultChecked:d,isChecked:h,isFocusable:f,onChange:p,isIndeterminate:m,name:g,value:v,tabIndex:y,"aria-label":b,"aria-labelledby":w,"aria-invalid":x,...S}=e,k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}(S,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),C=$u(p),_=$u(l),E=$u(c),[A,M]=(0,t.useState)(!1),[T,P]=(0,t.useState)(!1),[O,N]=(0,t.useState)(!1),[D,R]=(0,t.useState)(!1);(0,t.useEffect)((()=>jB(M)),[]);const I=(0,t.useRef)(null),[z,L]=(0,t.useState)(!0),[B,j]=(0,t.useState)(!!d),F=void 0!==h,V=F?h:B,W=(0,t.useCallback)((e=>{o||r?e.preventDefault():(F||j(V?e.target.checked:!!m||e.target.checked),null==C||C(e))}),[o,r,V,F,m,C]);co((()=>{I.current&&(I.current.indeterminate=Boolean(m))}),[m]),Xu((()=>{r&&P(!1)}),[r,P]),co((()=>{const e=I.current;if(!(null==e?void 0:e.form))return;const t=()=>{j(!!d)};return e.form.addEventListener("reset",t),()=>{var n;return null==(n=e.form)?void 0:n.removeEventListener("reset",t)}}),[]);const H=r&&!f,U=(0,t.useCallback)((e=>{" "===e.key&&R(!0)}),[R]),q=(0,t.useCallback)((e=>{" "===e.key&&R(!1)}),[R]);co((()=>{if(!I.current)return;I.current.checked!==V&&j(I.current.checked)}),[I.current]);const K=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,ref:t,"data-active":on(D),"data-hover":on(O),"data-checked":on(V),"data-focus":on(T),"data-focus-visible":on(T&&A),"data-indeterminate":on(m),"data-disabled":on(r),"data-invalid":on(s),"data-readonly":on(o),"aria-hidden":!0,onMouseDown:an(e.onMouseDown,(e=>{T&&e.preventDefault(),R(!0)})),onMouseUp:an(e.onMouseUp,(()=>R(!1))),onMouseEnter:an(e.onMouseEnter,(()=>N(!0))),onMouseLeave:an(e.onMouseLeave,(()=>N(!1)))}}),[D,V,r,T,A,O,m,s,o]),Y=(0,t.useCallback)((function(){return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,"data-active":on(D),"data-hover":on(O),"data-checked":on(V),"data-focus":on(T),"data-focus-visible":on(T&&A),"data-indeterminate":on(m),"data-disabled":on(r),"data-invalid":on(s),"data-readonly":on(o)}}),[D,V,r,T,A,O,m,s,o]),$=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...k,...e,ref:qR(t,(e=>{e&&L("LABEL"===e.tagName)})),onClick:an(e.onClick,(()=>{var e;z||(null==(e=I.current)||e.click(),requestAnimationFrame((()=>{var e;null==(e=I.current)||e.focus({preventScroll:!0})})))})),"data-disabled":on(r),"data-checked":on(V),"data-invalid":on(s)}}),[k,r,V,s,z]),X=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,ref:qR(I,t),type:"checkbox",name:g,value:v,id:a,tabIndex:y,onChange:an(e.onChange,W),onBlur:an(e.onBlur,_,(()=>P(!1))),onFocus:an(e.onFocus,E,(()=>P(!0))),onKeyDown:an(e.onKeyDown,U),onKeyUp:an(e.onKeyUp,q),required:i,checked:V,disabled:H,readOnly:o,"aria-label":b,"aria-labelledby":w,"aria-invalid":x?Boolean(x):s,"aria-describedby":u,"aria-disabled":r,style:kB}}),[g,v,a,W,_,E,U,q,i,V,H,o,b,w,x,s,u,r,y]),G=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,ref:t,onMouseDown:an(e.onMouseDown,VB),"data-disabled":on(r),"data-checked":on(V),"data-invalid":on(s)}}),[V,r,s]);return{state:{isInvalid:s,isFocused:T,isChecked:V,isActive:D,isHovered:O,isIndeterminate:m,isDisabled:r,isReadOnly:o,isRequired:i},getRootProps:$,getCheckboxProps:K,getIndicatorProps:Y,getInputProps:X,getLabelProps:G,htmlProps:k}}function VB(e){e.preventDefault(),e.stopPropagation()}var WB=xy((function(e,n){const r=Ay("Switch",e),{spacing:o="0.5rem",children:i,...s}=Yr(e),{getIndicatorProps:a,getInputProps:l,getCheckboxProps:c,getRootProps:u,getLabelProps:d}=FB(s),h=(0,t.useMemo)((()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...r.container})),[r.container]),f=(0,t.useMemo)((()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...r.track})),[r.track]),p=(0,t.useMemo)((()=>({userSelect:"none",marginStart:o,...r.label})),[o,r.label]);return(0,Wt.jsxs)(vy.label,{...u(),className:en("chakra-switch",e.className),__css:h,children:[(0,Wt.jsx)("input",{className:"chakra-switch__input",...l({},n)}),(0,Wt.jsx)(vy.span,{...c(),className:"chakra-switch__track",__css:f,children:(0,Wt.jsx)(vy.span,{__css:r.thumb,className:"chakra-switch__thumb",...a()})}),i&&(0,Wt.jsx)(vy.span,{className:"chakra-switch__label",...d(),__css:p,children:i})]})}));WB.displayName="Switch";const HB=e=>{const{currentStep:n,setStep:r}=gR((e=>({currentStep:e.currentStep,setStep:e.setStep})),iR),o=Jt("#3182ce","#90cdf4"),[i,s]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1);return(0,Wt.jsx)(Wt.Fragment,{children:(0,Wt.jsxs)(ER,{flexDirection:"column",children:[(0,Wt.jsx)(AR,{px:"15px",paddingTop:"10px",children:(0,Wt.jsxs)(pB,{value:n,min:0,max:e.length,step:1,size:"lg",focusThumbOnChange:!1,isDisabled:e.disabled,onChange:r,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onChangeStart:e.playing?()=>{e.setWasPlaying(!0),e.togglePlaying()}:void 0,onChangeEnd:e.wasPlaying?()=>{e.setWasPlaying(!1),e.togglePlaying()}:void 0,children:[(0,Wt.jsxs)(gB,{children:[(0,Wt.jsx)(AR,{position:"relative",right:10}),(0,Wt.jsx)(vB,{})]}),(0,Wt.jsx)(sL,{hasArrow:!0,bg:"blue.500",color:"white",placement:"top",isOpen:a,label:"".concat(n),children:(0,Wt.jsx)(mB,{})}),(0,Wt.jsx)(mB,{boxSize:4})]})}),(0,Wt.jsxs)(ER,{children:[(0,Wt.jsxs)(xB,{direction:"column",align:"center",marginLeft:"10px",px:"10px",children:[(0,Wt.jsx)(pL,{}),(0,Wt.jsxs)(pB,{id:"slider",defaultValue:1,value:e.curSpeed,min:1,max:100,onChange:t=>e.setSpeed(Number(t)),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),isDisabled:e.disabled,w:"120px",children:[(0,Wt.jsx)(gB,{children:(0,Wt.jsx)(vB,{})}),(0,Wt.jsx)(sL,{hasArrow:!0,bg:"blue.500",color:"white",placement:"top",isOpen:i,label:"x".concat(e.curSpeed),children:(0,Wt.jsx)(mB,{})})]})]}),(0,Wt.jsx)(fI,{}),(0,Wt.jsxs)(xB,{direction:"row",align:"center",children:[(0,Wt.jsx)(SB,{isRound:!0,background:"none",size:"lg","aria-label":"Rewind",isDisabled:e.disabled,icon:(0,Wt.jsx)(yL,{color:o}),onClick:()=>e.moveStep(!1)}),(0,Wt.jsx)(SB,{isRound:!0,background:"none",size:"lg","aria-label":"Play/Pause",isDisabled:e.disabled||n===e.length,icon:e.playing?(0,Wt.jsx)(mL,{color:o}):(0,Wt.jsx)(gL,{color:o}),onClick:e.togglePlaying}),(0,Wt.jsx)(SB,{isRound:!0,background:"none",size:"lg","aria-label":"Forward",isDisabled:e.disabled,icon:(0,Wt.jsx)(bL,{color:o}),onClick:()=>e.moveStep(!0)})]}),(0,Wt.jsx)(fI,{}),(0,Wt.jsxs)(ER,{justify:"center",align:"center",p:2,children:["Enable Visuals?",(0,Wt.jsx)(WB,{px:2,isChecked:e.visual,onChange:e.toggleVisual})]})]})]})})},UB=e=>(0,Wt.jsx)(oR,{value:e.text,height:"100%",style:{height:"100%",...!e.editable&&{cursor:"not-allowed"}},editable:e.editable,readOnly:!e.editable,placeholder:e.placeholder,autoFocus:!0,width:"100%",basicSetup:{lineNumbers:!1,highlightActiveLine:e.editable,syntaxHighlighting:!1},extensions:[],onChange:e.setText,theme:Jt(kT,_T)}),qB=()=>{const{output:e}=gR((e=>({output:e.output})));return(0,Wt.jsx)(Wt.Fragment,{children:(0,Wt.jsx)(AR,{h:"20%",borderTop:"1px",borderColor:"gray.300",children:(0,Wt.jsx)(UB,{placeholder:"Output will appear here",text:e||"",editable:!1})})})};var KB=vL({d:"M21.4,13.7C20.6,13.9,19.8,14,19,14c-5,0-9-4-9-9c0-0.8,0.1-1.6,0.3-2.4c0.1-0.3,0-0.7-0.3-1 c-0.3-0.3-0.6-0.4-1-0.3C4.3,2.7,1,7.1,1,12c0,6.1,4.9,11,11,11c4.9,0,9.3-3.3,10.6-8.1c0.1-0.3,0-0.7-0.3-1 C22.1,13.7,21.7,13.6,21.4,13.7z",displayName:"MoonIcon"}),YB=vL({displayName:"SunIcon",path:(0,Wt.jsxs)("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2",fill:"none",stroke:"currentColor",children:[(0,Wt.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,Wt.jsx)("path",{d:"M12 1v2"}),(0,Wt.jsx)("path",{d:"M12 21v2"}),(0,Wt.jsx)("path",{d:"M4.22 4.22l1.42 1.42"}),(0,Wt.jsx)("path",{d:"M18.36 18.36l1.42 1.42"}),(0,Wt.jsx)("path",{d:"M1 12h2"}),(0,Wt.jsx)("path",{d:"M21 12h2"}),(0,Wt.jsx)("path",{d:"M4.22 19.78l1.42-1.42"}),(0,Wt.jsx)("path",{d:"M18.36 5.64l1.42-1.42"})]})}),$B=xy((function(e,t){const n=Ey("Heading",e),{className:r,...o}=Yr(e);return(0,Wt.jsx)(vy.h2,{ref:t,className:en("chakra-heading",e.className),...o,__css:n})}));$B.displayName="Heading";var XB=xy((function(e,t){const{htmlWidth:n,htmlHeight:r,alt:o,...i}=e;return(0,Wt.jsx)("img",{width:n,height:r,ref:t,alt:o,...i})}));XB.displayName="NativeImage";function GB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}var ZB=xy((function(e,n){const{fallbackSrc:r,fallback:o,src:i,srcSet:s,align:a,fit:l,loading:c,ignoreFallback:u,crossOrigin:d,fallbackStrategy:h="beforeLoadOrError",referrerPolicy:f,...p}=e,m=null!=c||u||!(void 0!==r||void 0!==o),g=function(e){const{loading:n,src:r,srcSet:o,onLoad:i,onError:s,crossOrigin:a,sizes:l,ignoreFallback:c}=e,[u,d]=(0,t.useState)("pending");(0,t.useEffect)((()=>{d(r?"loading":"pending")}),[r]);const h=(0,t.useRef)(),f=(0,t.useCallback)((()=>{if(!r)return;p();const e=new Image;e.src=r,a&&(e.crossOrigin=a),o&&(e.srcset=o),l&&(e.sizes=l),n&&(e.loading=n),e.onload=e=>{p(),d("loaded"),null==i||i(e)},e.onerror=e=>{p(),d("failed"),null==s||s(e)},h.current=e}),[r,a,o,l,i,s,n]),p=()=>{h.current&&(h.current.onload=null,h.current.onerror=null,h.current=null)};return co((()=>{if(!c)return"loading"===u&&f(),()=>{p()}}),[u,f,c]),c?"loaded":u}({...e,crossOrigin:d,ignoreFallback:m}),v=((e,t)=>"loaded"!==e&&"beforeLoadOrError"===t||"failed"===e&&"onError"===t)(g,h),y={ref:n,objectFit:l,objectPosition:a,...m?p:GB(p,["onError","onLoad"])};return v?o||(0,Wt.jsx)(vy.img,{as:XB,className:"chakra-image__placeholder",src:r,...y}):(0,Wt.jsx)(vy.img,{as:XB,src:i,srcSet:s,crossOrigin:d,loading:c,referrerPolicy:f,className:"chakra-image",...y})}));ZB.displayName="Image";const QB=()=>{const{colorMode:e,toggleColorMode:t}=Qt();return(0,Wt.jsx)(Wt.Fragment,{children:(0,Wt.jsx)(AR,{bg:Jt("blue.100","blue.900"),px:4,minW:"1500px",h:"65px",children:(0,Wt.jsxs)(ER,{h:16,alignItems:"center",justifyContent:"space-between",children:[(0,Wt.jsx)($B,{color:Jt("blue.700","blue.300"),children:"Go Virtual Machine"}),(0,Wt.jsxs)(ER,{alignItems:"center",padding:6,children:[(0,Wt.jsx)(ZB,{src:"gophers.png",width:"300px",transform:"rotate(180deg)",zIndex:100,marginRight:20}),(0,Wt.jsx)(xB,{direction:"row",spacing:7,children:(0,Wt.jsx)(dL,{onClick:t,bg:Jt("blue.100","blue.900"),_hover:{bg:Jt("blue.200","blue.800")},children:"light"===e?(0,Wt.jsx)(KB,{}):(0,Wt.jsx)(YB,{})})})]})]})})})};function JB(e){if("string"===typeof e||"number"===typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=JB(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var ej={value:function(){}};function tj(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new nj(r)}function nj(e){this._=e}function rj(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function oj(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=ej,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}nj.prototype=tj.prototype={constructor:nj,on:function(e,t){var n,r=this._,o=function(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}(e+"",r),i=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++i<s;)if(n=(e=o[i]).type)r[n]=oj(r[n],e.name,t);else if(null==t)for(n in r)r[n]=oj(r[n],e.name,null);return this}for(;++i<s;)if((n=(e=o[i]).type)&&(n=rj(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new nj(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};const ij=tj;function sj(){}function aj(e){return null==e?sj:function(){return this.querySelector(e)}}function lj(){return[]}function cj(e){return null==e?lj:function(){return this.querySelectorAll(e)}}function uj(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function dj(e){return function(){return this.matches(e)}}function hj(e){return function(t){return t.matches(e)}}var fj=Array.prototype.find;function pj(){return this.firstElementChild}var mj=Array.prototype.filter;function gj(){return Array.from(this.children)}function vj(e){return new Array(e.length)}function yj(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function bj(e,t,n,r,o,i){for(var s,a=0,l=t.length,c=i.length;a<c;++a)(s=t[a])?(s.__data__=i[a],r[a]=s):n[a]=new yj(e,i[a]);for(;a<l;++a)(s=t[a])&&(o[a]=s)}function wj(e,t,n,r,o,i,s){var a,l,c,u=new Map,d=t.length,h=i.length,f=new Array(d);for(a=0;a<d;++a)(l=t[a])&&(f[a]=c=s.call(l,l.__data__,a,t)+"",u.has(c)?o[a]=l:u.set(c,l));for(a=0;a<h;++a)c=s.call(e,i[a],a,i)+"",(l=u.get(c))?(r[a]=l,l.__data__=i[a],u.delete(c)):n[a]=new yj(e,i[a]);for(a=0;a<d;++a)(l=t[a])&&u.get(f[a])===l&&(o[a]=l)}function xj(e){return e.__data__}function Sj(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function kj(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}yj.prototype={constructor:yj,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Cj="http://www.w3.org/1999/xhtml";const _j={svg:"http://www.w3.org/2000/svg",xhtml:Cj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ej(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),_j.hasOwnProperty(t)?{space:_j[t],local:e}:e}function Aj(e){return function(){this.removeAttribute(e)}}function Mj(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Tj(e,t){return function(){this.setAttribute(e,t)}}function Pj(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Oj(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Nj(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Dj(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Rj(e){return function(){this.style.removeProperty(e)}}function Ij(e,t,n){return function(){this.style.setProperty(e,t,n)}}function zj(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Lj(e,t){return e.style.getPropertyValue(t)||Dj(e).getComputedStyle(e,null).getPropertyValue(t)}function Bj(e){return function(){delete this[e]}}function jj(e,t){return function(){this[e]=t}}function Fj(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Vj(e){return e.trim().split(/^|\s+/)}function Wj(e){return e.classList||new Hj(e)}function Hj(e){this._node=e,this._names=Vj(e.getAttribute("class")||"")}function Uj(e,t){for(var n=Wj(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function qj(e,t){for(var n=Wj(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Kj(e){return function(){Uj(this,e)}}function Yj(e){return function(){qj(this,e)}}function $j(e,t){return function(){(t.apply(this,arguments)?Uj:qj)(this,e)}}function Xj(){this.textContent=""}function Gj(e){return function(){this.textContent=e}}function Zj(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Qj(){this.innerHTML=""}function Jj(e){return function(){this.innerHTML=e}}function eF(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function tF(){this.nextSibling&&this.parentNode.appendChild(this)}function nF(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rF(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Cj&&t.documentElement.namespaceURI===Cj?t.createElement(e):t.createElementNS(n,e)}}function oF(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function iF(e){var t=Ej(e);return(t.local?oF:rF)(t)}function sF(){return null}function aF(){var e=this.parentNode;e&&e.removeChild(this)}function lF(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cF(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uF(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function dF(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var s=0,a=o.length;s<a;++s)if((r=o[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function hF(e,t,n){var r=Dj(e),o=r.CustomEvent;"function"===typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function fF(e,t){return function(){return hF(this,e,t)}}function pF(e,t){return function(){return hF(this,e,t.apply(this,arguments))}}Hj.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var mF=[null];function gF(e,t){this._groups=e,this._parents=t}function vF(){return new gF([[document.documentElement]],mF)}gF.prototype=vF.prototype={constructor:gF,select:function(e){"function"!==typeof e&&(e=aj(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,s,a=t[o],l=a.length,c=r[o]=new Array(l),u=0;u<l;++u)(i=a[u])&&(s=e.call(i,i.__data__,u,a))&&("__data__"in i&&(s.__data__=i.__data__),c[u]=s);return new gF(r,this._parents)},selectAll:function(e){e="function"===typeof e?uj(e):cj(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s,a=t[i],l=a.length,c=0;c<l;++c)(s=a[c])&&(r.push(e.call(s,s.__data__,c,a)),o.push(s));return new gF(r,o)},selectChild:function(e){return this.select(null==e?pj:function(e){return function(){return fj.call(this.children,e)}}("function"===typeof e?e:hj(e)))},selectChildren:function(e){return this.selectAll(null==e?gj:function(e){return function(){return mj.call(this.children,e)}}("function"===typeof e?e:hj(e)))},filter:function(e){"function"!==typeof e&&(e=dj(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,s=t[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(i=s[c])&&e.call(i,i.__data__,c,s)&&l.push(i);return new gF(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,xj);var n,r=t?wj:bj,o=this._parents,i=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var s=i.length,a=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var d=o[u],h=i[u],f=h.length,p=Sj(e.call(d,d&&d.__data__,u,o)),m=p.length,g=l[u]=new Array(m),v=a[u]=new Array(m);r(d,h,g,v,c[u]=new Array(f),p,t);for(var y,b,w=0,x=0;w<m;++w)if(y=g[w]){for(w>=x&&(x=w+1);!(b=v[x])&&++x<m;);y._next=b||null}}return(a=new gF(a,o))._enter=l,a._exit=c,a},enter:function(){return new gF(this._enter||this._groups.map(vj),this._parents)},exit:function(){return new gF(this._exit||this._groups.map(vj),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),a=new Array(o),l=0;l<s;++l)for(var c,u=n[l],d=r[l],h=u.length,f=a[l]=new Array(h),p=0;p<h;++p)(c=u[p]||d[p])&&(f[p]=c);for(;l<o;++l)a[l]=n[l];return new gF(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,s=o[i];--i>=0;)(r=o[i])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=kj);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s,a=n[i],l=a.length,c=o[i]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(t)}return new gF(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],s=0,a=i.length;s<a;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this},attr:function(e,t){var n=Ej(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Mj:Aj:"function"===typeof t?n.local?Nj:Oj:n.local?Pj:Tj)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Rj:"function"===typeof t?zj:Ij)(e,t,null==n?"":n)):Lj(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Bj:"function"===typeof t?Fj:jj)(e,t)):this.node()[e]},classed:function(e,t){var n=Vj(e+"");if(arguments.length<2){for(var r=Wj(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"===typeof t?$j:t?Kj:Yj)(n,t))},text:function(e){return arguments.length?this.each(null==e?Xj:("function"===typeof e?Zj:Gj)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Qj:("function"===typeof e?eF:Jj)(e)):this.node().innerHTML},raise:function(){return this.each(tF)},lower:function(){return this.each(nF)},append:function(e){var t="function"===typeof e?e:iF(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:iF(e),r=null==t?sF:"function"===typeof t?t:aj(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(aF)},clone:function(e){return this.select(e?cF:lF)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),s=i.length;if(!(arguments.length<2)){for(a=t?dF:uF,r=0;r<s;++r)this.each(a(i[r],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<s;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?pF:fF)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,s=o.length;i<s;++i)(r=o[i])&&(yield r)}};const yF=vF;function bF(e){return"string"===typeof e?new gF([[document.querySelector(e)]],[document.documentElement]):new gF([[e]],mF)}const wF={capture:!0,passive:!1};function xF(e){e.preventDefault(),e.stopImmediatePropagation()}function SF(e){return((e=Math.exp(e))+1/e)/2}const kF=function e(t,n,r){function o(e,o){var i,s,a=e[0],l=e[1],c=e[2],u=o[0],d=o[1],h=o[2],f=u-a,p=d-l,m=f*f+p*p;if(m<1e-12)s=Math.log(h/c)/t,i=function(e){return[a+e*f,l+e*p,c*Math.exp(t*e*s)]};else{var g=Math.sqrt(m),v=(h*h-c*c+r*m)/(2*c*n*g),y=(h*h-c*c-r*m)/(2*h*n*g),b=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(y*y+1)-y);s=(w-b)/t,i=function(e){var r,o=e*s,i=SF(b),u=c/(n*g)*(i*(r=t*o+b,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[a+u*f,l+u*p,c*i/SF(t*o+b)]}}return i.duration=1e3*s*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);function CF(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}var _F,EF,AF=0,MF=0,TF=0,PF=1e3,OF=0,NF=0,DF=0,RF="object"===typeof performance&&performance.now?performance:Date,IF="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function zF(){return NF||(IF(LF),NF=RF.now()+DF)}function LF(){NF=0}function BF(){this._call=this._time=this._next=null}function jF(e,t,n){var r=new BF;return r.restart(e,t,n),r}function FF(){NF=(OF=RF.now())+DF,AF=MF=0;try{!function(){zF(),++AF;for(var e,t=_F;t;)(e=NF-t._time)>=0&&t._call.call(null,e),t=t._next;--AF}()}finally{AF=0,function(){var e,t,n=_F,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:_F=t);EF=e,WF(r)}(),NF=0}}function VF(){var e=RF.now(),t=e-OF;t>PF&&(DF-=t,OF=e)}function WF(e){AF||(MF&&(MF=clearTimeout(MF)),e-NF>24?(e<1/0&&(MF=setTimeout(FF,e-RF.now()-DF)),TF&&(TF=clearInterval(TF))):(TF||(OF=RF.now(),TF=setInterval(VF,PF)),AF=1,IF(FF)))}function HF(e,t,n){var r=new BF;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}BF.prototype=jF.prototype={constructor:BF,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?zF():+n)+(null==t?0:+t),this._next||EF===this||(EF?EF._next=this:_F=this,EF=this),this._call=e,this._time=n,WF()},stop:function(){this._call&&(this._call=null,this._time=1/0,WF())}};var UF=ij("start","end","cancel","interrupt"),qF=[],KF=0,YF=1,$F=2,XF=3,GF=4,ZF=5,QF=6;function JF(e,t,n,r,o,i){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(e){n.state=YF,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(i){var c,u,d,h;if(n.state!==YF)return l();for(c in o)if((h=o[c]).name===n.name){if(h.state===XF)return HF(s);h.state===GF?(h.state=QF,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete o[c]):+c<t&&(h.state=QF,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete o[c])}if(HF((function(){n.state===XF&&(n.state=GF,n.timer.restart(a,n.delay,n.time),a(i))})),n.state=$F,n.on.call("start",e,e.__data__,n.index,n.group),n.state===$F){for(n.state=XF,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function a(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=ZF,1),i=-1,s=r.length;++i<s;)r[i].call(e,o);n.state===ZF&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=QF,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=jF(i,0,n.time)}(e,n,{name:t,index:r,group:o,on:UF,tween:qF,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:KF})}function eV(e,t){var n=nV(e,t);if(n.state>KF)throw new Error("too late; already scheduled");return n}function tV(e,t){var n=nV(e,t);if(n.state>XF)throw new Error("too late; already running");return n}function nV(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function rV(e,t){var n,r,o,i=e.__transition,s=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>$F&&n.state<ZF,n.state=QF,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):s=!1;s&&delete e.__transition}}function oV(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var iV,sV=180/Math.PI,aV={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function lV(e,t,n,r,o,i){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*sV,skewX:Math.atan(l)*sV,scaleX:s,scaleY:a}}function cV(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,s){var a=[],l=[];return i=e(i),s=e(s),function(e,r,o,i,s,a){if(e!==o||r!==i){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:oV(e,o)},{i:l-2,x:oV(r,i)})}else(o||i)&&s.push("translate("+o+t+i+n)}(i.translateX,i.translateY,s.translateX,s.translateY,a,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:oV(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,s.rotate,a,l),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:oV(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,s.skewX,a,l),function(e,t,n,r,i,s){if(e!==n||t!==r){var a=i.push(o(i)+"scale(",null,",",null,")");s.push({i:a-4,x:oV(e,n)},{i:a-2,x:oV(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,s.scaleX,s.scaleY,a,l),i=s=null,function(e){for(var t,n=-1,r=l.length;++n<r;)a[(t=l[n]).i]=t.x(e);return a.join("")}}}var uV=cV((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?aV:lV(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),dV=cV((function(e){return null==e?aV:(iV||(iV=document.createElementNS("http://www.w3.org/2000/svg","g")),iV.setAttribute("transform",e),(e=iV.transform.baseVal.consolidate())?lV((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):aV)}),", ",")",")");function hV(e,t){var n,r;return function(){var o=tV(this,e),i=o.tween;if(i!==n)for(var s=0,a=(r=n=i).length;s<a;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}o.tween=r}}function fV(e,t,n){var r,o;if("function"!==typeof n)throw new Error;return function(){var i=tV(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var a={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=a;break}l===c&&o.push(a)}i.tween=o}}function pV(e,t,n){var r=e._id;return e.each((function(){var e=tV(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return nV(e,r).value[t]}}function mV(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gV(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function vV(){}var yV=.7,bV=1/yV,wV="\\s*([+-]?\\d+)\\s*",xV="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",SV="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kV=/^#([0-9a-f]{3,8})$/,CV=new RegExp("^rgb\\(".concat(wV,",").concat(wV,",").concat(wV,"\\)$")),_V=new RegExp("^rgb\\(".concat(SV,",").concat(SV,",").concat(SV,"\\)$")),EV=new RegExp("^rgba\\(".concat(wV,",").concat(wV,",").concat(wV,",").concat(xV,"\\)$")),AV=new RegExp("^rgba\\(".concat(SV,",").concat(SV,",").concat(SV,",").concat(xV,"\\)$")),MV=new RegExp("^hsl\\(".concat(xV,",").concat(SV,",").concat(SV,"\\)$")),TV=new RegExp("^hsla\\(".concat(xV,",").concat(SV,",").concat(SV,",").concat(xV,"\\)$")),PV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function OV(){return this.rgb().formatHex()}function NV(){return this.rgb().formatRgb()}function DV(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=kV.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?RV(t):3===n?new LV(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?IV(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?IV(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=CV.exec(e))?new LV(t[1],t[2],t[3],1):(t=_V.exec(e))?new LV(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=EV.exec(e))?IV(t[1],t[2],t[3],t[4]):(t=AV.exec(e))?IV(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=MV.exec(e))?HV(t[1],t[2]/100,t[3]/100,1):(t=TV.exec(e))?HV(t[1],t[2]/100,t[3]/100,t[4]):PV.hasOwnProperty(e)?RV(PV[e]):"transparent"===e?new LV(NaN,NaN,NaN,0):null}function RV(e){return new LV(e>>16&255,e>>8&255,255&e,1)}function IV(e,t,n,r){return r<=0&&(e=t=n=NaN),new LV(e,t,n,r)}function zV(e,t,n,r){return 1===arguments.length?((o=e)instanceof vV||(o=DV(o)),o?new LV((o=o.rgb()).r,o.g,o.b,o.opacity):new LV):new LV(e,t,n,null==r?1:r);var o}function LV(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function BV(){return"#".concat(WV(this.r)).concat(WV(this.g)).concat(WV(this.b))}function jV(){const e=FV(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(VV(this.r),", ").concat(VV(this.g),", ").concat(VV(this.b)).concat(1===e?")":", ".concat(e,")"))}function FV(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function VV(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function WV(e){return((e=VV(e))<16?"0":"")+e.toString(16)}function HV(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new qV(e,t,n,r)}function UV(e){if(e instanceof qV)return new qV(e.h,e.s,e.l,e.opacity);if(e instanceof vV||(e=DV(e)),!e)return new qV;if(e instanceof qV)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,a=i-o,l=(i+o)/2;return a?(s=t===i?(n-r)/a+6*(n<r):n===i?(r-t)/a+2:(t-n)/a+4,a/=l<.5?i+o:2-i-o,s*=60):a=l>0&&l<1?0:s,new qV(s,a,l,e.opacity)}function qV(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function KV(e){return(e=(e||0)%360)<0?e+360:e}function YV(e){return Math.max(0,Math.min(1,e||0))}function $V(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function XV(e,t,n,r,o){var i=e*e,s=i*e;return((1-3*e+3*i-s)*t+(4-6*i+3*s)*n+(1+3*e+3*i-3*s)*r+s*o)/6}mV(vV,DV,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:OV,formatHex:OV,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return UV(this).formatHsl()},formatRgb:NV,toString:NV}),mV(LV,zV,gV(vV,{brighter(e){return e=null==e?bV:Math.pow(bV,e),new LV(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?yV:Math.pow(yV,e),new LV(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new LV(VV(this.r),VV(this.g),VV(this.b),FV(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BV,formatHex:BV,formatHex8:function(){return"#".concat(WV(this.r)).concat(WV(this.g)).concat(WV(this.b)).concat(WV(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:jV,toString:jV})),mV(qV,(function(e,t,n,r){return 1===arguments.length?UV(e):new qV(e,t,n,null==r?1:r)}),gV(vV,{brighter(e){return e=null==e?bV:Math.pow(bV,e),new qV(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?yV:Math.pow(yV,e),new qV(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new LV($V(e>=240?e-240:e+120,o,r),$V(e,o,r),$V(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new qV(KV(this.h),YV(this.s),YV(this.l),FV(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=FV(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(KV(this.h),", ").concat(100*YV(this.s),"%, ").concat(100*YV(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const GV=e=>()=>e;function ZV(e,t){return function(n){return e+n*t}}function QV(e){return 1===(e=+e)?JV:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):GV(isNaN(t)?n:t)}}function JV(e,t){var n=t-e;return n?ZV(e,n):GV(isNaN(e)?t:e)}const eW=function e(t){var n=QV(t);function r(e,t){var r=n((e=zV(e)).r,(t=zV(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),s=JV(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function tW(e){return function(t){var n,r,o=t.length,i=new Array(o),s=new Array(o),a=new Array(o);for(n=0;n<o;++n)r=zV(t[n]),i[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return i=e(i),s=e(s),a=e(a),r.opacity=1,function(e){return r.r=i(e),r.g=s(e),r.b=a(e),r+""}}}tW((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],s=r>0?e[r-1]:2*o-i,a=r<t-1?e[r+2]:2*i-o;return XV((n-r/t)*t,s,o,i,a)}})),tW((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return XV((n-r/t)*t,o,i,s,a)}}));var nW=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rW=new RegExp(nW.source,"g");function oW(e,t){var n,r,o,i=nW.lastIndex=rW.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=nW.exec(e))&&(r=rW.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:oV(n,r)})),i=rW.lastIndex;return i<t.length&&(o=t.slice(i),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function iW(e,t){var n;return("number"===typeof t?oV:t instanceof DV?eW:(n=DV(t))?(t=n,eW):oW)(e,t)}function sW(e){return function(){this.removeAttribute(e)}}function aW(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lW(e,t,n){var r,o,i=n+"";return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function cW(e,t,n){var r,o,i=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function uW(e,t,n){var r,o,i;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(a=l+"")?null:s===r&&a===o?i:(o=a,i=t(r=s,l));this.removeAttribute(e)}}function dW(e,t,n){var r,o,i;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:s===r&&a===o?i:(o=a,i=t(r=s,l));this.removeAttributeNS(e.space,e.local)}}function hW(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}function fW(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o}function pW(e,t){return function(){eV(this,e).delay=+t.apply(this,arguments)}}function mW(e,t){return t=+t,function(){eV(this,e).delay=t}}function gW(e,t){return function(){tV(this,e).duration=+t.apply(this,arguments)}}function vW(e,t){return t=+t,function(){tV(this,e).duration=t}}var yW=yF.prototype.constructor;function bW(e){return function(){this.style.removeProperty(e)}}var wW=0;function xW(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function SW(){return++wW}var kW=yF.prototype;xW.prototype=function(e){return yF().transition(e)}.prototype={constructor:xW,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=aj(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var a,l,c=r[s],u=c.length,d=i[s]=new Array(u),h=0;h<u;++h)(a=c[h])&&(l=e.call(a,a.__data__,h,c))&&("__data__"in a&&(l.__data__=a.__data__),d[h]=l,JF(d[h],t,n,h,d,nV(a,n)));return new xW(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=cj(e));for(var r=this._groups,o=r.length,i=[],s=[],a=0;a<o;++a)for(var l,c=r[a],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,f=e.call(l,l.__data__,d,c),p=nV(l,n),m=0,g=f.length;m<g;++m)(h=f[m])&&JF(h,t,n,m,f,p);i.push(f),s.push(l)}return new xW(i,s,t,n)},selectChild:kW.selectChild,selectChildren:kW.selectChildren,filter:function(e){"function"!==typeof e&&(e=dj(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,s=t[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(i=s[c])&&e.call(i,i.__data__,c,s)&&l.push(i);return new xW(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),a=0;a<i;++a)for(var l,c=t[a],u=n[a],d=c.length,h=s[a]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(h[f]=l);for(;a<r;++a)s[a]=t[a];return new xW(s,this._parents,this._name,this._id)},selection:function(){return new yW(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=SW(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s,a=r[i],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=nV(s,t);JF(s,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new xW(r,this._parents,e,n)},call:kW.call,nodes:kW.nodes,node:kW.node,size:kW.size,empty:kW.empty,each:kW.each,on:function(e,t){var n=this._id;return arguments.length<2?nV(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?eV:tV;return function(){var s=i(this,e),a=s.on;a!==r&&(o=(r=a).copy()).on(t,n),s.on=o}}(n,e,t))},attr:function(e,t){var n=Ej(e),r="transform"===n?dV:iW;return this.attrTween(e,"function"===typeof t?(n.local?dW:uW)(n,r,pV(this,"attr."+e,t)):null==t?(n.local?aW:sW)(n):(n.local?cW:lW)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=Ej(e);return this.tween(n,(r.local?hW:fW)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?uV:iW;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=Lj(this,e),s=(this.style.removeProperty(e),Lj(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}(e,r)).on("end.style."+e,bW(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var s=Lj(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=Lj(this,e)),s===l?null:s===r&&l===o?i:(o=l,i=t(r=s,a))}}(e,r,pV(this,"style."+e,t))).each(function(e,t){var n,r,o,i,s="style."+t,a="end."+s;return function(){var l=tV(this,e),c=l.on,u=null==l.value[s]?i||(i=bW(t)):void 0;c===n&&o===u||(r=(n=c).copy()).on(a,o=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var s=Lj(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,i,n)),r}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(pV(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=nV(this.node(),n).tween,i=0,s=o.length;i<s;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?hV:fV)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?pW:mW)(t,e)):nV(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?gW:vW)(t,e)):nV(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){tV(this,e).ease=t}}(t,e)):nV(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;tV(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(i,s){var a={value:s},l={value:function(){0===--o&&i()}};n.each((function(){var n=tV(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t})),0===o&&i()}))},[Symbol.iterator]:kW[Symbol.iterator]};var CW={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function _W(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}yF.prototype.interrupt=function(e){return this.each((function(){rV(this,e)}))},yF.prototype.transition=function(e){var t,n;e instanceof xW?(t=e._id,e=e._name):(t=SW(),(n=CW).time=zF(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s,a=r[i],l=a.length,c=0;c<l;++c)(s=a[c])&&JF(s,e,t,c,a,n||_W(s,t));return new xW(r,this._parents,e,t)};const EW=e=>()=>e;function AW(e,t){let{sourceEvent:n,target:r,transform:o,dispatch:i}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function MW(e,t,n){this.k=e,this.x=t,this.y=n}MW.prototype={constructor:MW,scale:function(e){return 1===e?this:new MW(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new MW(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var TW=new MW(1,0,0);function PW(e){e.stopImmediatePropagation()}function OW(e){e.preventDefault(),e.stopImmediatePropagation()}function NW(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function DW(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function RW(){return this.__zoom||TW}function IW(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function zW(){return navigator.maxTouchPoints||"ontouchstart"in this}function LW(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function BW(){var e,t,n,r=NW,o=DW,i=LW,s=IW,a=zW,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=kF,h=ij("start","zoom","end"),f=500,p=150,m=0,g=10;function v(e){e.property("__zoom",RW).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",E).filter(a).on("touchstart.zoom",A).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new MW(t,e.x,e.y)}function b(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new MW(e.k,r,o)}function w(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,t,n,r){e.on("start.zoom",(function(){S(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){S(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,i=arguments,s=S(e,i).event(r),a=o.apply(e,i),l=null==n?w(a):"function"===typeof n?n.apply(e,i):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=e.__zoom,h="function"===typeof t?t.apply(e,i):t,f=d(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=f(e),n=c/t[2];e=new MW(n,l[0]-t[0]*n,l[1]-t[1]*n)}s.zoom(null,e)}}))}function S(e,t,n){return!n&&e.__zooming||new k(e,t)}function k(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var a=S(this,n).event(e),u=this.__zoom,d=Math.max(l[0],Math.min(l[1],u.k*Math.pow(2,s.apply(this,arguments)))),h=CF(e);if(a.wheel)a.mouse[0][0]===h[0]&&a.mouse[0][1]===h[1]||(a.mouse[1]=u.invert(a.mouse[0]=h)),clearTimeout(a.wheel);else{if(u.k===d)return;a.mouse=[h,u.invert(h)],rV(this),a.start()}OW(e),a.wheel=setTimeout((function(){a.wheel=null,a.end()}),p),a.zoom("mouse",i(b(y(u,d),a.mouse[0],a.mouse[1]),a.extent,c))}}function _(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];if(!n&&r.apply(this,arguments)){var a=e.currentTarget,l=S(this,o,!0).event(e),u=bF(e.view).on("mousemove.zoom",(function(e){if(OW(e),!l.moved){var t=e.clientX-h,n=e.clientY-f;l.moved=t*t+n*n>m}l.event(e).zoom("mouse",i(b(l.that.__zoom,l.mouse[0]=CF(e,a),l.mouse[1]),l.extent,c))}),!0).on("mouseup.zoom",(function(e){u.on("mousemove.zoom mouseup.zoom",null),function(e,t){var n=e.document.documentElement,r=bF(e).on("dragstart.drag",null);t&&(r.on("click.drag",xF,wF),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(e.view,l.moved),OW(e),l.event(e).end()}),!0),d=CF(e,a),h=e.clientX,f=e.clientY;!function(e){var t=e.document.documentElement,n=bF(e).on("dragstart.drag",xF,wF);"onselectstart"in t?n.on("selectstart.drag",xF,wF):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}(e.view),PW(e),l.mouse=[d,this.__zoom.invert(d)],rV(this),l.start()}}function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(r.apply(this,arguments)){var a=this.__zoom,l=CF(e.changedTouches?e.changedTouches[0]:e,this),d=a.invert(l),h=a.k*(e.shiftKey?.5:2),f=i(b(y(a,h),l,d),o.apply(this,n),c);OW(e),u>0?bF(this).transition().duration(u).call(x,f,l,e):bF(this).call(v.transform,f,l,e)}}function A(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];if(r.apply(this,arguments)){var a,l,c,u,d=n.touches,h=d.length,p=S(this,i,n.changedTouches.length===h).event(n);for(PW(n),l=0;l<h;++l)u=[u=CF(c=d[l],this),this.__zoom.invert(u),c.identifier],p.touch0?p.touch1||p.touch0[2]===u[2]||(p.touch1=u,p.taps=0):(p.touch0=u,a=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),a&&(p.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),f)),rV(this),p.start())}}function M(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o,s,a,l,u=S(this,n).event(e),d=e.changedTouches,h=d.length;for(OW(e),o=0;o<h;++o)a=CF(s=d[o],this),u.touch0&&u.touch0[2]===s.identifier?u.touch0[0]=a:u.touch1&&u.touch1[2]===s.identifier&&(u.touch1[0]=a);if(s=u.that.__zoom,u.touch1){var f=u.touch0[0],p=u.touch0[1],m=u.touch1[0],g=u.touch1[1],v=(v=m[0]-f[0])*v+(v=m[1]-f[1])*v,w=(w=g[0]-p[0])*w+(w=g[1]-p[1])*w;s=y(s,Math.sqrt(v/w)),a=[(f[0]+m[0])/2,(f[1]+m[1])/2],l=[(p[0]+g[0])/2,(p[1]+g[1])/2]}else{if(!u.touch0)return;a=u.touch0[0],l=u.touch0[1]}u.zoom("touch",i(b(s,a,l),u.extent,c))}}function T(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];if(this.__zooming){var s,a,l=S(this,o).event(e),c=e.changedTouches,u=c.length;for(PW(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),f),s=0;s<u;++s)a=c[s],l.touch0&&l.touch0[2]===a.identifier?delete l.touch0:l.touch1&&l.touch1[2]===a.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(a=CF(a,this),Math.hypot(t[0]-a[0],t[1]-a[1])<g)){var d=bF(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return v.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",RW),e!==o?x(e,t,n,r):o.interrupt().each((function(){S(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},v.scaleBy=function(e,t,n,r){v.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,r)},v.scaleTo=function(e,t,n,r){v.transform(e,(function(){var e=o.apply(this,arguments),r=this.__zoom,s=null==n?w(e):"function"===typeof n?n.apply(this,arguments):n,a=r.invert(s),l="function"===typeof t?t.apply(this,arguments):t;return i(b(y(r,l),s,a),e,c)}),n,r)},v.translateBy=function(e,t,n,r){v.transform(e,(function(){return i(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),o.apply(this,arguments),c)}),null,r)},v.translateTo=function(e,t,n,r,s){v.transform(e,(function(){var e=o.apply(this,arguments),s=this.__zoom,a=null==r?w(e):"function"===typeof r?r.apply(this,arguments):r;return i(TW.translate(a[0],a[1]).scale(s.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)}),r,s)},k.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=bF(this.that).datum();h.call(e,this.that,new AW(e,{sourceEvent:this.sourceEvent,target:v,type:e,transform:this.that.__zoom,dispatch:h}),t)}},v.wheelDelta=function(e){return arguments.length?(s="function"===typeof e?e:EW(+e),v):s},v.filter=function(e){return arguments.length?(r="function"===typeof e?e:EW(!!e),v):r},v.touchable=function(e){return arguments.length?(a="function"===typeof e?e:EW(!!e),v):a},v.extent=function(e){return arguments.length?(o="function"===typeof e?e:EW([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),v):o},v.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],v):[l[0],l[1]]},v.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(e){return arguments.length?(i=e,v):i},v.duration=function(e){return arguments.length?(u=+e,v):u},v.interpolate=function(e){return arguments.length?(d=e,v):d},v.on=function(){var e=h.on.apply(h,arguments);return e===h?v:e},v.clickDistance=function(e){return arguments.length?(m=(e=+e)*e,v):Math.sqrt(m)},v.tapDistance=function(e){return arguments.length?(g=+e,v):g},v}MW.prototype;const jW={passive:!1},FW={capture:!0,passive:!1};function VW(e){e.stopImmediatePropagation()}function WW(e){e.preventDefault(),e.stopImmediatePropagation()}const HW=e=>()=>e;function UW(e,t){let{sourceEvent:n,subject:r,target:o,identifier:i,active:s,x:a,y:l,dx:c,dy:u,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function qW(e){return!e.ctrlKey&&!e.button}function KW(){return this.parentNode}function YW(e,t){return null==t?{x:e.x,y:e.y}:t}function $W(){return navigator.maxTouchPoints||"ontouchstart"in this}function XW(){var e,t,n,r,o=qW,i=KW,s=YW,a=$W,l={},c=ij("start","drag","end"),u=0,d=0;function h(e){e.on("mousedown.drag",f).filter(a).on("touchstart.drag",g).on("touchmove.drag",v,jW).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(s,a){if(!r&&o.call(this,s,a)){var l=b(this,i.call(this,s,a),s,a,"mouse");l&&(bF(s.view).on("mousemove.drag",p,FW).on("mouseup.drag",m,FW),function(e){var t=e.document.documentElement,n=bF(e).on("dragstart.drag",WW,FW);"onselectstart"in t?n.on("selectstart.drag",WW,FW):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}(s.view),VW(s),n=!1,e=s.clientX,t=s.clientY,l("start",s))}}function p(r){if(WW(r),!n){var o=r.clientX-e,i=r.clientY-t;n=o*o+i*i>d}l.mouse("drag",r)}function m(e){bF(e.view).on("mousemove.drag mouseup.drag",null),function(e,t){var n=e.document.documentElement,r=bF(e).on("dragstart.drag",null);t&&(r.on("click.drag",WW,FW),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(e.view,n),WW(e),l.mouse("end",e)}function g(e,t){if(o.call(this,e,t)){var n,r,s=e.changedTouches,a=i.call(this,e,t),l=s.length;for(n=0;n<l;++n)(r=b(this,a,e,t,s[n].identifier,s[n]))&&(VW(e),r("start",e,s[n]))}}function v(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=l[r[t].identifier])&&(WW(e),n("drag",e,r[t]))}function y(e){var t,n,o=e.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=l[o[t].identifier])&&(VW(e),n("end",e,o[t]))}function b(e,t,n,r,o,i){var a,d,f,p=c.copy(),m=CF(i||n,t);if(null!=(f=s.call(e,new UW("beforestart",{sourceEvent:n,target:h,identifier:o,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),r)))return a=f.x-m[0]||0,d=f.y-m[1]||0,function n(i,s,c){var g,v=m;switch(i){case"start":l[o]=n,g=u++;break;case"end":delete l[o],--u;case"drag":m=CF(c||s,t),g=u}p.call(i,e,new UW(i,{sourceEvent:s,subject:f,target:h,identifier:o,active:g,x:m[0]+a,y:m[1]+d,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:p}),r)}}return h.filter=function(e){return arguments.length?(o="function"===typeof e?e:HW(!!e),h):o},h.container=function(e){return arguments.length?(i="function"===typeof e?e:HW(e),h):i},h.subject=function(e){return arguments.length?(s="function"===typeof e?e:HW(e),h):s},h.touchable=function(e){return arguments.length?(a="function"===typeof e?e:HW(!!e),h):a},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h}UW.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};const GW=(0,t.createContext)(null),ZW=GW.Provider,QW={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>"The old edge with id=".concat(e," does not exist."),error009:e=>'Marker type "'.concat(e,"\" doesn't exist."),error008:(e,t)=>"Couldn't create edge for ".concat(e?"target":"source",' handle id: "').concat(e?t.targetHandle:t.sourceHandle,'", edge id: ').concat(t.id,"."),error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),error012:e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.')},JW=QW.error001();function eH(e,n){const r=(0,t.useContext)(GW);if(null===r)throw new Error(JW);return hR(r,e,n)}const tH=()=>{const e=(0,t.useContext)(GW);if(null===e)throw new Error(JW);return(0,t.useMemo)((()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy})),[e])},nH=e=>e.userSelectionActive?"none":"all";function rH(e){let{position:n,children:r,className:o,style:i,...s}=e;const a=eH(nH),l="".concat(n).split("-");return t.createElement("div",{className:JB(["react-flow__panel",o,...l]),style:{...i,pointerEvents:a},...s},r)}function oH(e){let{proOptions:n,position:r="bottom-right"}=e;return null!==n&&void 0!==n&&n.hideAttribution?null:t.createElement(rH,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},t.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var iH=(0,t.memo)((e=>{let{x:n,y:r,label:o,labelStyle:i={},labelShowBg:s=!0,labelBgStyle:a={},labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:u,className:d,...h}=e;const f=(0,t.useRef)(null),[p,m]=(0,t.useState)({x:0,y:0,width:0,height:0}),g=JB(["react-flow__edge-textwrapper",d]);return(0,t.useEffect)((()=>{if(f.current){const e=f.current.getBBox();m({x:e.x,y:e.y,width:e.width,height:e.height})}}),[o]),"undefined"!==typeof o&&o?t.createElement("g",{transform:"translate(".concat(n-p.width/2," ").concat(r-p.height/2,")"),className:g,visibility:p.width?"visible":"hidden",...h},s&&t.createElement("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:a,rx:c,ry:c}),t.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:f,style:i},o),u):null}));const sH=e=>({width:e.offsetWidth,height:e.offsetHeight}),aH=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},lH=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:aH(e.x,t[0][0],t[1][0]),y:aH(e.y,t[0][1],t[1][1])}},cH=(e,t,n)=>e<t?aH(Math.abs(e-t),1,50)/50:e>n?-aH(Math.abs(e-n),1,50)/50:0,uH=(e,t)=>[20*cH(e.x,35,t.width-35),20*cH(e.y,35,t.height-35)],dH=e=>{var t,n;return(null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},hH=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),fH=e=>{let{x:t,y:n,width:r,height:o}=e;return{x:t,y:n,x2:t+r,y2:n+o}},pH=e=>{let{x:t,y:n,x2:r,y2:o}=e;return{x:t,y:n,width:r-t,height:o-n}},mH=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),gH=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},vH=e=>yH(e.width)&&yH(e.height)&&yH(e.x)&&yH(e.y),yH=e=>!isNaN(e)&&isFinite(e),bH=Symbol.for("internals"),wH=["Enter"," ","Escape"],xH=(e,t)=>{0};function SH(e){var t;const n=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,r=(null===(t=n.composedPath)||void 0===t||null===(t=t.call(n))||void 0===t?void 0:t[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null===r||void 0===r?void 0:r.nodeName)||(null===r||void 0===r?void 0:r.hasAttribute("contenteditable"))||!(null===r||void 0===r||!r.closest(".nokey"))}const kH=e=>"clientX"in e,CH=(e,t)=>{var n,r,o,i;const s=kH(e),a=s?e.clientX:null===(n=e.touches)||void 0===n?void 0:n[0].clientX,l=s?e.clientY:null===(r=e.touches)||void 0===r?void 0:r[0].clientY;return{x:a-(null!==(o=null===t||void 0===t?void 0:t.left)&&void 0!==o?o:0),y:l-(null!==(i=null===t||void 0===t?void 0:t.top)&&void 0!==i?i:0)}},_H=()=>{var e;return"undefined"!==typeof navigator&&(null===(e=navigator)||void 0===e||null===(e=e.userAgent)||void 0===e?void 0:e.indexOf("Mac"))>=0},EH=e=>{let{id:n,path:r,labelX:o,labelY:i,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:m=20}=e;return t.createElement(t.Fragment,null,t.createElement("path",{id:n,style:h,d:r,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:p}),m&&t.createElement("path",{d:r,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),s&&yH(o)&&yH(i)?t.createElement(iH,{x:o,y:i,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d}):null)};EH.displayName="BaseEdge";function AH(e,t,n){return void 0===n?n:r=>{const o=t().edges.find((t=>t.id===e));o&&n(r,{...o})}}function MH(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e;const i=Math.abs(r-t)/2,s=r<t?r+i:r-i,a=Math.abs(o-n)/2;return[s,o<n?o+a:o-a,i,a]}function TH(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o,sourceControlX:i,sourceControlY:s,targetControlX:a,targetControlY:l}=e;const c=.125*t+.375*i+.375*a+.125*r,u=.125*n+.375*s+.375*l+.125*o;return[c,u,Math.abs(c-t),Math.abs(u-n)]}var PH,OH,NH,DH,RH,IH;function zH(e){let{pos:t,x1:n,y1:r,x2:o,y2:i}=e;return t===IH.Left||t===IH.Right?[.5*(n+o),r]:[n,.5*(r+i)]}function LH(e){let{sourceX:t,sourceY:n,sourcePosition:r=IH.Bottom,targetX:o,targetY:i,targetPosition:s=IH.Top}=e;const[a,l]=zH({pos:r,x1:t,y1:n,x2:o,y2:i}),[c,u]=zH({pos:s,x1:o,y1:i,x2:t,y2:n}),[d,h,f,p]=TH({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(a,",").concat(l," ").concat(c,",").concat(u," ").concat(o,",").concat(i),d,h,f,p]}!function(e){e.Strict="strict",e.Loose="loose"}(PH||(PH={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(OH||(OH={})),function(e){e.Partial="partial",e.Full="full"}(NH||(NH={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(DH||(DH={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(RH||(RH={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(IH||(IH={}));const BH=(0,t.memo)((e=>{let{sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=IH.Bottom,targetPosition:a=IH.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,interactionWidth:v}=e;const[y,b,w]=LH({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:a});return t.createElement(EH,{path:y,labelX:b,labelY:w,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,interactionWidth:v})}));BH.displayName="SimpleBezierEdge";const jH={[IH.Left]:{x:-1,y:0},[IH.Right]:{x:1,y:0},[IH.Top]:{x:0,y:-1},[IH.Bottom]:{x:0,y:1}},FH=e=>{let{source:t,sourcePosition:n=IH.Bottom,target:r}=e;return n===IH.Left||n===IH.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}},VH=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function WH(e){let{sourceX:t,sourceY:n,sourcePosition:r=IH.Bottom,targetX:o,targetY:i,targetPosition:s=IH.Top,borderRadius:a=5,centerX:l,centerY:c,offset:u=20}=e;const[d,h,f,p,m]=function(e){let{source:t,sourcePosition:n=IH.Bottom,target:r,targetPosition:o=IH.Top,center:i,offset:s}=e;const a=jH[n],l=jH[o],c={x:t.x+a.x*s,y:t.y+a.y*s},u={x:r.x+l.x*s,y:r.y+l.y*s},d=FH({source:c,sourcePosition:n,target:u}),h=0!==d.x?"x":"y",f=d[h];let p,m,g=[];const v={x:0,y:0},y={x:0,y:0},[b,w,x,S]=MH({sourceX:t.x,sourceY:t.y,targetX:r.x,targetY:r.y});if(a[h]*l[h]===-1){var k,C;p=null!==(k=i.x)&&void 0!==k?k:b,m=null!==(C=i.y)&&void 0!==C?C:w;const e=[{x:p,y:c.y},{x:p,y:u.y}],t=[{x:c.x,y:m},{x:u.x,y:m}];g=a[h]===f?"x"===h?e:t:"x"===h?t:e}else{const e=[{x:c.x,y:u.y}],i=[{x:u.x,y:c.y}];if(g="x"===h?a.x===f?i:e:a.y===f?e:i,n===o){const e=Math.abs(t[h]-r[h]);if(e<=s){const n=Math.min(s-1,s-e);a[h]===f?v[h]=(c[h]>t[h]?-1:1)*n:y[h]=(u[h]>r[h]?-1:1)*n}}if(n!==o){const t="x"===h?"y":"x",n=a[h]===l[t],r=c[t]>u[t],o=c[t]<u[t];(1===a[h]&&(!n&&r||n&&o)||1!==a[h]&&(!n&&o||n&&r))&&(g="x"===h?e:i)}const d={x:c.x+v.x,y:c.y+v.y},b={x:u.x+y.x,y:u.y+y.y};Math.max(Math.abs(d.x-g[0].x),Math.abs(b.x-g[0].x))>=Math.max(Math.abs(d.y-g[0].y),Math.abs(b.y-g[0].y))?(p=(d.x+b.x)/2,m=g[0].y):(p=g[0].x,m=(d.y+b.y)/2)}return[[t,{x:c.x+v.x,y:c.y+v.y},...g,{x:u.x+y.x,y:u.y+y.y},r],p,m,x,S]}({source:{x:t,y:n},sourcePosition:r,target:{x:o,y:i},targetPosition:s,center:{x:l,y:c},offset:u}),g=d.reduce(((e,t,n)=>{let r="";return r=n>0&&n<d.length-1?function(e,t,n,r){const o=Math.min(VH(e,t)/2,VH(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return"L".concat(i," ").concat(s);if(e.y===s){const t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return"L ".concat(i+o*t,",").concat(s,"Q ").concat(i,",").concat(s," ").concat(i,",").concat(s+o*r)}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return"L ".concat(i,",").concat(s+o*l,"Q ").concat(i,",").concat(s," ").concat(i+o*a,",").concat(s)}(d[n-1],t,d[n+1],a):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y),e+=r}),"");return[g,h,f,p,m]}const HH=(0,t.memo)((e=>{let{sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,sourcePosition:f=IH.Bottom,targetPosition:p=IH.Top,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:y}=e;const[b,w,x]=WH({sourceX:n,sourceY:r,sourcePosition:f,targetX:o,targetY:i,targetPosition:p,borderRadius:null===v||void 0===v?void 0:v.borderRadius,offset:null===v||void 0===v?void 0:v.offset});return t.createElement(EH,{path:b,labelX:w,labelY:x,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:g,interactionWidth:y})}));HH.displayName="SmoothStepEdge";const UH=(0,t.memo)((e=>{var n;return t.createElement(HH,{...e,pathOptions:(0,t.useMemo)((()=>{var t;return{borderRadius:0,offset:null===(t=e.pathOptions)||void 0===t?void 0:t.offset}}),[null===(n=e.pathOptions)||void 0===n?void 0:n.offset])})}));UH.displayName="StepEdge";const qH=(0,t.memo)((e=>{let{sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:m}=e;const[g,v,y]=function(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e;const[i,s,a,l]=MH({sourceX:t,sourceY:n,targetX:r,targetY:o});return["M ".concat(t,",").concat(n,"L ").concat(r,",").concat(o),i,s,a,l]}({sourceX:n,sourceY:r,targetX:o,targetY:i});return t.createElement(EH,{path:g,labelX:v,labelY:y,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:m})}));function KH(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function YH(e){let{pos:t,x1:n,y1:r,x2:o,y2:i,c:s}=e;switch(t){case IH.Left:return[n-KH(n-o,s),r];case IH.Right:return[n+KH(o-n,s),r];case IH.Top:return[n,r-KH(r-i,s)];case IH.Bottom:return[n,r+KH(i-r,s)]}}function $H(e){let{sourceX:t,sourceY:n,sourcePosition:r=IH.Bottom,targetX:o,targetY:i,targetPosition:s=IH.Top,curvature:a=.25}=e;const[l,c]=YH({pos:r,x1:t,y1:n,x2:o,y2:i,c:a}),[u,d]=YH({pos:s,x1:o,y1:i,x2:t,y2:n,c:a}),[h,f,p,m]=TH({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(l,",").concat(c," ").concat(u,",").concat(d," ").concat(o,",").concat(i),h,f,p,m]}qH.displayName="StraightEdge";const XH=(0,t.memo)((e=>{let{sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=IH.Bottom,targetPosition:a=IH.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:y}=e;const[b,w,x]=$H({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:a,curvature:null===v||void 0===v?void 0:v.curvature});return t.createElement(EH,{path:b,labelX:w,labelY:x,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,interactionWidth:y})}));XH.displayName="BezierEdge";const GH=(0,t.createContext)(null),ZH=GH.Provider;GH.Consumer;const QH=e=>{let{source:t,sourceHandle:n,target:r,targetHandle:o}=e;return"reactflow__edge-".concat(t).concat(n||"","-").concat(r).concat(o||"")},JH=(e,t)=>{if("undefined"===typeof e)return"";if("string"===typeof e)return e;const n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map((t=>"".concat(t,"=").concat(e[t]))).join("&"))},eU=(e,t,n,r)=>{let{x:o,y:i}=e,[s,a,l]=t,[c,u]=r;const d={x:(o-s)/l,y:(i-a)/l};return n?{x:c*Math.round(d.x/c),y:u*Math.round(d.y/u)}:d},tU=(e,t)=>{let{x:n,y:r}=e,[o,i,s]=t;return{x:n*s+o,y:r*s+i}},nU=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const o=(null!==(t=e.width)&&void 0!==t?t:0)*r[0],i=(null!==(n=e.height)&&void 0!==n?n:0)*r[1],s={x:e.position.x-o,y:e.position.y-i};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-o,y:e.positionAbsolute.y-i}:s}},rU=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce(((e,n)=>{const{x:r,y:o}=nU(n,t).positionAbsolute;return hH(e,fH({x:r,y:o,width:n.width||0,height:n.height||0}))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return pH(n)},oU=function(e,t){let[n,r,o]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0];const l={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},c=[];return e.forEach((e=>{const{width:t,height:n,selectable:r=!0,hidden:o=!1}=e;if(s&&!r||o)return!1;const{positionAbsolute:u}=nU(e,a),d={x:u.x,y:u.y,width:t||0,height:n||0},h=gH(l,d);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||i&&h>0||h>=(t||0)*(n||0)||e.dragging)&&c.push(e)})),c},iU=(e,t)=>{const n=e.map((e=>e.id));return t.filter((e=>n.includes(e.source)||n.includes(e.target)))},sU=function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1;const s=t/(e.width*(1+i)),a=n/(e.height*(1+i)),l=Math.min(s,a),c=aH(l,r,o);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},aU=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function lU(e,t,n,r){return(t[n]||[]).reduce(((t,o)=>{var i,s,a,l;"".concat(e.id,"-").concat(o.id,"-").concat(n)!==r&&t.push({id:o.id||null,type:n,nodeId:e.id,x:(null!==(i=null===(s=e.positionAbsolute)||void 0===s?void 0:s.x)&&void 0!==i?i:0)+o.x+o.width/2,y:(null!==(a=null===(l=e.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==a?a:0)+o.y+o.height/2});return t}),[])}const cU={source:null,target:null,sourceHandle:null,targetHandle:null},uU=()=>({handleDomNode:null,isValid:!1,connection:cU,endHandle:null});function dU(e,t,n,r,o,i,s){const a="target"===o,l=s.querySelector('.react-flow__handle[data-id="'.concat(null===e||void 0===e?void 0:e.nodeId,"-").concat(null===e||void 0===e?void 0:e.id,"-").concat(null===e||void 0===e?void 0:e.type,'"]')),c={...uU(),handleDomNode:l};if(l){const e=hU(void 0,l),o=l.getAttribute("data-nodeid"),s=l.getAttribute("data-handleid"),u=l.classList.contains("connectable"),d=l.classList.contains("connectableend"),h={source:a?o:n,sourceHandle:a?s:r,target:a?n:o,targetHandle:a?r:s};c.connection=h;u&&d&&(t===PH.Strict?a&&"source"===e||!a&&"target"===e:o!==n||s!==r)&&(c.endHandle={nodeId:o,handleId:s,type:e},c.isValid=i(h))}return c}function hU(e,t){return e||(null!==t&&void 0!==t&&t.classList.contains("target")?"target":null!==t&&void 0!==t&&t.classList.contains("source")?"source":null)}function fU(e){null===e||void 0===e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function pU(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function mU(e){let{event:t,handleId:n,nodeId:r,onConnect:o,isTarget:i,getState:s,setState:a,isValidConnection:l,edgeUpdaterType:c,onEdgeUpdateEnd:u}=e;const d=dH(t.target),{connectionMode:h,domNode:f,autoPanOnConnect:p,connectionRadius:m,onConnectStart:g,panBy:v,getNodes:y,cancelConnection:b}=s();let w,x=0;const{x:S,y:k}=CH(t),C=null===d||void 0===d?void 0:d.elementFromPoint(S,k),_=hU(c,C),E=null===f||void 0===f?void 0:f.getBoundingClientRect();if(!E||!_)return;let A,M=CH(t,E),T=!1,P=null,O=!1,N=null;const D=function(e){let{nodes:t,nodeId:n,handleId:r,handleType:o}=e;return t.reduce(((e,t)=>{if(t[bH]){const{handleBounds:i}=t[bH];let s=[],a=[];i&&(s=lU(t,i,"source","".concat(n,"-").concat(r,"-").concat(o)),a=lU(t,i,"target","".concat(n,"-").concat(r,"-").concat(o))),e.push(...s,...a)}return e}),[])}({nodes:y(),nodeId:r,handleId:n,handleType:_}),R=()=>{if(!p)return;const[e,t]=uH(M,E);v({x:e,y:t}),x=requestAnimationFrame(R)};function I(e){const{transform:t}=s();M=CH(e,E);const{handle:o,validHandleResult:c}=function(e,t,n,r,o,i){const{x:s,y:a}=CH(e),l=t.elementsFromPoint(s,a).find((e=>e.classList.contains("react-flow__handle")));if(l){const e=l.getAttribute("data-nodeid");if(e){const t=hU(void 0,l),r=l.getAttribute("data-handleid"),s=i({nodeId:e,id:r,type:t});if(s){const i=o.find((n=>n.nodeId===e&&n.type===t&&n.id===r));return{handle:{id:r,type:t,nodeId:e,x:(null===i||void 0===i?void 0:i.x)||n.x,y:(null===i||void 0===i?void 0:i.y)||n.y},validHandleResult:s}}}}let c=[],u=1/0;if(o.forEach((e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=r){const n=i(e);t<=u&&(t<u?c=[{handle:e,validHandleResult:n}]:t===u&&c.push({handle:e,validHandleResult:n}),u=t)}})),!c.length)return{handle:null,validHandleResult:uU()};if(1===c.length)return c[0];const d=c.some((e=>{let{validHandleResult:t}=e;return t.isValid})),h=c.some((e=>{let{handle:t}=e;return"target"===t.type}));return c.find((e=>{let{handle:t,validHandleResult:n}=e;return h?"target"===t.type:!d||n.isValid}))||c[0]}(e,d,eU(M,t,!1,[1,1]),m,D,(e=>dU(e,h,r,n,i?"target":"source",l,d)));if(w=o,T||(R(),T=!0),N=c.handleDomNode,P=c.connection,O=c.isValid,a({connectionPosition:w&&O?tU({x:w.x,y:w.y},t):M,connectionStatus:pU(!!w,O),connectionEndHandle:c.endHandle}),!w&&!O&&!N)return fU(A);P.source!==P.target&&N&&(fU(A),A=N,N.classList.add("connecting","react-flow__handle-connecting"),N.classList.toggle("valid",O),N.classList.toggle("react-flow__handle-valid",O))}function z(e){var t,n;(w||N)&&P&&O&&(null===o||void 0===o||o(P)),null===(t=(n=s()).onConnectEnd)||void 0===t||t.call(n,e),c&&(null===u||void 0===u||u(e)),fU(A),b(),cancelAnimationFrame(x),T=!1,O=!1,P=null,N=null,d.removeEventListener("mousemove",I),d.removeEventListener("mouseup",z),d.removeEventListener("touchmove",I),d.removeEventListener("touchend",z)}a({connectionPosition:M,connectionStatus:null,connectionNodeId:r,connectionHandleId:n,connectionHandleType:_,connectionStartHandle:{nodeId:r,handleId:n,type:_},connectionEndHandle:null}),null===g||void 0===g||g(t,{nodeId:r,handleId:n,handleType:_}),d.addEventListener("mousemove",I),d.addEventListener("mouseup",z),d.addEventListener("touchmove",I),d.addEventListener("touchend",z)}const gU=()=>!0,vU=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),yU=(0,t.forwardRef)(((e,n)=>{let{type:r="source",position:o=IH.Top,isValidConnection:i,isConnectable:s=!0,isConnectableStart:a=!0,isConnectableEnd:l=!0,id:c,onConnect:u,children:d,className:h,onMouseDown:f,onTouchStart:p,...m}=e;const g=c||null,v="target"===r,y=tH(),b=(0,t.useContext)(GH),{connectOnClick:w,noPanClassName:x}=eH(vU,iR),{connecting:S,clickConnecting:k}=eH(((e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:s}=r;return{connecting:(null===o||void 0===o?void 0:o.nodeId)===e&&(null===o||void 0===o?void 0:o.handleId)===t&&(null===o||void 0===o?void 0:o.type)===n||(null===i||void 0===i?void 0:i.nodeId)===e&&(null===i||void 0===i?void 0:i.handleId)===t&&(null===i||void 0===i?void 0:i.type)===n,clickConnecting:(null===s||void 0===s?void 0:s.nodeId)===e&&(null===s||void 0===s?void 0:s.handleId)===t&&(null===s||void 0===s?void 0:s.type)===n}})(b,g,r),iR);var C,_;b||(null===(C=(_=y.getState()).onError)||void 0===C||C.call(_,"010",QW.error010()));const E=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=y.getState(),o={...t,...e};if(r){const{edges:e,setEdges:t}=y.getState();t(((e,t)=>{if(!e.source||!e.target)return xH(0,QW.error006()),t;let n;var r;return n="id"in(r=e)&&"source"in r&&"target"in r?{...e}:{...e,id:QH(e)},((e,t)=>t.some((t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle))))(n,t)?t:t.concat(n)})(o,e))}null===n||void 0===n||n(o),null===u||void 0===u||u(o)},A=e=>{if(!b)return;const t=kH(e);a&&(t&&0===e.button||!t)&&mU({event:e,handleId:g,nodeId:b,onConnect:E,isTarget:v,getState:y.getState,setState:y.setState,isValidConnection:i||y.getState().isValidConnection||gU}),t?null===f||void 0===f||f(e):null===p||void 0===p||p(e)};return t.createElement("div",{"data-handleid":g,"data-nodeid":b,"data-handlepos":o,"data-id":"".concat(b,"-").concat(g,"-").concat(r),className:JB(["react-flow__handle","react-flow__handle-".concat(o),"nodrag",x,h,{source:!v,target:v,connectable:s,connectablestart:a,connectableend:l,connecting:k,connectionindicator:s&&(a&&!S||l&&S)}]),onMouseDown:A,onTouchStart:A,onClick:w?e=>{const{onClickConnectStart:t,onClickConnectEnd:n,connectionClickStartHandle:o,connectionMode:s,isValidConnection:l}=y.getState();if(!b||!o&&!a)return;if(!o)return null===t||void 0===t||t(e,{nodeId:b,handleId:g,handleType:r}),void y.setState({connectionClickStartHandle:{nodeId:b,type:r,handleId:g}});const c=dH(e.target),u=i||l||gU,{connection:d,isValid:h}=dU({nodeId:b,id:g,type:r},s,o.nodeId,o.handleId||null,o.type,u,c);h&&E(d),null===n||void 0===n||n(e),y.setState({connectionClickStartHandle:null})}:void 0,ref:n,...m},d)}));yU.displayName="Handle";var bU=(0,t.memo)(yU);const wU=e=>{let{data:n,isConnectable:r,targetPosition:o=IH.Top,sourcePosition:i=IH.Bottom}=e;return t.createElement(t.Fragment,null,t.createElement(bU,{type:"target",position:o,isConnectable:r}),null===n||void 0===n?void 0:n.label,t.createElement(bU,{type:"source",position:i,isConnectable:r}))};wU.displayName="DefaultNode";var xU=(0,t.memo)(wU);const SU=e=>{let{data:n,isConnectable:r,sourcePosition:o=IH.Bottom}=e;return t.createElement(t.Fragment,null,null===n||void 0===n?void 0:n.label,t.createElement(bU,{type:"source",position:o,isConnectable:r}))};SU.displayName="InputNode";var kU=(0,t.memo)(SU);const CU=e=>{let{data:n,isConnectable:r,targetPosition:o=IH.Top}=e;return t.createElement(t.Fragment,null,t.createElement(bU,{type:"target",position:o,isConnectable:r}),null===n||void 0===n?void 0:n.label)};CU.displayName="OutputNode";var _U=(0,t.memo)(CU);const EU=()=>null;EU.displayName="GroupNode";const AU=e=>({selectedNodes:e.getNodes().filter((e=>e.selected)),selectedEdges:e.edges.filter((e=>e.selected))}),MU=e=>e.id;function TU(e,t){return iR(e.selectedNodes.map(MU),t.selectedNodes.map(MU))&&iR(e.selectedEdges.map(MU),t.selectedEdges.map(MU))}const PU=(0,t.memo)((e=>{let{onSelectionChange:n}=e;const r=tH(),{selectedNodes:o,selectedEdges:i}=eH(AU,TU);return(0,t.useEffect)((()=>{const e={nodes:o,edges:i};null===n||void 0===n||n(e),r.getState().onSelectionChange.forEach((t=>t(e)))}),[o,i,n]),null}));PU.displayName="SelectionListener";const OU=e=>!!e.onSelectionChange;function NU(e){let{onSelectionChange:n}=e;const r=eH(OU);return n||r?t.createElement(PU,{onSelectionChange:n}):null}const DU=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function RU(e,n){(0,t.useEffect)((()=>{"undefined"!==typeof e&&n(e)}),[e])}function IU(e,n,r){(0,t.useEffect)((()=>{"undefined"!==typeof n&&r({[e]:n})}),[n])}const zU=e=>{let{nodes:n,edges:r,defaultNodes:o,defaultEdges:i,onConnect:s,onConnectStart:a,onConnectEnd:l,onClickConnectStart:c,onClickConnectEnd:u,nodesDraggable:d,nodesConnectable:h,nodesFocusable:f,edgesFocusable:p,edgesUpdatable:m,elevateNodesOnSelect:g,minZoom:v,maxZoom:y,nodeExtent:b,onNodesChange:w,onEdgesChange:x,elementsSelectable:S,connectionMode:k,snapGrid:C,snapToGrid:_,translateExtent:E,connectOnClick:A,defaultEdgeOptions:M,fitView:T,fitViewOptions:P,onNodesDelete:O,onEdgesDelete:N,onNodeDrag:D,onNodeDragStart:R,onNodeDragStop:I,onSelectionDrag:z,onSelectionDragStart:L,onSelectionDragStop:B,noPanClassName:j,nodeOrigin:F,rfId:V,autoPanOnConnect:W,autoPanOnNodeDrag:H,onError:U,connectionRadius:q,isValidConnection:K,nodeDragThreshold:Y}=e;const{setNodes:$,setEdges:X,setDefaultNodesAndEdges:G,setMinZoom:Z,setMaxZoom:Q,setTranslateExtent:J,setNodeExtent:ee,reset:te}=eH(DU,iR),ne=tH();return(0,t.useEffect)((()=>{const e=null===i||void 0===i?void 0:i.map((e=>({...e,...M})));return G(o,e),()=>{te()}}),[]),IU("defaultEdgeOptions",M,ne.setState),IU("connectionMode",k,ne.setState),IU("onConnect",s,ne.setState),IU("onConnectStart",a,ne.setState),IU("onConnectEnd",l,ne.setState),IU("onClickConnectStart",c,ne.setState),IU("onClickConnectEnd",u,ne.setState),IU("nodesDraggable",d,ne.setState),IU("nodesConnectable",h,ne.setState),IU("nodesFocusable",f,ne.setState),IU("edgesFocusable",p,ne.setState),IU("edgesUpdatable",m,ne.setState),IU("elementsSelectable",S,ne.setState),IU("elevateNodesOnSelect",g,ne.setState),IU("snapToGrid",_,ne.setState),IU("snapGrid",C,ne.setState),IU("onNodesChange",w,ne.setState),IU("onEdgesChange",x,ne.setState),IU("connectOnClick",A,ne.setState),IU("fitViewOnInit",T,ne.setState),IU("fitViewOnInitOptions",P,ne.setState),IU("onNodesDelete",O,ne.setState),IU("onEdgesDelete",N,ne.setState),IU("onNodeDrag",D,ne.setState),IU("onNodeDragStart",R,ne.setState),IU("onNodeDragStop",I,ne.setState),IU("onSelectionDrag",z,ne.setState),IU("onSelectionDragStart",L,ne.setState),IU("onSelectionDragStop",B,ne.setState),IU("noPanClassName",j,ne.setState),IU("nodeOrigin",F,ne.setState),IU("rfId",V,ne.setState),IU("autoPanOnConnect",W,ne.setState),IU("autoPanOnNodeDrag",H,ne.setState),IU("onError",U,ne.setState),IU("connectionRadius",q,ne.setState),IU("isValidConnection",K,ne.setState),IU("nodeDragThreshold",Y,ne.setState),RU(n,$),RU(r,X),RU(v,Z),RU(y,Q),RU(E,J),RU(b,ee),null},LU={display:"none"},BU={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},jU="react-flow__node-desc",FU="react-flow__edge-desc",VU="react-flow__aria-live",WU=e=>e.ariaLiveMessage;function HU(e){let{rfId:n}=e;const r=eH(WU);return t.createElement("div",{id:"".concat(VU,"-").concat(n),"aria-live":"assertive","aria-atomic":"true",style:BU},r)}function UU(e){let{rfId:n,disableKeyboardA11y:r}=e;return t.createElement(t.Fragment,null,t.createElement("div",{id:"".concat(jU,"-").concat(n),style:LU},"Press enter or space to select a node.",!r&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),t.createElement("div",{id:"".concat(FU,"-").concat(n),style:LU},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!r&&t.createElement(HU,{rfId:n}))}var qU=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0};const[r,o]=(0,t.useState)(!1),i=(0,t.useRef)(!1),s=(0,t.useRef)(new Set([])),[a,l]=(0,t.useMemo)((()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter((e=>"string"===typeof e)).map((e=>e.split("+"))),n=t.reduce(((e,t)=>e.concat(...t)),[]);return[t,n]}return[[],[]]}),[e]);return(0,t.useEffect)((()=>{const t="undefined"!==typeof document?document:null,r=(null===n||void 0===n?void 0:n.target)||t;if(null!==e){const e=e=>{i.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!i.current||i.current&&!n.actInsideInputWithModifier)&&SH(e))return!1;const t=YU(e.code,l);s.current.add(e[t]),KU(a,s.current,!1)&&(e.preventDefault(),o(!0))},t=e=>{if((!i.current||i.current&&!n.actInsideInputWithModifier)&&SH(e))return!1;const t=YU(e.code,l);KU(a,s.current,!0)?(o(!1),s.current.clear()):s.current.delete(e[t]),"Meta"===e.key&&s.current.clear(),i.current=!1},c=()=>{s.current.clear(),o(!1)};return null===r||void 0===r||r.addEventListener("keydown",e),null===r||void 0===r||r.addEventListener("keyup",t),window.addEventListener("blur",c),()=>{null===r||void 0===r||r.removeEventListener("keydown",e),null===r||void 0===r||r.removeEventListener("keyup",t),window.removeEventListener("blur",c)}}}),[e,o]),r};function KU(e,t,n){return e.filter((e=>n||e.length===t.size)).some((e=>e.every((e=>t.has(e)))))}function YU(e,t){return t.includes(e)?"code":"key"}function $U(e,t,n,r){var o,i,s,a,l,c,u,d;const h=e.parentNode||e.parentId;if(!h)return n;const f=t.get(h),p=nU(f,r);return $U(f,t,{x:(null!==(o=n.x)&&void 0!==o?o:0)+p.x,y:(null!==(i=n.y)&&void 0!==i?i:0)+p.y,z:(null!==(s=null===(a=f[bH])||void 0===a?void 0:a.z)&&void 0!==s?s:0)>(null!==(l=n.z)&&void 0!==l?l:0)?null!==(c=null===(u=f[bH])||void 0===u?void 0:u.z)&&void 0!==c?c:0:null!==(d=n.z)&&void 0!==d?d:0},r)}function XU(e,t,n){e.forEach((r=>{const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error("Parent node ".concat(o," not found"));if(o||null!==n&&void 0!==n&&n[r.id]){var i,s;const{x:o,y:a,z:l}=$U(r,e,{...r.position,z:null!==(i=null===(s=r[bH])||void 0===s?void 0:s.z)&&void 0!==i?i:0},t);r.positionAbsolute={x:o,y:a},r[bH].z=l,null!==n&&void 0!==n&&n[r.id]&&(r[bH].isParent=!0)}}))}function GU(e,t,n,r){const o=new Map,i={},s=r?1e3:0;return e.forEach((e=>{var n;const r=(yH(e.zIndex)?e.zIndex:0)+(e.selected?s:0),a=t.get(e.id),l={...e,positionAbsolute:{x:e.position.x,y:e.position.y}},c=e.parentNode||e.parentId;c&&(i[c]=!0);const u=(null===a||void 0===a?void 0:a.type)&&(null===a||void 0===a?void 0:a.type)!==e.type;Object.defineProperty(l,bH,{enumerable:!1,value:{handleBounds:u||null===a||void 0===a||null===(n=a[bH])||void 0===n?void 0:n.handleBounds,z:r}}),o.set(e.id,l)})),XU(o,n,i),o}function ZU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getNodes:n,width:r,height:o,minZoom:i,maxZoom:s,d3Zoom:a,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),h=t.initial&&!c&&u;if(a&&l&&(h||!t.initial)){const e=n().filter((e=>{var n;const r=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return null!==(n=t.nodes)&&void 0!==n&&n.length?r&&t.nodes.some((t=>t.id===e.id)):r})),c=e.every((e=>e.width&&e.height));if(e.length>0&&c){var f,p,m;const n=rU(e,d),{x:c,y:u,zoom:h}=sU(n,r,o,null!==(f=t.minZoom)&&void 0!==f?f:i,null!==(p=t.maxZoom)&&void 0!==p?p:s,null!==(m=t.padding)&&void 0!==m?m:.1),g=TW.translate(c,u).scale(h);return"number"===typeof t.duration&&t.duration>0?a.transform(aU(l,t.duration),g):a.transform(l,g),!0}}return!1}function QU(e,t){return e.forEach((e=>{const n=t.get(e.id);n&&t.set(n.id,{...n,[bH]:n[bH],selected:e.selected})})),new Map(t)}function JU(e,t){return t.map((t=>{const n=e.find((e=>e.id===t.id));return n&&(t.selected=n.selected),t}))}function eq(e){let{changedNodes:t,changedEdges:n,get:r,set:o}=e;const{nodeInternals:i,edges:s,onNodesChange:a,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=r();null!==t&&void 0!==t&&t.length&&(c&&o({nodeInternals:QU(t,i)}),null===a||void 0===a||a(t)),null!==n&&void 0!==n&&n.length&&(u&&o({edges:JU(n,s)}),null===l||void 0===l||l(n))}const tq=()=>{},nq={zoomIn:tq,zoomOut:tq,zoomTo:tq,getZoom:()=>1,setViewport:tq,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:tq,fitBounds:tq,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},rq=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),oq=()=>{const e=tH(),{d3Zoom:n,d3Selection:r}=eH(rq,iR),o=(0,t.useMemo)((()=>r&&n?{zoomIn:e=>n.scaleBy(aU(r,null===e||void 0===e?void 0:e.duration),1.2),zoomOut:e=>n.scaleBy(aU(r,null===e||void 0===e?void 0:e.duration),1/1.2),zoomTo:(e,t)=>n.scaleTo(aU(r,null===t||void 0===t?void 0:t.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(t,o)=>{var i,s,a;const[l,c,u]=e.getState().transform,d=TW.translate(null!==(i=t.x)&&void 0!==i?i:l,null!==(s=t.y)&&void 0!==s?s:c).scale(null!==(a=t.zoom)&&void 0!==a?a:u);n.transform(aU(r,null===o||void 0===o?void 0:o.duration),d)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>ZU(e.getState,t),setCenter:(t,o,i)=>{const{width:s,height:a,maxZoom:l}=e.getState(),c="undefined"!==typeof(null===i||void 0===i?void 0:i.zoom)?i.zoom:l,u=s/2-t*c,d=a/2-o*c,h=TW.translate(u,d).scale(c);n.transform(aU(r,null===i||void 0===i?void 0:i.duration),h)},fitBounds:(t,o)=>{var i;const{width:s,height:a,minZoom:l,maxZoom:c}=e.getState(),{x:u,y:d,zoom:h}=sU(t,s,a,l,c,null!==(i=null===o||void 0===o?void 0:o.padding)&&void 0!==i?i:.1),f=TW.translate(u,d).scale(h);n.transform(aU(r,null===o||void 0===o?void 0:o.duration),f)},project:t=>{const{transform:n,snapToGrid:r,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),eU(t,n,r,o)},screenToFlowPosition:t=>{const{transform:n,snapToGrid:r,snapGrid:o,domNode:i}=e.getState();if(!i)return t;const{x:s,y:a}=i.getBoundingClientRect(),l={x:t.x-s,y:t.y-a};return eU(l,n,r,o)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),s=tU(t,n);return{x:s.x+o,y:s.y+i}},viewportInitialized:!0}:nq),[n,r]);return o};function iq(){const e=oq(),n=tH(),r=(0,t.useCallback)((()=>n.getState().getNodes().map((e=>({...e})))),[]),o=(0,t.useCallback)((e=>n.getState().nodeInternals.get(e)),[]),i=(0,t.useCallback)((()=>{const{edges:e=[]}=n.getState();return e.map((e=>({...e})))}),[]),s=(0,t.useCallback)((e=>{const{edges:t=[]}=n.getState();return t.find((t=>t.id===e))}),[]),a=(0,t.useCallback)((e=>{const{getNodes:t,setNodes:r,hasDefaultNodes:o,onNodesChange:i}=n.getState(),s=t(),a="function"===typeof e?e(s):e;if(o)r(a);else if(i){const e=0===a.length?s.map((e=>({type:"remove",id:e.id}))):a.map((e=>({item:e,type:"reset"})));i(e)}}),[]),l=(0,t.useCallback)((e=>{const{edges:t=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:i}=n.getState(),s="function"===typeof e?e(t):e;if(o)r(s);else if(i){i(0===s.length?t.map((e=>({type:"remove",id:e.id}))):s.map((e=>({item:e,type:"reset"}))))}}),[]),c=(0,t.useCallback)((e=>{const t=Array.isArray(e)?e:[e],{getNodes:r,setNodes:o,hasDefaultNodes:i,onNodesChange:s}=n.getState();if(i){o([...r(),...t])}else if(s){const e=t.map((e=>({item:e,type:"add"})));s(e)}}),[]),u=(0,t.useCallback)((e=>{const t=Array.isArray(e)?e:[e],{edges:r=[],setEdges:o,hasDefaultEdges:i,onEdgesChange:s}=n.getState();if(i)o([...r,...t]);else if(s){s(t.map((e=>({item:e,type:"add"}))))}}),[]),d=(0,t.useCallback)((()=>{const{getNodes:e,edges:t=[],transform:r}=n.getState(),[o,i,s]=r;return{nodes:e().map((e=>({...e}))),edges:t.map((e=>({...e}))),viewport:{x:o,y:i,zoom:s}}}),[]),h=(0,t.useCallback)((e=>{let{nodes:t,edges:r}=e;const{nodeInternals:o,getNodes:i,edges:s,hasDefaultNodes:a,hasDefaultEdges:l,onNodesDelete:c,onEdgesDelete:u,onNodesChange:d,onEdgesChange:h}=n.getState(),f=(t||[]).map((e=>e.id)),p=(r||[]).map((e=>e.id)),m=i().reduce(((e,t)=>{const n=t.parentNode||t.parentId,r=!f.includes(t.id)&&n&&e.find((e=>e.id===n));return("boolean"!==typeof t.deletable||t.deletable)&&(f.includes(t.id)||r)&&e.push(t),e}),[]),g=s.filter((e=>"boolean"!==typeof e.deletable||e.deletable)),v=g.filter((e=>p.includes(e.id)));if(m||v){const e=iU(m,g),t=[...v,...e],r=t.reduce(((e,t)=>(e.includes(t.id)||e.push(t.id),e)),[]);if((l||a)&&(l&&n.setState({edges:s.filter((e=>!r.includes(e.id)))}),a&&(m.forEach((e=>{o.delete(e.id)})),n.setState({nodeInternals:new Map(o)}))),r.length>0&&(null===u||void 0===u||u(t),h&&h(r.map((e=>({id:e,type:"remove"}))))),m.length>0&&(null===c||void 0===c||c(m),d)){d(m.map((e=>({id:e.id,type:"remove"}))))}}}),[]),f=(0,t.useCallback)((e=>{const t=vH(e),r=t?null:n.getState().nodeInternals.get(e.id);if(!t&&!r)return[null,null,t];return[t?e:mH(r),r,t]}),[]),p=(0,t.useCallback)((function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const[o,i,s]=f(e);return o?(r||n.getState().getNodes()).filter((e=>{if(!s&&(e.id===i.id||!e.positionAbsolute))return!1;const n=mH(e),r=gH(n,o);return t&&r>0||r>=o.width*o.height})):[]}),[]),m=(0,t.useCallback)((function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[r]=f(e);if(!r)return!1;const o=gH(r,t);return n&&o>0||o>=r.width*r.height}),[]);return(0,t.useMemo)((()=>({...e,getNodes:r,getNode:o,getEdges:i,getEdge:s,setNodes:a,setEdges:l,addNodes:c,addEdges:u,toObject:d,deleteElements:h,getIntersectingNodes:p,isNodeIntersecting:m})),[e,r,o,i,s,a,l,c,u,d,h,p,m])}const sq={actInsideInputWithModifier:!1};const aq={position:"absolute",width:"100%",height:"100%",top:0,left:0},lq=e=>({x:e.x,y:e.y,zoom:e.k}),cq=(e,t)=>e.target.closest(".".concat(t)),uq=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),dq=e=>{const t=e.ctrlKey&&_H()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},hq=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),fq=e=>{let{onMove:n,onMoveStart:r,onMoveEnd:o,onPaneContextMenu:i,zoomOnScroll:s=!0,zoomOnPinch:a=!0,panOnScroll:l=!1,panOnScrollSpeed:c=.5,panOnScrollMode:u=OH.Free,zoomOnDoubleClick:d=!0,elementsSelectable:h,panOnDrag:f=!0,defaultViewport:p,translateExtent:m,minZoom:g,maxZoom:v,zoomActivationKeyCode:y,preventScrolling:b=!0,children:w,noWheelClassName:x,noPanClassName:S}=e;const k=(0,t.useRef)(),C=tH(),_=(0,t.useRef)(!1),E=(0,t.useRef)(!1),A=(0,t.useRef)(null),M=(0,t.useRef)({x:0,y:0,zoom:0}),{d3Zoom:T,d3Selection:P,d3ZoomHandler:O,userSelectionActive:N}=eH(hq,iR),D=qU(y),R=(0,t.useRef)(0),I=(0,t.useRef)(!1),z=(0,t.useRef)();return function(e){const n=tH();(0,t.useEffect)((()=>{let t;const r=()=>{if(!e.current)return;const t=sH(e.current);var r,o;0!==t.height&&0!==t.width||null===(r=(o=n.getState()).onError)||void 0===r||r.call(o,"004",QW.error004()),n.setState({width:t.width||500,height:t.height||500})};return r(),window.addEventListener("resize",r),e.current&&(t=new ResizeObserver((()=>r())),t.observe(e.current)),()=>{window.removeEventListener("resize",r),t&&e.current&&t.unobserve(e.current)}}),[])}(A),(0,t.useEffect)((()=>{if(A.current){const e=A.current.getBoundingClientRect(),t=BW().scaleExtent([g,v]).translateExtent(m),n=bF(A.current).call(t),r=TW.translate(p.x,p.y).scale(aH(p.zoom,g,v)),o=[[0,0],[e.width,e.height]],i=t.constrain()(r,o,m);t.transform(n,i),t.wheelDelta(dq),C.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[i.x,i.y,i.k],domNode:A.current.closest(".react-flow")})}}),[]),(0,t.useEffect)((()=>{P&&T&&(!l||D||N?"undefined"!==typeof O&&P.on("wheel.zoom",(function(e,t){if(!b||cq(e,x))return null;e.preventDefault(),O.call(this,e,t)}),{passive:!1}):P.on("wheel.zoom",(e=>{if(cq(e,x))return!1;e.preventDefault(),e.stopImmediatePropagation();const t=P.property("__zoom").k||1,i=_H();if(e.ctrlKey&&a&&i){const n=CF(e),r=dq(e),o=t*Math.pow(2,r);return void T.scaleTo(P,o,n,e)}const s=1===e.deltaMode?20:1;let l=u===OH.Vertical?0:e.deltaX*s,d=u===OH.Horizontal?0:e.deltaY*s;!i&&e.shiftKey&&u!==OH.Vertical&&(l=e.deltaY*s,d=0),T.translateBy(P,-l/t*c,-d/t*c,{internal:!0});const h=lq(P.property("__zoom")),{onViewportChangeStart:f,onViewportChange:p,onViewportChangeEnd:m}=C.getState();clearTimeout(z.current),I.current||(I.current=!0,null===r||void 0===r||r(e,h),null===f||void 0===f||f(h)),I.current&&(null===n||void 0===n||n(e,h),null===p||void 0===p||p(h),z.current=setTimeout((()=>{null===o||void 0===o||o(e,h),null===m||void 0===m||m(h),I.current=!1}),150))}),{passive:!1}))}),[N,l,u,P,T,O,D,a,b,x,r,n,o]),(0,t.useEffect)((()=>{T&&T.on("start",(e=>{var t,n;if(!e.sourceEvent||e.sourceEvent.internal)return null;R.current=null===(t=e.sourceEvent)||void 0===t?void 0:t.button;const{onViewportChangeStart:o}=C.getState(),i=lq(e.transform);_.current=!0,M.current=i,"mousedown"===(null===(n=e.sourceEvent)||void 0===n?void 0:n.type)&&C.setState({paneDragging:!0}),null===o||void 0===o||o(i),null===r||void 0===r||r(e.sourceEvent,i)}))}),[T,r]),(0,t.useEffect)((()=>{T&&(N&&!_.current?T.on("zoom",null):N||T.on("zoom",(e=>{var t,r;const{onViewportChange:o}=C.getState();if(C.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),E.current=!(!i||!uq(f,null!==(t=R.current)&&void 0!==t?t:0)),(n||o)&&(null===(r=e.sourceEvent)||void 0===r||!r.internal)){const t=lq(e.transform);null===o||void 0===o||o(t),null===n||void 0===n||n(e.sourceEvent,t)}})))}),[N,T,n,f,i]),(0,t.useEffect)((()=>{T&&T.on("end",(e=>{var t;if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:n}=C.getState();if(_.current=!1,C.setState({paneDragging:!1}),i&&uq(f,null!==(t=R.current)&&void 0!==t?t:0)&&!E.current&&i(e.sourceEvent),E.current=!1,(o||n)&&(r=M.current,s=e.transform,r.x!==s.x||r.y!==s.y||r.zoom!==s.k)){const t=lq(e.transform);M.current=t,clearTimeout(k.current),k.current=setTimeout((()=>{null===n||void 0===n||n(t),null===o||void 0===o||o(e.sourceEvent,t)}),l?150:0)}var r,s}))}),[T,l,f,o,i]),(0,t.useEffect)((()=>{T&&T.filter((e=>{const t=D||s,n=a&&e.ctrlKey;if((!0===f||Array.isArray(f)&&f.includes(1))&&1===e.button&&"mousedown"===e.type&&(cq(e,"react-flow__node")||cq(e,"react-flow__edge")))return!0;if(!f&&!t&&!l&&!d&&!a)return!1;if(N)return!1;if(!d&&"dblclick"===e.type)return!1;if(cq(e,x)&&"wheel"===e.type)return!1;if(cq(e,S)&&("wheel"!==e.type||l&&"wheel"===e.type&&!D))return!1;if(!a&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!l&&!n&&"wheel"===e.type)return!1;if(!f&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(f)&&!f.includes(e.button)&&("mousedown"===e.type||"touchstart"===e.type))return!1;const r=Array.isArray(f)&&f.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&r}))}),[N,T,s,a,l,d,f,h,D]),t.createElement("div",{className:"react-flow__renderer",ref:A,style:aq},w)},pq=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function mq(){const{userSelectionActive:e,userSelectionRect:n}=eH(pq,iR);return e&&n?t.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)")}}):null}function gq(e,t){const n=t.parentNode||t.parentId,r=e.find((e=>e.id===n));if(r){const e=t.position.x+t.width-r.width,n=t.position.y+t.height-r.height;if(e>0||n>0||t.position.x<0||t.position.y<0){var o,i;if(r.style={...r.style}||{},r.style.width=null!==(o=r.style.width)&&void 0!==o?o:r.width,r.style.height=null!==(i=r.style.height)&&void 0!==i?i:r.height,e>0&&(r.style.width+=e),n>0&&(r.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);r.position.x=r.position.x-e,r.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);r.position.y=r.position.y-e,r.style.height+=e,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function vq(e,t){if(e.some((e=>"reset"===e.type)))return e.filter((e=>"reset"===e.type)).map((e=>e.item));const n=e.filter((e=>"add"===e.type)).map((e=>e.item));return t.reduce(((t,n)=>{const r=e.filter((e=>e.id===n.id));if(0===r.length)return t.push(n),t;const o={...n};for(const e of r)if(e)switch(e.type){case"select":o.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(o.position=e.position),"undefined"!==typeof e.positionAbsolute&&(o.positionAbsolute=e.positionAbsolute),"undefined"!==typeof e.dragging&&(o.dragging=e.dragging),o.expandParent&&gq(t,o);break;case"dimensions":"undefined"!==typeof e.dimensions&&(o.width=e.dimensions.width,o.height=e.dimensions.height),"undefined"!==typeof e.updateStyle&&(o.style={...o.style||{},...e.dimensions}),"boolean"===typeof e.resizing&&(o.resizing=e.resizing),o.expandParent&&gq(t,o);break;case"remove":return t}return t.push(o),t}),n)}function yq(e,t){return vq(e,t)}const bq=(e,t)=>({id:e,type:"select",selected:t});function wq(e,t){return e.reduce(((e,n)=>{const r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(bq(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(bq(n.id,!1))),e}),[])}const xq=(e,t)=>n=>{n.target===t.current&&(null===e||void 0===e||e(n))},Sq=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),kq=(0,t.memo)((e=>{let{isSelecting:n,selectionMode:r=NH.Full,panOnDrag:o,onSelectionStart:i,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:h,children:f}=e;const p=(0,t.useRef)(null),m=tH(),g=(0,t.useRef)(0),v=(0,t.useRef)(0),y=(0,t.useRef)(),{userSelectionActive:b,elementsSelectable:w,dragging:x}=eH(Sq,iR),S=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,v.current=0},k=e=>{null===a||void 0===a||a(e),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},C=c?e=>c(e):void 0,_=w&&(n||b);return t.createElement("div",{className:JB(["react-flow__pane",{dragging:x,selection:n}]),onClick:_?void 0:xq(k,p),onContextMenu:xq((e=>{Array.isArray(o)&&null!==o&&void 0!==o&&o.includes(2)?e.preventDefault():null===l||void 0===l||l(e)}),p),onWheel:xq(C,p),onMouseEnter:_?void 0:u,onMouseDown:_?e=>{const{resetSelectedElements:t,domNode:r}=m.getState();if(y.current=null===r||void 0===r?void 0:r.getBoundingClientRect(),!w||!n||0!==e.button||e.target!==p.current||!y.current)return;const{x:o,y:s}=CH(e,y.current);t(),m.setState({userSelectionRect:{width:0,height:0,startX:o,startY:s,x:o,y:s}}),null===i||void 0===i||i(e)}:void 0,onMouseMove:_?e=>{var t,o;const{userSelectionRect:i,nodeInternals:s,edges:a,transform:l,onNodesChange:c,onEdgesChange:u,nodeOrigin:d,getNodes:h}=m.getState();if(!n||!y.current||!i)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const f=CH(e,y.current),p=null!==(t=i.startX)&&void 0!==t?t:0,b=null!==(o=i.startY)&&void 0!==o?o:0,w={...i,x:f.x<p?f.x:p,y:f.y<b?f.y:b,width:Math.abs(f.x-p),height:Math.abs(f.y-b)},x=h(),S=oU(s,w,l,r===NH.Partial,!0,d),k=iU(S,a).map((e=>e.id)),C=S.map((e=>e.id));if(g.current!==C.length){g.current=C.length;const e=wq(x,C);e.length&&(null===c||void 0===c||c(e))}if(v.current!==k.length){v.current=k.length;const e=wq(a,k);e.length&&(null===u||void 0===u||u(e))}m.setState({userSelectionRect:w})}:d,onMouseUp:_?e=>{if(0!==e.button)return;const{userSelectionRect:t}=m.getState();!b&&t&&e.target===p.current&&(null===k||void 0===k||k(e)),m.setState({nodesSelectionActive:g.current>0}),S(),null===s||void 0===s||s(e)}:void 0,onMouseLeave:_?e=>{b&&(m.setState({nodesSelectionActive:g.current>0}),null===s||void 0===s||s(e)),S()}:h,ref:p,style:aq},f,t.createElement(mq,null))}));function Cq(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return!!r&&(!!r.selected||Cq(r,t))}function _q(e,t,n){let r=e;do{var o;if(null!==(o=r)&&void 0!==o&&o.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Eq(e,t,n,r){return Array.from(e.values()).filter((n=>(n.selected||n.id===r)&&(!n.parentNode||n.parentId||!Cq(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable))).map((e=>{var t,r,o,i;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(null!==(t=null===(r=e.positionAbsolute)||void 0===r?void 0:r.x)&&void 0!==t?t:0),y:n.y-(null!==(o=null===(i=e.positionAbsolute)||void 0===i?void 0:i.y)&&void 0!==o?o:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}}))}function Aq(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],i=arguments.length>5?arguments[5]:void 0;const s=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||r);let a=s;const l=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&l&&"parent"!==e.extent){const t=n.get(l),{x:r,y:i}=nU(t,o).positionAbsolute;a=[[e.extent[0][0]+r,e.extent[0][1]+i],[e.extent[1][0]+r,e.extent[1][1]+i]]}}else if(l&&e.width&&e.height){const t=n.get(l),{x:r,y:i}=nU(t,o).positionAbsolute;a=t&&yH(r)&&yH(i)&&yH(t.width)&&yH(t.height)?[[r+e.width*o[0],i+e.height*o[1]],[r+t.width-e.width+e.width*o[0],i+t.height-e.height+e.height*o[1]]]:a}else null===i||void 0===i||i("005",QW.error005()),a=s;let c={x:0,y:0};if(l){const e=n.get(l);c=nU(e,o).positionAbsolute}const u=a&&"parent"!==a?lH(t,a):t;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function Mq(e){let{nodeId:t,dragItems:n,nodeInternals:r}=e;const o=n.map((e=>({...r.get(e.id),position:e.position,positionAbsolute:e.positionAbsolute})));return[t?o.find((e=>e.id===t)):o[0],o]}kq.displayName="Pane";const Tq=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const i=Array.from(o),s=t.getBoundingClientRect(),a=s.width*r[0],l=s.height*r[1];return i.map((e=>{const t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-s.left-a)/n,y:(t.top-s.top-l)/n,...sH(e)}}))};function Pq(e,t,n){return void 0===n?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function Oq(e){let{id:t,store:n,unselect:r=!1,nodeRef:o}=e;const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:a,nodeInternals:l,onError:c}=n.getState(),u=l.get(t);u?(n.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&a)&&(s({nodes:[u],edges:[]}),requestAnimationFrame((()=>{var e;return null===o||void 0===o||null===(e=o.current)||void 0===e?void 0:e.blur()}))):i([t])):null===c||void 0===c||c("012",QW.error012(t))}function Nq(e){return(t,n,r)=>null===e||void 0===e?void 0:e(t,r)}function Dq(e){let{nodeRef:n,disabled:r=!1,noDragClassName:o,handleSelector:i,nodeId:s,isSelectable:a,selectNodesOnDrag:l}=e;const c=tH(),[u,d]=(0,t.useState)(!1),h=(0,t.useRef)([]),f=(0,t.useRef)({x:null,y:null}),p=(0,t.useRef)(0),m=(0,t.useRef)(null),g=(0,t.useRef)({x:0,y:0}),v=(0,t.useRef)(null),y=(0,t.useRef)(!1),b=(0,t.useRef)(!1),w=function(){const e=tH(),n=(0,t.useCallback)((t=>{let{sourceEvent:n}=t;const{transform:r,snapGrid:o,snapToGrid:i}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:i?o[0]*Math.round(l.x/o[0]):l.x,ySnapped:i?o[1]*Math.round(l.y/o[1]):l.y,...l}}),[]);return n}();return(0,t.useEffect)((()=>{if(null!==n&&void 0!==n&&n.current){const e=bF(n.current),t=e=>{let{x:t,y:n}=e;const{nodeInternals:r,onNodeDrag:o,onSelectionDrag:i,updateNodePositions:a,nodeExtent:l,snapGrid:u,snapToGrid:p,nodeOrigin:m,onError:g}=c.getState();f.current={x:t,y:n};let y=!1,b={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&l){const e=rU(h.current,m);b=fH(e)}if(h.current=h.current.map((e=>{const o={x:t-e.distance.x,y:n-e.distance.y};p&&(o.x=u[0]*Math.round(o.x/u[0]),o.y=u[1]*Math.round(o.y/u[1]));const i=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];var s,a;h.current.length>1&&l&&!e.extent&&(i[0][0]=e.positionAbsolute.x-b.x+l[0][0],i[1][0]=e.positionAbsolute.x+(null!==(s=e.width)&&void 0!==s?s:0)-b.x2+l[1][0],i[0][1]=e.positionAbsolute.y-b.y+l[0][1],i[1][1]=e.positionAbsolute.y+(null!==(a=e.height)&&void 0!==a?a:0)-b.y2+l[1][1]);const c=Aq(e,o,r,i,m,g);return y=y||e.position.x!==c.position.x||e.position.y!==c.position.y,e.position=c.position,e.positionAbsolute=c.positionAbsolute,e})),!y)return;a(h.current,!0,!0),d(!0);const w=s?o:Nq(i);if(w&&v.current){const[e,t]=Mq({nodeId:s,dragItems:h.current,nodeInternals:r});w(v.current,e,t)}},u=()=>{if(!m.current)return;const[e,n]=uH(g.current,m.current);if(0!==e||0!==n){var r,o;const{transform:i,panBy:s}=c.getState();f.current.x=(null!==(r=f.current.x)&&void 0!==r?r:0)-e/i[2],f.current.y=(null!==(o=f.current.y)&&void 0!==o?o:0)-n/i[2],s({x:e,y:n})&&t(f.current)}p.current=requestAnimationFrame(u)},x=e=>{const{nodeInternals:t,multiSelectionActive:r,nodesDraggable:o,unselectNodesAndEdges:i,onNodeDragStart:u,onSelectionDragStart:d}=c.getState();b.current=!0;const p=s?u:Nq(d);var m;l&&a||r||!s||(null!==(m=t.get(s))&&void 0!==m&&m.selected||i());s&&a&&l&&Oq({id:s,store:c,nodeRef:n});const g=w(e);if(f.current=g,h.current=Eq(t,o,g,s),p&&h.current){const[n,r]=Mq({nodeId:s,dragItems:h.current,nodeInternals:t});p(e.sourceEvent,n,r)}};if(!r){const r=XW().on("start",(e=>{const{domNode:t,nodeDragThreshold:n}=c.getState();0===n&&x(e);const r=w(e);f.current=r,m.current=(null===t||void 0===t?void 0:t.getBoundingClientRect())||null,g.current=CH(e.sourceEvent,m.current)})).on("drag",(e=>{const n=w(e),{autoPanOnNodeDrag:r,nodeDragThreshold:o}=c.getState();if(!y.current&&b.current&&r&&(y.current=!0,u()),!b.current){var i,s,a,l;const t=n.xSnapped-(null!==(i=null===f||void 0===f||null===(s=f.current)||void 0===s?void 0:s.x)&&void 0!==i?i:0),r=n.ySnapped-(null!==(a=null===f||void 0===f||null===(l=f.current)||void 0===l?void 0:l.y)&&void 0!==a?a:0);Math.sqrt(t*t+r*r)>o&&x(e)}(f.current.x!==n.xSnapped||f.current.y!==n.ySnapped)&&h.current&&b.current&&(v.current=e.sourceEvent,g.current=CH(e.sourceEvent,m.current),t(n))})).on("end",(e=>{if(b.current&&(d(!1),y.current=!1,b.current=!1,cancelAnimationFrame(p.current),h.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:r,onSelectionDragStop:o}=c.getState(),i=s?r:Nq(o);if(t(h.current,!1,!1),i){const[t,r]=Mq({nodeId:s,dragItems:h.current,nodeInternals:n});i(e.sourceEvent,t,r)}}})).filter((e=>{const t=e.target;return!e.button&&(!o||!_q(t,".".concat(o),n))&&(!i||_q(t,i,n))}));return e.call(r),()=>{e.on(".drag",null)}}e.on(".drag",null)}}),[n,r,o,i,a,c,s,l,w]),u}function Rq(){const e=tH(),n=(0,t.useCallback)((t=>{const{nodeInternals:n,nodeExtent:r,updateNodePositions:o,getNodes:i,snapToGrid:s,snapGrid:a,onError:l,nodesDraggable:c}=e.getState(),u=i().filter((e=>e.selected&&(e.draggable||c&&"undefined"===typeof e.draggable))),d=s?a[0]:5,h=s?a[1]:5,f=t.isShiftPressed?4:1,p=t.x*d*f,m=t.y*h*f,g=u.map((e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+p,y:e.positionAbsolute.y+m};s&&(t.x=a[0]*Math.round(t.x/a[0]),t.y=a[1]*Math.round(t.y/a[1]));const{positionAbsolute:o,position:i}=Aq(e,t,n,r,void 0,l);e.position=i,e.positionAbsolute=o}return e}));o(g,!0,!1)}),[]);return n}const Iq={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var zq=e=>{const n=n=>{let{id:r,type:o,data:i,xPos:s,yPos:a,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:h,onMouseMove:f,onMouseLeave:p,onContextMenu:m,onDoubleClick:g,style:v,className:y,isDraggable:b,isSelectable:w,isConnectable:x,isFocusable:S,selectNodesOnDrag:k,sourcePosition:C,targetPosition:_,hidden:E,resizeObserver:A,dragHandle:M,zIndex:T,isParent:P,noDragClassName:O,noPanClassName:N,initialized:D,disableKeyboardA11y:R,ariaLabel:I,rfId:z,hasHandleBounds:L}=n;const B=tH(),j=(0,t.useRef)(null),F=(0,t.useRef)(null),V=(0,t.useRef)(C),W=(0,t.useRef)(_),H=(0,t.useRef)(o),U=w||b||d||h||f||p,q=Rq(),K=Pq(r,B.getState,h),Y=Pq(r,B.getState,f),$=Pq(r,B.getState,p),X=Pq(r,B.getState,m),G=Pq(r,B.getState,g);(0,t.useEffect)((()=>()=>{F.current&&(null===A||void 0===A||A.unobserve(F.current))}),[]),(0,t.useEffect)((()=>{if(j.current&&!E){const e=j.current;D&&L||(F.current&&(null===A||void 0===A||A.unobserve(F.current)),null===A||void 0===A||A.observe(e),F.current=e)}}),[E,D,L]),(0,t.useEffect)((()=>{const e=H.current!==o,t=V.current!==C,n=W.current!==_;j.current&&(e||t||n)&&(e&&(H.current=o),t&&(V.current=C),n&&(W.current=_),B.getState().updateNodeDimensions([{id:r,nodeElement:j.current,forceUpdate:!0}]))}),[r,o,C,_]);const Z=Dq({nodeRef:j,disabled:E||!b,noDragClassName:O,handleSelector:M,nodeId:r,isSelectable:w,selectNodesOnDrag:k});return E?null:t.createElement("div",{className:JB(["react-flow__node","react-flow__node-".concat(o),{[N]:b},y,{selected:u,selectable:w,parent:P,dragging:Z}]),ref:j,style:{zIndex:T,transform:"translate(".concat(l,"px,").concat(c,"px)"),pointerEvents:U?"all":"none",visibility:D?"visible":"hidden",...v},"data-id":r,"data-testid":"rf__node-".concat(r),onMouseEnter:K,onMouseMove:Y,onMouseLeave:$,onContextMenu:X,onClick:e=>{const{nodeDragThreshold:t}=B.getState();if(w&&(!k||!b||t>0)&&Oq({id:r,store:B,nodeRef:j}),d){const t=B.getState().nodeInternals.get(r);t&&d(e,{...t})}},onDoubleClick:G,onKeyDown:S?e=>{if(!SH(e)&&!R)if(wH.includes(e.key)&&w){const t="Escape"===e.key;Oq({id:r,store:B,unselect:t,nodeRef:j})}else b&&u&&Object.prototype.hasOwnProperty.call(Iq,e.key)&&(B.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~s,", y: ").concat(~~a)}),q({x:Iq[e.key].x,y:Iq[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":R?void 0:"".concat(jU,"-").concat(z),"aria-label":I},t.createElement(ZH,{value:r},t.createElement(e,{id:r,data:i,type:o,xPos:s,yPos:a,selected:u,isConnectable:x,sourcePosition:C,targetPosition:_,dragging:Z,dragHandle:M,zIndex:T})))};return n.displayName="NodeWrapper",(0,t.memo)(n)};const Lq=e=>{const t=e.getNodes().filter((e=>e.selected));return{...rU(t,e.nodeOrigin),transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive}};var Bq=(0,t.memo)((function(e){let{onSelectionContextMenu:n,noPanClassName:r,disableKeyboardA11y:o}=e;const i=tH(),{width:s,height:a,x:l,y:c,transformString:u,userSelectionActive:d}=eH(Lq,iR),h=Rq(),f=(0,t.useRef)(null);if((0,t.useEffect)((()=>{var e;o||(null===(e=f.current)||void 0===e||e.focus({preventScroll:!0}))}),[o]),Dq({nodeRef:f}),d||!s||!a)return null;const p=n?e=>{const t=i.getState().getNodes().filter((e=>e.selected));n(e,t)}:void 0;return t.createElement("div",{className:JB(["react-flow__nodesselection","react-flow__container",r]),style:{transform:u}},t.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:o?void 0:-1,onKeyDown:o?void 0:e=>{Object.prototype.hasOwnProperty.call(Iq,e.key)&&h({x:Iq[e.key].x,y:Iq[e.key].y,isShiftPressed:e.shiftKey})},style:{width:s,height:a,top:c,left:l}}))}));const jq=e=>e.nodesSelectionActive,Fq=e=>{let{children:n,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:i,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:l,deleteKeyCode:c,onMove:u,onMoveStart:d,onMoveEnd:h,selectionKeyCode:f,selectionOnDrag:p,selectionMode:m,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:y,panActivationKeyCode:b,zoomActivationKeyCode:w,elementsSelectable:x,zoomOnScroll:S,zoomOnPinch:k,panOnScroll:C,panOnScrollSpeed:_,panOnScrollMode:E,zoomOnDoubleClick:A,panOnDrag:M,defaultViewport:T,translateExtent:P,minZoom:O,maxZoom:N,preventScrolling:D,onSelectionContextMenu:R,noWheelClassName:I,noPanClassName:z,disableKeyboardA11y:L}=e;const B=eH(jq),j=qU(f),F=qU(b),V=F||M,W=F||C,H=j||p&&!0!==V;return(e=>{let{deleteKeyCode:n,multiSelectionKeyCode:r}=e;const o=tH(),{deleteElements:i}=iq(),s=qU(n,sq),a=qU(r);(0,t.useEffect)((()=>{if(s){const{edges:e,getNodes:t}=o.getState(),n=t().filter((e=>e.selected)),r=e.filter((e=>e.selected));i({nodes:n,edges:r}),o.setState({nodesSelectionActive:!1})}}),[s]),(0,t.useEffect)((()=>{o.setState({multiSelectionActive:a})}),[a])})({deleteKeyCode:c,multiSelectionKeyCode:y}),t.createElement(fq,{onMove:u,onMoveStart:d,onMoveEnd:h,onPaneContextMenu:a,elementsSelectable:x,zoomOnScroll:S,zoomOnPinch:k,panOnScroll:W,panOnScrollSpeed:_,panOnScrollMode:E,zoomOnDoubleClick:A,panOnDrag:!j&&V,defaultViewport:T,translateExtent:P,minZoom:O,maxZoom:N,zoomActivationKeyCode:w,preventScrolling:D,noWheelClassName:I,noPanClassName:z},t.createElement(kq,{onSelectionStart:g,onSelectionEnd:v,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:i,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:l,panOnDrag:V,isSelecting:!!H,selectionMode:m},n,B&&t.createElement(Bq,{onSelectionContextMenu:R,noPanClassName:z,disableKeyboardA11y:L})))};Fq.displayName="FlowRenderer";var Vq=(0,t.memo)(Fq);function Wq(e){const t={input:zq(e.input||kU),default:zq(e.default||xU),output:zq(e.output||_U),group:zq(e.group||EU)},n=Object.keys(e).filter((e=>!["input","default","output","group"].includes(e))).reduce(((t,n)=>(t[n]=zq(e[n]||xU),t)),{});return{...t,...n}}const Hq=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Uq=e=>{const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:o,elementsSelectable:i,updateNodeDimensions:s,onError:a}=eH(Hq,iR),l=(c=e.onlyRenderVisibleElements,eH((0,t.useCallback)((e=>c?oU(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes()),[c])));var c;const u=(0,t.useRef)(),d=(0,t.useMemo)((()=>{if("undefined"===typeof ResizeObserver)return null;const e=new ResizeObserver((e=>{const t=e.map((e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})));s(t)}));return u.current=e,e}),[]);return(0,t.useEffect)((()=>()=>{var e;null===u||void 0===u||null===(e=u.current)||void 0===e||e.disconnect()}),[]),t.createElement("div",{className:"react-flow__nodes",style:aq},l.map((s=>{var l,c,u,h,f,p,m,g;let v=s.type||"default";e.nodeTypes[v]||(null===a||void 0===a||a("003",QW.error003(v)),v="default");const y=e.nodeTypes[v]||e.nodeTypes.default,b=!!(s.draggable||n&&"undefined"===typeof s.draggable),w=!!(s.selectable||i&&"undefined"===typeof s.selectable),x=!!(s.connectable||r&&"undefined"===typeof s.connectable),S=!!(s.focusable||o&&"undefined"===typeof s.focusable),k=e.nodeExtent?lH(s.positionAbsolute,e.nodeExtent):s.positionAbsolute,C=null!==(l=null===k||void 0===k?void 0:k.x)&&void 0!==l?l:0,_=null!==(c=null===k||void 0===k?void 0:k.y)&&void 0!==c?c:0,E=(e=>{let{x:t,y:n,width:r,height:o,origin:i}=e;return r&&o?i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:n}:{x:t-r*i[0],y:n-o*i[1]}:{x:t,y:n}})({x:C,y:_,width:null!==(u=s.width)&&void 0!==u?u:0,height:null!==(h=s.height)&&void 0!==h?h:0,origin:e.nodeOrigin});return t.createElement(y,{key:s.id,id:s.id,className:s.className,style:s.style,type:v,data:s.data,sourcePosition:s.sourcePosition||IH.Bottom,targetPosition:s.targetPosition||IH.Top,hidden:s.hidden,xPos:C,yPos:_,xPosOrigin:E.x,yPosOrigin:E.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!s.selected,isDraggable:b,isSelectable:w,isConnectable:x,isFocusable:S,resizeObserver:d,dragHandle:s.dragHandle,zIndex:null!==(f=null===(p=s[bH])||void 0===p?void 0:p.z)&&void 0!==f?f:0,isParent:!(null===(m=s[bH])||void 0===m||!m.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!s.width&&!!s.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:s.ariaLabel,hasHandleBounds:!(null===(g=s[bH])||void 0===g||!g.handleBounds)})})))};Uq.displayName="NodeRenderer";var qq=(0,t.memo)(Uq);const Kq=(e,t,n)=>n===IH.Left?e-t:n===IH.Right?e+t:e,Yq=(e,t,n)=>n===IH.Top?e-t:n===IH.Bottom?e+t:e,$q="react-flow__edgeupdater",Xq=e=>{let{position:n,centerX:r,centerY:o,radius:i=10,onMouseDown:s,onMouseEnter:a,onMouseOut:l,type:c}=e;return t.createElement("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:l,className:JB([$q,"".concat($q,"-").concat(c)]),cx:Kq(r,i,n),cy:Yq(o,i,n),r:i,stroke:"transparent",fill:"transparent"})},Gq=()=>!0;var Zq=e=>{const n=n=>{let{id:r,className:o,type:i,data:s,onClick:a,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:g,style:v,source:y,target:b,sourceX:w,sourceY:x,targetX:S,targetY:k,sourcePosition:C,targetPosition:_,elementsSelectable:E,hidden:A,sourceHandleId:M,targetHandleId:T,onContextMenu:P,onMouseEnter:O,onMouseMove:N,onMouseLeave:D,edgeUpdaterRadius:R,onEdgeUpdate:I,onEdgeUpdateStart:z,onEdgeUpdateEnd:L,markerEnd:B,markerStart:j,rfId:F,ariaLabel:V,isFocusable:W,isUpdatable:H,pathOptions:U,interactionWidth:q,disableKeyboardA11y:K}=n;const Y=(0,t.useRef)(null),[$,X]=(0,t.useState)(!1),[G,Z]=(0,t.useState)(!1),Q=tH(),J=(0,t.useMemo)((()=>"url('#".concat(JH(j,F),"')")),[j,F]),ee=(0,t.useMemo)((()=>"url('#".concat(JH(B,F),"')")),[B,F]);if(A)return null;const te=AH(r,Q.getState,l),ne=AH(r,Q.getState,P),re=AH(r,Q.getState,O),oe=AH(r,Q.getState,N),ie=AH(r,Q.getState,D),se=(e,t)=>{if(0!==e.button)return;const{edges:n,isValidConnection:o}=Q.getState(),i=t?b:y,s=(t?T:M)||null,a=t?"target":"source",l=o||Gq,c=t,u=n.find((e=>e.id===r));Z(!0),null===z||void 0===z||z(e,u,a);mU({event:e,handleId:s,nodeId:i,onConnect:e=>null===I||void 0===I?void 0:I(u,e),isTarget:c,getState:Q.getState,setState:Q.setState,isValidConnection:l,edgeUpdaterType:a,onEdgeUpdateEnd:e=>{Z(!1),null===L||void 0===L||L(e,u,a)}})},ae=()=>X(!0),le=()=>X(!1),ce=!E&&!a;return t.createElement("g",{className:JB(["react-flow__edge","react-flow__edge-".concat(i),o,{selected:c,animated:u,inactive:ce,updating:$}]),onClick:e=>{const{edges:t,addSelectedEdges:n,unselectNodesAndEdges:o,multiSelectionActive:i}=Q.getState(),s=t.find((e=>e.id===r));if(s){var l;if(E)if(Q.setState({nodesSelectionActive:!1}),s.selected&&i)o({nodes:[],edges:[s]}),null===(l=Y.current)||void 0===l||l.blur();else n([r]);a&&a(e,s)}},onDoubleClick:te,onContextMenu:ne,onMouseEnter:re,onMouseMove:oe,onMouseLeave:ie,onKeyDown:W?e=>{if(!K&&wH.includes(e.key)&&E){const{unselectNodesAndEdges:n,addSelectedEdges:o,edges:i}=Q.getState();var t;if("Escape"===e.key)null===(t=Y.current)||void 0===t||t.blur(),n({edges:[i.find((e=>e.id===r))]});else o([r])}}:void 0,tabIndex:W?0:void 0,role:W?"button":"img","data-testid":"rf__edge-".concat(r),"aria-label":null===V?void 0:V||"Edge from ".concat(y," to ").concat(b),"aria-describedby":W?"".concat(FU,"-").concat(F):void 0,ref:Y},!G&&t.createElement(e,{id:r,source:y,target:b,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:g,data:s,style:v,sourceX:w,sourceY:x,targetX:S,targetY:k,sourcePosition:C,targetPosition:_,sourceHandleId:M,targetHandleId:T,markerStart:J,markerEnd:ee,pathOptions:U,interactionWidth:q}),H&&t.createElement(t.Fragment,null,("source"===H||!0===H)&&t.createElement(Xq,{position:C,centerX:w,centerY:x,radius:R,onMouseDown:e=>se(e,!0),onMouseEnter:ae,onMouseOut:le,type:"source"}),("target"===H||!0===H)&&t.createElement(Xq,{position:_,centerX:S,centerY:k,radius:R,onMouseDown:e=>se(e,!1),onMouseEnter:ae,onMouseOut:le,type:"target"})))};return n.displayName="EdgeWrapper",(0,t.memo)(n)};function Qq(e){const t={default:Zq(e.default||XH),straight:Zq(e.bezier||qH),step:Zq(e.step||UH),smoothstep:Zq(e.step||HH),simplebezier:Zq(e.simplebezier||BH)},n=Object.keys(e).filter((e=>!["default","bezier"].includes(e))).reduce(((t,n)=>(t[n]=Zq(e[n]||XH),t)),{});return{...t,...n}}function Jq(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=((null===n||void 0===n?void 0:n.x)||0)+t.x,o=((null===n||void 0===n?void 0:n.y)||0)+t.y,i=(null===n||void 0===n?void 0:n.width)||t.width,s=(null===n||void 0===n?void 0:n.height)||t.height;switch(e){case IH.Top:return{x:r+i/2,y:o};case IH.Right:return{x:r+i,y:o+s/2};case IH.Bottom:return{x:r+i/2,y:o+s};case IH.Left:return{x:r,y:o+s/2}}}function eK(e,t){return e?1!==e.length&&t?t&&e.find((e=>e.id===t))||null:e[0]:null}function tK(e){var t,n,r,o,i;const s=(null===e||void 0===e||null===(t=e[bH])||void 0===t?void 0:t.handleBounds)||null,a=s&&(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&"undefined"!==typeof(null===e||void 0===e||null===(n=e.positionAbsolute)||void 0===n?void 0:n.x)&&"undefined"!==typeof(null===e||void 0===e||null===(r=e.positionAbsolute)||void 0===r?void 0:r.y);return[{x:(null===e||void 0===e||null===(o=e.positionAbsolute)||void 0===o?void 0:o.x)||0,y:(null===e||void 0===e||null===(i=e.positionAbsolute)||void 0===i?void 0:i.y)||0,width:(null===e||void 0===e?void 0:e.width)||0,height:(null===e||void 0===e?void 0:e.height)||0},s,!!a]}const nK=[{level:0,isMaxLevel:!0,edges:[]}];function rK(e,n,r){const o=eH((0,t.useCallback)((t=>e?t.edges.filter((e=>{const r=n.get(e.source),o=n.get(e.target);return(null===r||void 0===r?void 0:r.width)&&(null===r||void 0===r?void 0:r.height)&&(null===o||void 0===o?void 0:o.width)&&(null===o||void 0===o?void 0:o.height)&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:r,sourceHeight:o,targetWidth:i,targetHeight:s,width:a,height:l,transform:c}=e;const u={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+i),y2:Math.max(t.y+o,n.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=fH({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:a/c[2],height:l/c[2]}),h=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),f=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(h*f)>0}({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:o.width,targetHeight:o.height,width:t.width,height:t.height,transform:t.transform})})):t.edges),[e,n]));return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1;const o=e.reduce(((e,o)=>{const i=yH(o.zIndex);let s=i?o.zIndex:0;if(n){var a,l;const e=t.get(o.target),n=t.get(o.source),r=o.selected||(null===e||void 0===e?void 0:e.selected)||(null===n||void 0===n?void 0:n.selected),c=Math.max((null===n||void 0===n||null===(a=n[bH])||void 0===a?void 0:a.z)||0,(null===e||void 0===e||null===(l=e[bH])||void 0===l?void 0:l.z)||0,1e3);s=(i?o.zIndex:0)+(r?c:0)}return e[s]?e[s].push(o):e[s]=[o],r=s>r?s:r,e}),{}),i=Object.entries(o).map((e=>{let[t,n]=e;const o=+t;return{edges:n,level:o,isMaxLevel:o===r}}));return 0===i.length?nK:i}(o,n,r)}const oK={[RH.Arrow]:e=>{let{color:n="none",strokeWidth:r=1}=e;return t.createElement("polyline",{style:{stroke:n,strokeWidth:r},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[RH.ArrowClosed]:e=>{let{color:n="none",strokeWidth:r=1}=e;return t.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:r},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const iK=e=>{let{id:n,type:r,color:o,width:i=12.5,height:s=12.5,markerUnits:a="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"}=e;const u=function(e){const n=tH();return(0,t.useMemo)((()=>{var t,r;return Object.prototype.hasOwnProperty.call(oK,e)?oK[e]:(null===(t=(r=n.getState()).onError)||void 0===t||t.call(r,"009",QW.error009(e)),null)}),[e])}(r);return u?t.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"".concat(i),markerHeight:"".concat(s),viewBox:"-10 -10 20 20",markerUnits:a,orient:c,refX:"0",refY:"0"},t.createElement(u,{color:o,strokeWidth:l})):null},sK=e=>{let{defaultColor:n,rfId:r}=e;const o=eH((0,t.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{const r=[];return e.edges.reduce(((e,o)=>([o.markerStart,o.markerEnd].forEach((o=>{if(o&&"object"===typeof o){const i=JH(o,n);r.includes(i)||(e.push({id:i,color:o.color||t,...o}),r.push(i))}})),e)),[]).sort(((e,t)=>e.id.localeCompare(t.id)))}})({defaultColor:n,rfId:r}),[n,r]),((e,t)=>!(e.length!==t.length||e.some(((e,n)=>e.id!==t[n].id)))));return t.createElement("defs",null,o.map((e=>t.createElement(iK,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient}))))};sK.displayName="MarkerDefinitions";var aK=(0,t.memo)(sK);const lK=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),cK=e=>{let{defaultMarkerColor:n,onlyRenderVisibleElements:r,elevateEdgesOnSelect:o,rfId:i,edgeTypes:s,noPanClassName:a,onEdgeUpdate:l,onEdgeContextMenu:c,onEdgeMouseEnter:u,onEdgeMouseMove:d,onEdgeMouseLeave:h,onEdgeClick:f,edgeUpdaterRadius:p,onEdgeDoubleClick:m,onEdgeUpdateStart:g,onEdgeUpdateEnd:v,children:y,disableKeyboardA11y:b}=e;const{edgesFocusable:w,edgesUpdatable:x,elementsSelectable:S,width:k,height:C,connectionMode:_,nodeInternals:E,onError:A}=eH(lK,iR),M=rK(r,E,o);return k?t.createElement(t.Fragment,null,M.map((e=>{let{level:r,edges:o,isMaxLevel:y}=e;return t.createElement("svg",{key:r,style:{zIndex:r},width:k,height:C,className:"react-flow__edges react-flow__container"},y&&t.createElement(aK,{defaultColor:n,rfId:i}),t.createElement("g",null,o.map((e=>{var n,r;const[o,y,k]=tK(E.get(e.source)),[C,M,T]=tK(E.get(e.target));if(!k||!T)return null;let P=e.type||"default";s[P]||(null===A||void 0===A||A("011",QW.error011(P)),P="default");const O=s[P]||s.default,N=_===PH.Strict?M.target:(null!==(n=M.target)&&void 0!==n?n:[]).concat(null!==(r=M.source)&&void 0!==r?r:[]),D=eK(y.source,e.sourceHandle),R=eK(N,e.targetHandle),I=(null===D||void 0===D?void 0:D.position)||IH.Bottom,z=(null===R||void 0===R?void 0:R.position)||IH.Top,L=!!(e.focusable||w&&"undefined"===typeof e.focusable),B="undefined"!==typeof l&&(e.updatable||x&&"undefined"===typeof e.updatable);if(!D||!R)return null===A||void 0===A||A("008",QW.error008(D,e)),null;const{sourceX:j,sourceY:F,targetX:V,targetY:W}=((e,t,n,r,o,i)=>{const s=Jq(n,e,t),a=Jq(i,r,o);return{sourceX:s.x,sourceY:s.y,targetX:a.x,targetY:a.y}})(o,D,I,C,R,z);return t.createElement(O,{key:e.id,id:e.id,className:JB([e.className,a]),type:P,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:j,sourceY:F,targetX:V,targetY:W,sourcePosition:I,targetPosition:z,elementsSelectable:S,onEdgeUpdate:l,onContextMenu:c,onMouseEnter:u,onMouseMove:d,onMouseLeave:h,onClick:f,edgeUpdaterRadius:p,onEdgeDoubleClick:m,onEdgeUpdateStart:g,onEdgeUpdateEnd:v,rfId:i,ariaLabel:e.ariaLabel,isFocusable:L,isUpdatable:B,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:b})}))))})),y):null};cK.displayName="EdgeRenderer";var uK=(0,t.memo)(cK);const dK=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function hK(e){let{children:n}=e;const r=eH(dK);return t.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:r}},n)}const fK={[IH.Left]:IH.Right,[IH.Right]:IH.Left,[IH.Top]:IH.Bottom,[IH.Bottom]:IH.Top},pK=e=>{var n,r,o,i,s,a,l;let{nodeId:c,handleType:u,style:d,type:h=DH.Bezier,CustomComponent:f,connectionStatus:p}=e;const{fromNode:m,handleId:g,toX:v,toY:y,connectionMode:b}=eH((0,t.useCallback)((e=>({fromNode:e.nodeInternals.get(c),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode})),[c]),iR),w=null===m||void 0===m||null===(n=m[bH])||void 0===n?void 0:n.handleBounds;let x=null===w||void 0===w?void 0:w[u];if(b===PH.Loose&&(x=x||(null===w||void 0===w?void 0:w["source"===u?"target":"source"])),!m||!x)return null;const S=g?x.find((e=>e.id===g)):x[0],k=S?S.x+S.width/2:(null!==(r=m.width)&&void 0!==r?r:0)/2,C=S?S.y+S.height/2:null!==(o=m.height)&&void 0!==o?o:0,_=(null!==(i=null===(s=m.positionAbsolute)||void 0===s?void 0:s.x)&&void 0!==i?i:0)+k,E=(null!==(a=null===(l=m.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==a?a:0)+C,A=null===S||void 0===S?void 0:S.position,M=A?fK[A]:null;if(!A||!M)return null;if(f)return t.createElement(f,{connectionLineType:h,connectionLineStyle:d,fromNode:m,fromHandle:S,fromX:_,fromY:E,toX:v,toY:y,fromPosition:A,toPosition:M,connectionStatus:p});let T="";const P={sourceX:_,sourceY:E,sourcePosition:A,targetX:v,targetY:y,targetPosition:M};return h===DH.Bezier?[T]=$H(P):h===DH.Step?[T]=WH({...P,borderRadius:0}):h===DH.SmoothStep?[T]=WH(P):h===DH.SimpleBezier?[T]=LH(P):T="M".concat(_,",").concat(E," ").concat(v,",").concat(y),t.createElement("path",{d:T,fill:"none",className:"react-flow__connection-path",style:d})};pK.displayName="ConnectionLine";const mK=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function gK(e){let{containerStyle:n,style:r,type:o,component:i}=e;const{nodeId:s,handleType:a,nodesConnectable:l,width:c,height:u,connectionStatus:d}=eH(mK,iR);return!!(s&&a&&c&&l)?t.createElement("svg",{style:n,width:c,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},t.createElement("g",{className:JB(["react-flow__connection",d])},t.createElement(pK,{nodeId:s,handleType:a,style:r,type:o,CustomComponent:i,connectionStatus:d}))):null}function vK(e,n){(0,t.useRef)(null),tH();return(0,t.useMemo)((()=>n(e)),[e])}const yK=e=>{let{nodeTypes:n,edgeTypes:r,onMove:o,onMoveStart:i,onMoveEnd:s,onInit:a,onNodeClick:l,onEdgeClick:c,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:h,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:m,onSelectionContextMenu:g,onSelectionStart:v,onSelectionEnd:y,connectionLineType:b,connectionLineStyle:w,connectionLineComponent:x,connectionLineContainerStyle:S,selectionKeyCode:k,selectionOnDrag:C,selectionMode:_,multiSelectionKeyCode:E,panActivationKeyCode:A,zoomActivationKeyCode:M,deleteKeyCode:T,onlyRenderVisibleElements:P,elementsSelectable:O,selectNodesOnDrag:N,defaultViewport:D,translateExtent:R,minZoom:I,maxZoom:z,preventScrolling:L,defaultMarkerColor:B,zoomOnScroll:j,zoomOnPinch:F,panOnScroll:V,panOnScrollSpeed:W,panOnScrollMode:H,zoomOnDoubleClick:U,panOnDrag:q,onPaneClick:K,onPaneMouseEnter:Y,onPaneMouseMove:$,onPaneMouseLeave:X,onPaneScroll:G,onPaneContextMenu:Z,onEdgeUpdate:Q,onEdgeContextMenu:J,onEdgeMouseEnter:ee,onEdgeMouseMove:te,onEdgeMouseLeave:ne,edgeUpdaterRadius:re,onEdgeUpdateStart:oe,onEdgeUpdateEnd:ie,noDragClassName:se,noWheelClassName:ae,noPanClassName:le,elevateEdgesOnSelect:ce,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:he,rfId:fe}=e;const pe=vK(n,Wq),me=vK(r,Qq);return function(e){const n=iq(),r=(0,t.useRef)(!1);(0,t.useEffect)((()=>{!r.current&&n.viewportInitialized&&e&&(setTimeout((()=>e(n)),1),r.current=!0)}),[e,n.viewportInitialized])}(a),t.createElement(Vq,{onPaneClick:K,onPaneMouseEnter:Y,onPaneMouseMove:$,onPaneMouseLeave:X,onPaneContextMenu:Z,onPaneScroll:G,deleteKeyCode:T,selectionKeyCode:k,selectionOnDrag:C,selectionMode:_,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:E,panActivationKeyCode:A,zoomActivationKeyCode:M,elementsSelectable:O,onMove:o,onMoveStart:i,onMoveEnd:s,zoomOnScroll:j,zoomOnPinch:F,zoomOnDoubleClick:U,panOnScroll:V,panOnScrollSpeed:W,panOnScrollMode:H,panOnDrag:q,defaultViewport:D,translateExtent:R,minZoom:I,maxZoom:z,onSelectionContextMenu:g,preventScrolling:L,noDragClassName:se,noWheelClassName:ae,noPanClassName:le,disableKeyboardA11y:ue},t.createElement(hK,null,t.createElement(uK,{edgeTypes:me,onEdgeClick:c,onEdgeDoubleClick:d,onEdgeUpdate:Q,onlyRenderVisibleElements:P,onEdgeContextMenu:J,onEdgeMouseEnter:ee,onEdgeMouseMove:te,onEdgeMouseLeave:ne,onEdgeUpdateStart:oe,onEdgeUpdateEnd:ie,edgeUpdaterRadius:re,defaultMarkerColor:B,noPanClassName:le,elevateEdgesOnSelect:!!ce,disableKeyboardA11y:ue,rfId:fe},t.createElement(gK,{style:w,type:b,component:x,containerStyle:S})),t.createElement("div",{className:"react-flow__edgelabel-renderer"}),t.createElement(qq,{nodeTypes:pe,onNodeClick:l,onNodeDoubleClick:u,onNodeMouseEnter:h,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:m,selectNodesOnDrag:N,onlyRenderVisibleElements:P,noPanClassName:le,noDragClassName:se,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:he,rfId:fe})))};yK.displayName="GraphView";var bK=(0,t.memo)(yK);const wK=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],xK={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:wK,nodeExtent:wK,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:PH.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:xH,isValidConnection:void 0},SK=e=>{let{children:n}=e;const r=(0,t.useRef)(null);return r.current||(r.current=pR(((e,t)=>({...xK,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:GU(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map((e=>({...r,...e})))})},setDefaultNodesAndEdges:(n,r)=>{const o="undefined"!==typeof n,i="undefined"!==typeof r,s=o?GU(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:s,fitViewOnInitOptions:a,domNode:l,nodeOrigin:c}=t(),u=null===l||void 0===l?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:h}=new window.DOMMatrixReadOnly(d.transform),f=n.reduce(((e,t)=>{const n=o.get(t.id);if(null!==n&&void 0!==n&&n.hidden)o.set(n.id,{...n,[bH]:{...n[bH],handleBounds:void 0}});else if(n){const r=sH(t.nodeElement);r.width&&r.height&&(n.width!==r.width||n.height!==r.height||t.forceUpdate)&&(o.set(n.id,{...n,[bH]:{...n[bH],handleBounds:{source:Tq(".source",t.nodeElement,h,c),target:Tq(".target",t.nodeElement,h,c)}},...r}),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e}),[]);XU(o,c);const p=s||i&&!s&&ZU(t,{initial:!0,...a});e({nodeInternals:new Map(o),fitViewOnInitDone:p}),(null===f||void 0===f?void 0:f.length)>0&&(null===r||void 0===r||r(f))},updateNodePositions:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{triggerNodeChanges:o}=t(),i=e.map((e=>{const t={id:e.id,type:"position",dragging:r};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t}));o(i)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:s,getNodes:a,elevateNodesOnSelect:l}=t();if(null!==n&&void 0!==n&&n.length){if(i){const t=GU(yq(n,a()),o,s,l);e({nodeInternals:t})}null===r||void 0===r||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,a=null;r?s=n.map((e=>bq(e,!0))):(s=wq(i(),n),a=wq(o,[])),eq({changedNodes:s,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,a=null;r?s=n.map((e=>bq(e,!0))):(s=wq(o,n),a=wq(i(),[])),eq({changedNodes:a,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:o,getNodes:i}=t(),s=r||o;eq({changedNodes:(n||i()).map((e=>(e.selected=!1,bq(e.id,!1)))),changedEdges:s.map((e=>bq(e.id,!1))),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();null===r||void 0===r||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();null===r||void 0===r||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;null===(r=t().d3Zoom)||void 0===r||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t();eq({changedNodes:r().filter((e=>e.selected)).map((e=>bq(e.id,!1))),changedEdges:n.filter((e=>e.selected)).map((e=>bq(e.id,!1))),get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach((e=>{e.positionAbsolute=lH(e.position,n)})),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:e=>{const{transform:n,width:r,height:o,d3Zoom:i,d3Selection:s,translateExtent:a}=t();if(!i||!s||!e.x&&!e.y)return!1;const l=TW.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=[[0,0],[r,o]],u=null===i||void 0===i?void 0:i.constrain()(l,c,a);return i.transform(s,u),n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:xK.connectionNodeId,connectionHandleId:xK.connectionHandleId,connectionHandleType:xK.connectionHandleType,connectionStatus:xK.connectionStatus,connectionStartHandle:xK.connectionStartHandle,connectionEndHandle:xK.connectionEndHandle}),reset:()=>e({...xK})})),Object.is)),t.createElement(ZW,{value:r.current},n)};SK.displayName="ReactFlowProvider";const kK=e=>{let{children:n}=e;return(0,t.useContext)(GW)?t.createElement(t.Fragment,null,n):t.createElement(SK,null,n)};kK.displayName="ReactFlowWrapper";const CK={input:kU,default:xU,output:_U,group:EU},_K={default:XH,straight:qH,step:UH,smoothstep:HH,simplebezier:BH},EK=[0,0],AK=[15,15],MK={x:0,y:0,zoom:1},TK={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},PK=(0,t.forwardRef)(((e,n)=>{let{nodes:r,edges:o,defaultNodes:i,defaultEdges:s,className:a,nodeTypes:l=CK,edgeTypes:c=_K,onNodeClick:u,onEdgeClick:d,onInit:h,onMove:f,onMoveStart:p,onMoveEnd:m,onConnect:g,onConnectStart:v,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:w,onNodeMouseEnter:x,onNodeMouseMove:S,onNodeMouseLeave:k,onNodeContextMenu:C,onNodeDoubleClick:_,onNodeDragStart:E,onNodeDrag:A,onNodeDragStop:M,onNodesDelete:T,onEdgesDelete:P,onSelectionChange:O,onSelectionDragStart:N,onSelectionDrag:D,onSelectionDragStop:R,onSelectionContextMenu:I,onSelectionStart:z,onSelectionEnd:L,connectionMode:B=PH.Strict,connectionLineType:j=DH.Bezier,connectionLineStyle:F,connectionLineComponent:V,connectionLineContainerStyle:W,deleteKeyCode:H="Backspace",selectionKeyCode:U="Shift",selectionOnDrag:q=!1,selectionMode:K=NH.Full,panActivationKeyCode:Y="Space",multiSelectionKeyCode:$=(_H()?"Meta":"Control"),zoomActivationKeyCode:X=(_H()?"Meta":"Control"),snapToGrid:G=!1,snapGrid:Z=AK,onlyRenderVisibleElements:Q=!1,selectNodesOnDrag:J=!0,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,nodeOrigin:re=EK,edgesFocusable:oe,edgesUpdatable:ie,elementsSelectable:se,defaultViewport:ae=MK,minZoom:le=.5,maxZoom:ce=2,translateExtent:ue=wK,preventScrolling:de=!0,nodeExtent:he,defaultMarkerColor:fe="#b1b1b7",zoomOnScroll:pe=!0,zoomOnPinch:me=!0,panOnScroll:ge=!1,panOnScrollSpeed:ve=.5,panOnScrollMode:ye=OH.Free,zoomOnDoubleClick:be=!0,panOnDrag:we=!0,onPaneClick:xe,onPaneMouseEnter:Se,onPaneMouseMove:ke,onPaneMouseLeave:Ce,onPaneScroll:_e,onPaneContextMenu:Ee,children:Ae,onEdgeUpdate:Me,onEdgeContextMenu:Te,onEdgeDoubleClick:Pe,onEdgeMouseEnter:Oe,onEdgeMouseMove:Ne,onEdgeMouseLeave:De,onEdgeUpdateStart:Re,onEdgeUpdateEnd:Ie,edgeUpdaterRadius:ze=10,onNodesChange:Le,onEdgesChange:Be,noDragClassName:je="nodrag",noWheelClassName:Fe="nowheel",noPanClassName:Ve="nopan",fitView:We=!1,fitViewOptions:He,connectOnClick:Ue=!0,attributionPosition:qe,proOptions:Ke,defaultEdgeOptions:Ye,elevateNodesOnSelect:$e=!0,elevateEdgesOnSelect:Xe=!1,disableKeyboardA11y:Ge=!1,autoPanOnConnect:Ze=!0,autoPanOnNodeDrag:Qe=!0,connectionRadius:Je=20,isValidConnection:et,onError:tt,style:nt,id:rt,nodeDragThreshold:ot,...it}=e;const st=rt||"1";return t.createElement("div",{...it,style:{...nt,...TK},ref:n,className:JB(["react-flow",a]),"data-testid":"rf__wrapper",id:rt},t.createElement(kK,null,t.createElement(bK,{onInit:h,onMove:f,onMoveStart:p,onMoveEnd:m,onNodeClick:u,onEdgeClick:d,onNodeMouseEnter:x,onNodeMouseMove:S,onNodeMouseLeave:k,onNodeContextMenu:C,onNodeDoubleClick:_,nodeTypes:l,edgeTypes:c,connectionLineType:j,connectionLineStyle:F,connectionLineComponent:V,connectionLineContainerStyle:W,selectionKeyCode:U,selectionOnDrag:q,selectionMode:K,deleteKeyCode:H,multiSelectionKeyCode:$,panActivationKeyCode:Y,zoomActivationKeyCode:X,onlyRenderVisibleElements:Q,selectNodesOnDrag:J,defaultViewport:ae,translateExtent:ue,minZoom:le,maxZoom:ce,preventScrolling:de,zoomOnScroll:pe,zoomOnPinch:me,zoomOnDoubleClick:be,panOnScroll:ge,panOnScrollSpeed:ve,panOnScrollMode:ye,panOnDrag:we,onPaneClick:xe,onPaneMouseEnter:Se,onPaneMouseMove:ke,onPaneMouseLeave:Ce,onPaneScroll:_e,onPaneContextMenu:Ee,onSelectionContextMenu:I,onSelectionStart:z,onSelectionEnd:L,onEdgeUpdate:Me,onEdgeContextMenu:Te,onEdgeDoubleClick:Pe,onEdgeMouseEnter:Oe,onEdgeMouseMove:Ne,onEdgeMouseLeave:De,onEdgeUpdateStart:Re,onEdgeUpdateEnd:Ie,edgeUpdaterRadius:ze,defaultMarkerColor:fe,noDragClassName:je,noWheelClassName:Fe,noPanClassName:Ve,elevateEdgesOnSelect:Xe,rfId:st,disableKeyboardA11y:Ge,nodeOrigin:re,nodeExtent:he}),t.createElement(zU,{nodes:r,edges:o,defaultNodes:i,defaultEdges:s,onConnect:g,onConnectStart:v,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:w,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,edgesFocusable:oe,edgesUpdatable:ie,elementsSelectable:se,elevateNodesOnSelect:$e,minZoom:le,maxZoom:ce,nodeExtent:he,onNodesChange:Le,onEdgesChange:Be,snapToGrid:G,snapGrid:Z,connectionMode:B,translateExtent:ue,connectOnClick:Ue,defaultEdgeOptions:Ye,fitView:We,fitViewOptions:He,onNodesDelete:T,onEdgesDelete:P,onNodeDragStart:E,onNodeDrag:A,onNodeDragStop:M,onSelectionDrag:D,onSelectionDragStart:N,onSelectionDragStop:R,noPanClassName:Ve,nodeOrigin:re,rfId:st,autoPanOnConnect:Ze,autoPanOnNodeDrag:Qe,onError:tt,connectionRadius:Je,isValidConnection:et,nodeDragThreshold:ot}),t.createElement(NU,{onSelectionChange:O}),Ae,t.createElement(oH,{proOptions:Ke,position:qe}),t.createElement(UU,{rfId:st,disableKeyboardA11y:Ge})))}));PK.displayName="ReactFlow";function OK(e){return n=>{const[r,o]=(0,t.useState)(n),i=(0,t.useCallback)((t=>o((n=>e(t,n)))),[]);return[r,o,i]}}OK(yq),OK((function(e,t){return vq(e,t)}));var NK;function DK(e){let{color:n,dimensions:r,lineWidth:o}=e;return t.createElement("path",{stroke:n,strokeWidth:o,d:"M".concat(r[0]/2," 0 V").concat(r[1]," M0 ").concat(r[1]/2," H").concat(r[0])})}function RK(e){let{color:n,radius:r}=e;return t.createElement("circle",{cx:r,cy:r,r:r,fill:n})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(NK||(NK={}));const IK={[NK.Dots]:"#91919a",[NK.Lines]:"#eee",[NK.Cross]:"#e2e2e2"},zK={[NK.Dots]:1,[NK.Lines]:1,[NK.Cross]:6},LK=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function BK(e){let{id:n,variant:r=NK.Dots,gap:o=20,size:i,lineWidth:s=1,offset:a=2,color:l,style:c,className:u}=e;const d=(0,t.useRef)(null),{transform:h,patternId:f}=eH(LK,iR),p=l||IK[r],m=i||zK[r],g=r===NK.Dots,v=r===NK.Cross,y=Array.isArray(o)?o:[o,o],b=[y[0]*h[2]||1,y[1]*h[2]||1],w=m*h[2],x=v?[w,w]:b,S=g?[w/a,w/a]:[x[0]/a,x[1]/a];return t.createElement("svg",{className:JB(["react-flow__background",u]),style:{...c,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:d,"data-testid":"rf__background"},t.createElement("pattern",{id:f+n,x:h[0]%b[0],y:h[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(S[0],",-").concat(S[1],")")},g?t.createElement(RK,{color:p,radius:w/a}):t.createElement(DK,{dimensions:x,color:p,lineWidth:s})),t.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(f+n,")")}))}BK.displayName="Background";var jK=(0,t.memo)(BK);function FK(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},t.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function VK(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},t.createElement("path",{d:"M0 0h32v4.2H0z"}))}function WK(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},t.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function HK(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},t.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function UK(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},t.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const qK=e=>{let{children:n,className:r,...o}=e;return t.createElement("button",{type:"button",className:JB(["react-flow__controls-button",r]),...o},n)};qK.displayName="ControlButton";const KK=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),YK=e=>{let{style:n,showZoom:r=!0,showFitView:o=!0,showInteractive:i=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:l,onFitView:c,onInteractiveChange:u,className:d,children:h,position:f="bottom-left"}=e;const p=tH(),[m,g]=(0,t.useState)(!1),{isInteractive:v,minZoomReached:y,maxZoomReached:b}=eH(KK,iR),{zoomIn:w,zoomOut:x,fitView:S}=iq();if((0,t.useEffect)((()=>{g(!0)}),[]),!m)return null;return t.createElement(rH,{className:JB(["react-flow__controls",d]),position:f,style:n,"data-testid":"rf__controls"},r&&t.createElement(t.Fragment,null,t.createElement(qK,{onClick:()=>{w(),null===a||void 0===a||a()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b},t.createElement(FK,null)),t.createElement(qK,{onClick:()=>{x(),null===l||void 0===l||l()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y},t.createElement(VK,null))),o&&t.createElement(qK,{className:"react-flow__controls-fitview",onClick:()=>{S(s),null===c||void 0===c||c()},title:"fit view","aria-label":"fit view"},t.createElement(WK,null)),i&&t.createElement(qK,{className:"react-flow__controls-interactive",onClick:()=>{p.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),null===u||void 0===u||u(!v)},title:"toggle interactivity","aria-label":"toggle interactivity"},v?t.createElement(UK,null):t.createElement(HK,null)),h)};YK.displayName="Controls";var $K=(0,t.memo)(YK),XK=vL({d:"M19.5,9.5h-.75V6.75a6.75,6.75,0,0,0-13.5,0V9.5H4.5a2,2,0,0,0-2,2V22a2,2,0,0,0,2,2h15a2,2,0,0,0,2-2V11.5A2,2,0,0,0,19.5,9.5Zm-9.5,6a2,2,0,1,1,3,1.723V19.5a1,1,0,0,1-2,0V17.223A1.994,1.994,0,0,1,10,15.5ZM7.75,6.75a4.25,4.25,0,0,1,8.5,0V9a.5.5,0,0,1-.5.5H8.25a.5.5,0,0,1-.5-.5Z",displayName:"LockIcon"});function GK(e){const t=e.target,{tagName:n,isContentEditable:r}=t;return"INPUT"!==n&&"TEXTAREA"!==n&&!0!==r}function ZK(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{ref:n,isDisabled:r,isFocusable:o,clickOnEnter:i=!0,clickOnSpace:s=!0,onMouseDown:a,onMouseUp:l,onClick:c,onKeyDown:u,onKeyUp:d,tabIndex:h,onMouseOver:f,onMouseLeave:p,...m}=e,[g,v]=(0,t.useState)(!0),[y,b]=(0,t.useState)(!1),w=function(){const e=(0,t.useRef)(new Map),n=e.current,r=(0,t.useCallback)(((t,n,r,o)=>{e.current.set(r,{type:n,el:t,options:o}),t.addEventListener(n,r,o)}),[]),o=(0,t.useCallback)(((t,n,r,o)=>{t.removeEventListener(n,r,o),e.current.delete(r)}),[]);return(0,t.useEffect)((()=>()=>{n.forEach(((e,t)=>{o(e.el,e.type,t,e.options)}))}),[o,n]),{add:r,remove:o}}(),x=g?h:h||0,S=r&&!o,k=(0,t.useCallback)((e=>{if(r)return e.stopPropagation(),void e.preventDefault();e.currentTarget.focus(),null==c||c(e)}),[r,c]),C=(0,t.useCallback)((e=>{y&&GK(e)&&(e.preventDefault(),e.stopPropagation(),b(!1),w.remove(document,"keyup",C,!1))}),[y,w]),_=(0,t.useCallback)((e=>{if(null==u||u(e),r||e.defaultPrevented||e.metaKey)return;if(!GK(e.nativeEvent)||g)return;const t=i&&"Enter"===e.key;if(s&&" "===e.key&&(e.preventDefault(),b(!0)),t){e.preventDefault();e.currentTarget.click()}w.add(document,"keyup",C,!1)}),[r,g,u,i,s,w,C]),E=(0,t.useCallback)((e=>{if(null==d||d(e),r||e.defaultPrevented||e.metaKey)return;if(!GK(e.nativeEvent)||g)return;if(s&&" "===e.key){e.preventDefault(),b(!1);e.currentTarget.click()}}),[s,g,r,d]),A=(0,t.useCallback)((e=>{0===e.button&&(b(!1),w.remove(document,"mouseup",A,!1))}),[w]),M=(0,t.useCallback)((e=>{if(0!==e.button)return;if(r)return e.stopPropagation(),void e.preventDefault();g||b(!0);e.currentTarget.focus({preventScroll:!0}),w.add(document,"mouseup",A,!1),null==a||a(e)}),[r,g,a,w,A]),T=(0,t.useCallback)((e=>{0===e.button&&(g||b(!1),null==l||l(e))}),[l,g]),P=(0,t.useCallback)((e=>{r?e.preventDefault():null==f||f(e)}),[r,f]),O=(0,t.useCallback)((e=>{y&&(e.preventDefault(),b(!1)),null==p||p(e)}),[y,p]),N=qR(n,(e=>{e&&"BUTTON"!==e.tagName&&v(!1)}));return g?{...m,ref:N,type:"button","aria-disabled":S?void 0:r,disabled:S,onClick:k,onMouseDown:a,onMouseUp:l,onKeyUp:d,onKeyDown:u,onMouseOver:f,onMouseLeave:p}:{...m,ref:N,role:"button","data-active":on(y),"aria-disabled":r?"true":void 0,tabIndex:S?void 0:x,onClick:k,onMouseDown:M,onMouseUp:T,onKeyUp:E,onKeyDown:_,onMouseOver:P,onMouseLeave:O}}var QK=Object.defineProperty,JK=(e,t,n)=>(((e,t,n)=>{t in e?QK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n);function eY(e){return e.sort(((e,t)=>{const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(n&Node.DOCUMENT_POSITION_DISCONNECTED||n&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0}))}function tY(e,t,n){let r=e+1;return n&&r>=t&&(r=0),r}function nY(e,t,n){let r=e-1;return n&&r<0&&(r=t),r}var rY="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,oY=e=>e,iY=class{constructor(){var e=this;JK(this,"descendants",new Map),JK(this,"register",(e=>{var t;if(null!=e)return"object"==typeof(t=e)&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE?this.registerNode(e):t=>{this.registerNode(t,e)}})),JK(this,"unregister",(e=>{this.descendants.delete(e);const t=eY(Array.from(this.descendants.keys()));this.assignIndex(t)})),JK(this,"destroy",(()=>{this.descendants.clear()})),JK(this,"assignIndex",(e=>{this.descendants.forEach((t=>{const n=e.indexOf(t.node);t.index=n,t.node.dataset.index=t.index.toString()}))})),JK(this,"count",(()=>this.descendants.size)),JK(this,"enabledCount",(()=>this.enabledValues().length)),JK(this,"values",(()=>Array.from(this.descendants.values()).sort(((e,t)=>e.index-t.index)))),JK(this,"enabledValues",(()=>this.values().filter((e=>!e.disabled)))),JK(this,"item",(e=>{if(0!==this.count())return this.values()[e]})),JK(this,"enabledItem",(e=>{if(0!==this.enabledCount())return this.enabledValues()[e]})),JK(this,"first",(()=>this.item(0))),JK(this,"firstEnabled",(()=>this.enabledItem(0))),JK(this,"last",(()=>this.item(this.descendants.size-1))),JK(this,"lastEnabled",(()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)})),JK(this,"indexOf",(e=>{var t,n;return e&&null!=(n=null==(t=this.descendants.get(e))?void 0:t.index)?n:-1})),JK(this,"enabledIndexOf",(e=>null==e?-1:this.enabledValues().findIndex((t=>t.node.isSameNode(e))))),JK(this,"next",(function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=tY(t,e.count(),n);return e.item(r)})),JK(this,"nextEnabled",(function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=e.item(t);if(!r)return;const o=tY(e.enabledIndexOf(r.node),e.enabledCount(),n);return e.enabledItem(o)})),JK(this,"prev",(function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=nY(t,e.count()-1,n);return e.item(r)})),JK(this,"prevEnabled",(function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=e.item(t);if(!r)return;const o=nY(e.enabledIndexOf(r.node),e.enabledCount()-1,n);return e.enabledItem(o)})),JK(this,"registerNode",((e,t)=>{if(!e||this.descendants.has(e))return;const n=eY(Array.from(this.descendants.keys()).concat(e));(null==t?void 0:t.disabled)&&(t.disabled=!!t.disabled);const r={node:e,index:-1,...t};this.descendants.set(e,r),this.assignIndex(n)}))}};var[sY,aY]=Yt({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});var[lY,cY,uY,dY]=[oY(sY),()=>oY(aY()),()=>function(){const e=(0,t.useRef)(new iY);return rY((()=>()=>e.current.destroy())),e.current}(),e=>function(e){const n=aY(),[r,o]=(0,t.useState)(-1),i=(0,t.useRef)(null);rY((()=>()=>{i.current&&n.unregister(i.current)}),[]),rY((()=>{if(!i.current)return;const e=Number(i.current.dataset.index);r==e||Number.isNaN(e)||o(e)}));const s=oY(e?n.register(e):n.register);return{descendants:n,index:r,enabledIndex:n.enabledIndexOf(i.current),register:qR(s,i)}}(e)];var[hY,fY]=Yt({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});var[pY,mY]=Yt({});function gY(e,t){return"".concat(e,"--tab-").concat(t)}function vY(e,t){return"".concat(e,"--tabpanel-").concat(t)}var[yY,bY]=Yt({name:"TabsStylesContext",errorMessage:"useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Tabs />\" "}),wY=xy((function(e,n){const r=Ay("Tabs",e),{children:o,className:i,...s}=Yr(e),{htmlProps:a,descendants:l,...c}=function(e){var n;const{defaultIndex:r,onChange:o,index:i,isManual:s,isLazy:a,lazyBehavior:l="unmount",orientation:c="horizontal",direction:u="ltr",...d}=e,[h,f]=(0,t.useState)(null!=r?r:0),[p,m]=oB({defaultValue:null!=r?r:0,value:i,onChange:o});(0,t.useEffect)((()=>{null!=i&&f(i)}),[i]);const g=uY(),v=(0,t.useId)(),y=null!=(n=e.id)?n:v;return{id:"tabs-".concat(y),selectedIndex:p,focusedIndex:h,setSelectedIndex:m,setFocusedIndex:f,isManual:s,isLazy:a,lazyBehavior:l,orientation:c,descendants:g,direction:u,htmlProps:d}}(s),u=(0,t.useMemo)((()=>c),[c]),{isFitted:d,...h}=a,f={position:"relative",...r.root};return(0,Wt.jsx)(lY,{value:l,children:(0,Wt.jsx)(hY,{value:u,children:(0,Wt.jsx)(yY,{value:r,children:(0,Wt.jsx)(vy.div,{className:en("chakra-tabs",i),ref:n,...h,__css:f,children:o})})})})}));wY.displayName="Tabs";var xY=xy((function(e,n){const r=function(e){const{focusedIndex:n,orientation:r,direction:o}=fY(),i=cY(),s=(0,t.useCallback)((e=>{const t=()=>{var e;const t=i.nextEnabled(n);t&&(null==(e=t.node)||e.focus())},s=()=>{var e;const t=i.prevEnabled(n);t&&(null==(e=t.node)||e.focus())},a="horizontal"===r,l="vertical"===r,c=e.key,u={["ltr"===o?"ArrowLeft":"ArrowRight"]:()=>a&&s(),["ltr"===o?"ArrowRight":"ArrowLeft"]:()=>a&&t(),ArrowDown:()=>l&&t(),ArrowUp:()=>l&&s(),Home:()=>{var e;const t=i.firstEnabled();t&&(null==(e=t.node)||e.focus())},End:()=>{var e;const t=i.lastEnabled();t&&(null==(e=t.node)||e.focus())}},d=u[c];d&&(e.preventDefault(),d(e))}),[i,n,r,o]);return{...e,role:"tablist","aria-orientation":r,onKeyDown:an(e.onKeyDown,s)}}({...e,ref:n}),o={display:"flex",...bY().tablist};return(0,Wt.jsx)(vy.div,{...r,className:en("chakra-tabs__tablist",e.className),__css:o})}));xY.displayName="TabList";var SY=xy((function(e,t){const n=bY(),r=function(e){const{isDisabled:t=!1,isFocusable:n=!1,...r}=e,{setSelectedIndex:o,isManual:i,id:s,setFocusedIndex:a,selectedIndex:l}=fY(),{index:c,register:u}=dY({disabled:t&&!n}),d=c===l;return{...ZK({...r,ref:qR(u,e.ref),isDisabled:t,isFocusable:n,onClick:an(e.onClick,(()=>{o(c)}))}),id:gY(s,c),role:"tab",tabIndex:d?0:-1,type:"button","aria-selected":d,"aria-controls":vY(s,c),onFocus:t?void 0:an(e.onFocus,(()=>{a(c),!i&&(!t||!n)&&o(c)}))}}({...e,ref:t}),o={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...n.tab};return(0,Wt.jsx)(vy.button,{...r,className:en("chakra-tabs__tab",e.className),__css:o})}));SY.displayName="Tab";var kY=xy((function(e,n){const r=function(e){const n=fY(),{id:r,selectedIndex:o}=n,i=wB(e.children).map(((e,n)=>(0,t.createElement)(pY,{key:n,value:{isSelected:n===o,id:vY(r,n),tabId:gY(r,n),selectedIndex:o}},e)));return{...e,children:i}}(e),o=bY();return(0,Wt.jsx)(vy.div,{...r,width:"100%",ref:n,className:en("chakra-tabs__tab-panels",e.className),__css:o.tabpanels})}));kY.displayName="TabPanels";var CY=xy((function(e,n){const r=function(e){const{children:n,...r}=e,{isLazy:o,lazyBehavior:i}=fY(),{isSelected:s,id:a,tabId:l}=mY(),c=(0,t.useRef)(!1);s&&(c.current=!0);const u=function(e){const{wasSelected:t,enabled:n,isSelected:r,mode:o="unmount"}=e;return!n||!!r||!("keepMounted"!==o||!t)}({wasSelected:c.current,isSelected:s,enabled:o,mode:i});return{tabIndex:0,...r,children:u?n:null,role:"tabpanel","aria-labelledby":l,hidden:!s,id:a}}({...e,ref:n}),o=bY();return(0,Wt.jsx)(vy.div,{outline:"0",...r,className:en("chakra-tabs__tab-panel",e.className),__css:o.tabpanel})}));CY.displayName="TabPanel";const _Y=e=>{const{cur:t,vars:n,name:r}=e.data;return(0,Wt.jsx)(Wt.Fragment,{children:(0,Wt.jsxs)(AR,{bg:"white",borderRadius:"7px",fontSize:"12px",color:"black",border:t?"2px solid red":"1px solid",borderBottom:t?"3px solid red":"1px solid",height:"100%",width:"100%",children:[(0,Wt.jsx)(bU,{type:"target",position:IH.Top}),(0,Wt.jsx)(AR,{bg:"#Cadbf7",p:"7px",borderRadius:"7px 7px 0px 0px",children:(0,Wt.jsx)("b",{children:r})}),(0,Wt.jsx)(AR,{p:"0px 7px",children:n.map(((e,t)=>(0,Wt.jsxs)(AR,{p:1,color:e.modified?"red":"black",children:[e.name," = ",e.val]},t)))}),(0,Wt.jsx)(bU,{type:"source",position:IH.Bottom})]})})},EY=(e,t,n,r,o)=>{r.push({id:"env "+e.addr.toString(),data:{...e},position:{x:n,y:t},type:"EnvNode",style:{width:200,height:40+26*e.vars.length}}),t+=40+30*e.vars.length+20;let i=!1;for(const s of e.children)o.push({id:e.addr.toString()+"->"+s.addr.toString(),source:"env "+e.addr.toString(),target:"env "+s.addr.toString(),markerEnd:{type:RH.ArrowClosed,width:30,height:20}}),i&&(n=r[r.length-1].position.x+220),EY(s,t,n,r,o),i=!0},AY=()=>{const{cur_data:e}=gR((e=>({cur_data:e.cur_data}))),n=(0,t.useMemo)((()=>({EnvNode:_Y})),[]),r=Jt("white","gray.800"),[o,i]=(0,t.useState)(0);return(0,t.useEffect)((()=>{o>=e.length&&i(0)}),[o,e]),(0,Wt.jsx)(Wt.Fragment,{children:(0,Wt.jsx)(ER,{direction:"column",w:"full",children:(0,Wt.jsx)(AR,{flexGrow:1,position:"relative",overflow:"hidden",id:"visual-area-container",bgColor:r,children:(0,Wt.jsxs)(wY,{index:o,onChange:e=>i(e),h:"100%",children:[(0,Wt.jsx)(xY,{children:e.map(((e,t)=>(0,Wt.jsxs)(SY,{children:[e.blocked&&(0,Wt.jsx)(XK,{})," Thread ",e.id]},t)))}),(0,Wt.jsx)(kY,{h:"100%",children:e.map(((t,r)=>{const{nodes:o,edges:i}=(t=>{const n=[],r=[];return t.envs.children.length&&EY(t.envs.children[0],10,250,n,r),{nodes:[{id:"instr",data:{label:"Instructions"},position:{x:10,y:10},className:"light",style:{backgroundColor:"#Cadbf7",width:225,height:250,padding:"5px"}},...e.length?t.instrs.map(((e,t)=>{const n=e.cur?"#Caf7cb":"white";return{id:"instr "+e.idx.toString(),data:{label:e.idx.toString()+": "+e.val},position:{x:12.5,y:30*(t+1)},parentId:"instr",style:{width:200,height:30,padding:"5px",backgroundColor:n}}})):[],...e.length?(()=>{const e=t.OS.map(((e,t)=>({id:"os "+e.addr.toString(),data:{label:e.val},position:{x:12.5,y:30*(t+1)},parentId:"OS",style:{width:200,height:30,padding:"5px",borderColor:e.modified?"red":"black",color:e.modified?"red":"black",fontWeight:e.modified?"bold":"normal"}})));return[{id:"OS",data:{label:"Operand Stack"},position:{x:10,y:275},className:"light",style:{backgroundColor:"#Cadbf7",width:225,height:40+30*t.OS.length,padding:"5px"}},...e]})():[],...n],edges:[...r]}})(t);return(0,Wt.jsx)(CY,{h:"100%",children:(0,Wt.jsx)("div",{style:{height:"100%",width:"100%"},children:(0,Wt.jsxs)(PK,{nodeTypes:n,nodes:o,edges:i,children:[(0,Wt.jsx)(jK,{}),(0,Wt.jsx)($K,{})]})})},r)}))})]})})})})};var MY=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function TY(e){return"function"===typeof e}var PY=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let o=[...n],i=n[n.length-1];var s;return tn(s=i)&&MY.every((e=>Object.prototype.hasOwnProperty.call(s,e)))&&o.length>1?o=o.slice(0,o.length-1):i=e,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.reduce(((e,t)=>t(e)),e)}(...o.map((e=>t=>TY(e)?e(t):function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ln({},...t,NY)}(t,e))))(i)},OY=PY(Wu);PY(Hu);function NY(e,t,n,r){if((TY(e)||TY(t))&&Object.prototype.hasOwnProperty.call(r,n))return function(){const n=TY(e)?e(...arguments):e,r=TY(t)?t(...arguments):t;return ln({},n,r,NY)}}const DY=OY({styles:{global:{"#root":{display:"flex",flexDirection:"column",minHeight:"100vh"}}},fonts:{heading:"'Open Sans', sans-serif",body:"'Raleway', sans-serif"}});function RY(e){const{theme:n}=ky(),r=cb();return(0,t.useMemo)((()=>function(e,t){const n=n=>{var r;return{...t,...n,position:wy(null!=(r=null==n?void 0:n.position)?r:null==t?void 0:t.position,e)}},r=e=>{const t=n(e),r=Yy(t);return Uy.notify(r,t)};return r.update=(e,t)=>{Uy.update(e,n(t))},r.promise=(e,t)=>{const n=r({...t.loading,status:"loading",duration:null});e.then((e=>r.update(n,{status:"success",duration:5e3,...nn(t.success,e)}))).catch((e=>r.update(n,{status:"error",duration:5e3,...nn(t.error,e)})))},r.closeAll=Uy.closeAll,r.close=Uy.close,r.isActive=Uy.isActive,r}(n.direction,{...r,...e})),[e,n.direction,r])}function IY(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var zY=IY()?t.useLayoutEffect:t.useEffect;function LY(e,n){const r=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=(0,t.useRef)(e);return zY((()=>{r.current=e})),(0,t.useCallback)((function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return null==(e=r.current)?void 0:e.call(r,...n)}),n)}(e);(0,t.useEffect)((()=>{let e=null;const t=()=>r();return null!==n&&(e=window.setInterval(t,n)),()=>{e&&window.clearInterval(e)}}),[n,r])}var BY=vy("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});BY.displayName="Center";var jY={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};xy((function(e,t){const{axis:n="both",...r}=e;return(0,Wt.jsx)(vy.div,{ref:t,__css:jY[n],...r,position:"absolute"})}));function FY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var VY=function e(t,n){function r(e,r,o){if("undefined"!==typeof document){"number"===typeof(o=FY({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var s in o)o[s]&&(i+="; "+s,!0!==o[s]&&(i+="="+o[s].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),s=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(r[a]=t.read(s,a),e===a)break}catch(XG){}}return e?r[e]:r}},remove:function(e,t){r(e,"",FY({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,FY({},this.attributes,t))},withConverter:function(t){return e(FY({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class WY{constructor(e,t){this.addr=0,this.heap=void 0,this.heap=e,this.addr=t}get_children(){return[]}select(e,t){throw new Error("Unreachable")}handleMethodCall(e,t,n){throw new Error("Unreachable")}}class HY extends WY{static create(e,t){const n=t.allocate(e+1);return t.set_tag(n,C$.FRAME),t.set_children(n,Array(e).fill(t.UNASSIGNED),1),new HY(t,n)}set_idx(e,t){this.heap.set_child(e,this.addr+1,t)}get_idx(e){return this.heap.get_child(this.addr+1,e)}get_children(){return this.heap.get_children(this.addr,1)}}class UY extends WY{static create(e,t,n,r){const o=r.allocate(t.length+2);return r.set_tag(o,C$.ENVIRONMENT),r.memory.set_bits(n?1:0,o,1,16),r.memory.set_word(e,o+1),r.set_children(o,t,2),new UY(r,o)}extend_env(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[this.addr];let r=new UY(this.heap,this.addr),o=r.get_parent(n.length-1);for(;o;)n.push(o.addr),r=o,o=r.get_parent(n.length-1);return UY.create(e,n,t,this.heap)}get_frame(){return new HY(this.heap,this.heap.memory.get_word(this.addr+1))}get_frame_idx(e){if(0===e)return this.get_frame();const t=Math.floor(Math.log2(e)),n=this.get_parent(t);if(!n)throw Error("Execution Error: Invalid frame index");return n.get_frame_idx(e-2**t)}get_parent(e){return e+2>=this.heap.get_size(this.addr)||-1===this.heap.memory.get_number(this.addr+e+2)?void 0:new UY(this.heap,this.heap.memory.get_number(this.addr+e+2))}get_var(e,t){return this.get_frame_idx(e).get_idx(t)}if_for_block(){return 1===this.heap.memory.get_bits(this.addr,1,16)}get_children(){return[this.get_frame().addr,...this.heap.get_children(this.addr,2)]}}class qY extends WY{static create(e){const t=e.allocate(2);e.set_tag(t,C$.STACK),e.temp_roots&&e.temp_push(t),e.memory.set_number(-1,t+1);const n=KY.create(e);return e.temp_roots&&e.temp_pop(),e.memory.set_word(n.addr,t+1),new qY(e,t)}list(){return new KY(this.heap,this.heap.memory.get_word(this.addr+1))}push(e){const t=this.list();t.push(e),this.heap.memory.set_word(t.addr,this.addr+1)}pop(){const e=this.list(),t=e.pop();return this.heap.memory.set_word(e.addr,this.addr+1),t}peek(){return this.list().peek()}get_idx(e){return this.list().get_idx(e)}sz(){return this.list().get_sz()}get_children(){return[this.list().addr]}}class KY extends WY{static create(e){const t=e.allocate(this.init_sz);return e.set_tag(t,C$.STACK_LIST),e.memory.set_number(0,t+1),new KY(e,t)}resize(e){const t=this.heap.allocate(e);this.heap.set_tag(t,C$.STACK_LIST);const n=new KY(this.heap,t),r=this.get_sz();n.set_sz(r);for(let o=0;o<r;o++)n.set_idx(this.get_idx(o),o);this.addr=t}get_sz(){return this.heap.memory.get_number(this.addr+1)}set_sz(e){this.heap.memory.set_number(e,this.addr+1)}push(e){const t=this.get_sz(),n=this.heap.get_size(this.addr);t+3>n&&this.resize(2*n),this.set_idx(e,t),this.set_sz(t+1)}pop(){const e=this.get_sz();if(0===e)throw Error("List Empty!");const t=this.heap.get_size(this.addr),n=this.get_idx(e-1);return this.set_sz(e-1),4*(e+1)<t&&this.resize(t/2),n}peek(){const e=this.get_sz();if(0===e)throw Error("List Empty!");return this.get_idx(e-1)}get_idx(e){return this.heap.memory.get_word(this.addr+2+e)}set_idx(e,t){return this.heap.memory.set_word(e,this.addr+2+t)}get_children(){const e=this.get_sz();return[...Array(e).keys()].map((e=>this.get_idx(e)))}}KY.init_sz=4;class YY extends WY{static create(e){const t=e.allocate(6);e.set_tag(t,C$.CONTEXT),e.memory.set_number(0,t+1),e.temp_push(t);for(let n=2;n<=5;n++)e.memory.set_number(-1,t+n);return e.memory.set_word(qY.create(e).addr,t+2),e.memory.set_word(qY.create(e).addr,t+3),e.memory.set_word(qY.create(e).addr,t+5),e.temp_pop(),new YY(e,t)}is_blocked(){return 1===this.heap.memory.get_bits(this.addr,1,16)}set_blocked(e){this.heap.memory.set_bits(e?1:0,this.addr,1,16)}set_PC(e){this.heap.memory.set_number(e,this.addr+1)}PC(){return this.heap.memory.get_number(this.addr+1)}OS(){return new qY(this.heap,this.heap.memory.get_word(this.addr+2))}E(){return this.heap.get_value(this.RTS().peek())}set_E(e){this.pushRTS(e)}RTS(){return new qY(this.heap,this.heap.memory.get_word(this.addr+3))}incr_PC(){const e=this.PC();return this.set_PC(e+1),e}pushOS(e){this.heap.temp_push(e),this.OS().push(e),this.heap.temp_pop()}peekOS(){return this.OS().peek()}peekOSIdx(e){const t=this.OS().sz();return this.OS().get_idx(t-e-1)}popOS(){return this.OS().pop()}popOSNode(e){return new e(this.heap,this.OS().pop())}printOS(){console.log("OS:");for(let e=0;e<this.OS().sz();e++){const t=this.heap.get_value(this.OS().get_idx(e));console.log(t)}}pushRTS(e){this.heap.temp_push(e),this.RTS().push(e),this.heap.temp_pop()}popRTS(){return this.RTS().pop()}peekRTS(){return this.heap.get_value(this.RTS().peek())}printRTS(){console.log("RTS:");for(let e=0;e<this.RTS().sz();e++){const t=this.RTS().get_idx(e),n=-1===t?-1:this.heap.get_value(t);let r=!1;n instanceof UY&&n.if_for_block()&&(r=!0),console.log(n,-1===n?-1:n.get_children().slice(1),r?"for block":"")}}fork(){const e=YY.create(this.heap);return e.set_PC(this.PC()),e.set_E(this.E().addr),e}set_waitlist(e){this.heap.memory.set_number(e,this.addr+4)}waitlist(){return new A$(this.heap,this.heap.memory.get_number(this.addr+4))}deferStack(){return new qY(this.heap,this.heap.memory.get_number(this.addr+5))}pushDeferStack(){const e=qY.create(this.heap);this.heap.temp_push(e.addr),this.deferStack().push(e.addr),this.heap.temp_pop()}peekDeferStack(){return new qY(this.heap,this.deferStack().peek())}popDeferStack(){return new qY(this.heap,this.deferStack().pop())}get_children(){return[this.RTS().addr,this.OS().addr,this.waitlist().addr,this.deferStack().addr]}}class $Y extends WY{static create(e){const t=e.allocate(3);e.set_tag(t,C$.LINKED_LIST),e.temp_push(t);for(let o=1;o<=2;o++)e.memory.set_number(-1,t+o);const n=XY.create(-1,e);e.memory.set_number(n.addr,t+1);const r=XY.create(-1,e);return e.memory.set_number(r.addr,t+2),e.temp_pop(),n.set_next(r.addr),r.set_prev(n.addr),new $Y(e,t)}head(){return new XY(this.heap,this.heap.memory.get_number(this.addr+1))}tail(){return new XY(this.heap,this.heap.memory.get_number(this.addr+2))}is_empty(){return this.head().next().addr===this.tail().addr}push_back(e){const t=XY.create(e,this.heap),n=this.tail(),r=n.prev();return r.set_next(t.addr),n.set_prev(t.addr),t.set_next(n.addr),t.set_prev(r.addr),t.addr}push_front(e){const t=XY.create(e,this.heap),n=this.head(),r=n.next();return n.set_next(t.addr),r.set_prev(t.addr),t.set_next(r.addr),t.set_prev(n.addr),t.addr}pop_front(){if(this.is_empty())throw Error("Linkedlist Empty");const e=this.tail().prev();return e.del(),e.get_val()}pop_back(){if(this.is_empty())throw Error("Linkedlist Empty");const e=this.head().next();return e.del(),e.get_val()}get_children(){return[this.head().addr,this.tail().addr]}get_items(){const e=[];let t=this.head().next();for(;t.addr!==this.tail().addr;)e.push(t.get_val()),t=t.next();return e}print(){this.head().next().print()}}class XY extends WY{static create(e,t){const n=t.allocate(4);return t.set_tag(n,C$.LINKED_LIST_ENTRY),t.memory.set_number(n,n+1),t.memory.set_number(n,n+2),t.memory.set_number(e,n+3),new XY(t,n)}set_prev(e){this.heap.memory.set_number(e,this.addr+1)}prev(){return new XY(this.heap,this.heap.memory.get_number(this.addr+1))}set_next(e){this.heap.memory.set_number(e,this.addr+2)}next(){return new XY(this.heap,this.heap.memory.get_number(this.addr+2))}get_val(){return this.heap.memory.get_number(this.addr+3)}del(){const e=this.prev(),t=this.next();e.set_next(t.addr),t.set_prev(e.addr)}get_children(){return[this.prev().addr,this.next().addr,this.get_val()]}print(){if(-1===this.get_val())return;const e=this.heap.get_value(this.get_val());console.log(e),this.next().print()}}class GY extends WY{static create(e){const t=e.allocate(2);e.set_tag(t,C$.QUEUE),e.temp_push(t),e.memory.set_number(-1,t+1);const n=ZY.create(e);return e.temp_pop(),e.memory.set_word(n.addr,t+1),new GY(e,t)}list(){return new ZY(this.heap,this.heap.memory.get_word(this.addr+1))}push(e){const t=this.list();t.push(e),this.heap.memory.set_word(t.addr,this.addr+1)}pop(){const e=this.list(),t=e.pop();return this.heap.memory.set_word(e.addr,this.addr+1),t}peek(){return this.list().peek()}sz(){return this.list().get_sz()}get_vals(){return this.list().get_children()}get_children(){return[this.heap.memory.get_word(this.addr+1)]}}class ZY extends WY{static create(e){const t=e.allocate(this.init_sz);return e.set_tag(t,C$.QUEUE_LIST),e.memory.set_number(0,t+1),e.memory.set_number(0,t+2),e.memory.set_number(0,t+3),new ZY(e,t)}resize(e){const t=this.heap.allocate(e);this.heap.set_tag(t,C$.QUEUE_LIST);const n=new ZY(this.heap,t);n.set_sz(this.get_sz()),n.set_start(0),n.set_end(this.get_sz());const r=this.get_start(),o=this.get_cap();for(let i=0;i<this.get_sz();i++)n.set_idx(this.get_idx((r+i)%o),i);this.addr=t}get_cap(){return this.heap.get_size(this.addr)-4}get_sz(){return this.heap.memory.get_number(this.addr+1)}set_sz(e){this.heap.memory.set_number(e,this.addr+1)}get_start(){return this.heap.memory.get_number(this.addr+2)}set_start(e){this.heap.memory.set_number(e,this.addr+2)}get_end(){return this.heap.memory.get_number(this.addr+3)}set_end(e){this.heap.memory.set_number(e,this.addr+3)}push(e){const t=this.get_sz(),n=this.heap.get_size(this.addr);t+5>n&&this.resize(2*n),this.set_idx(e,this.get_end()),this.set_end((this.get_end()+1)%this.get_cap()),this.set_sz(t+1)}pop(){const e=this.get_sz();if(0===e)throw Error("List Empty!");const t=this.heap.get_size(this.addr),n=this.get_idx(this.get_start());return this.set_start((this.get_start()+1)%this.get_cap()),this.set_sz(e-1),4*(e+3)<t&&this.resize(t/2),n}peek(){if(0===this.get_sz())throw Error("Queue List is Empty!");return this.get_idx(this.get_start())}get_idx(e){return this.heap.memory.get_word(this.addr+4+e)}set_idx(e,t){return this.heap.memory.set_word(e,this.addr+4+t)}get_children(){const e=this.get_sz(),t=this.get_start(),n=this.get_cap();return[...Array(e).keys()].map((e=>this.get_idx((t+e)%n)))}}ZY.init_sz=8;class QY extends WY{static create(e,t){const n=t.allocate(5);t.set_tag(n,C$.CHANNEL),t.memory.set_number(e,n+1),t.temp_push(n);for(let s=2;s<=4;s++)t.memory.set_number(-1,n+s);const r=GY.create(t);t.memory.set_word(r.addr,n+2);const o=$Y.create(t);t.memory.set_number(o.addr,n+3);const i=$Y.create(t);return t.memory.set_number(i.addr,n+4),t.temp_pop(),new QY(t,n)}static default(e){return QY.create(0,e)}buffer(){return new GY(this.heap,this.heap.memory.get_number(this.addr+2))}wait_queue(e){return new $Y(this.heap,this.heap.memory.get_number(this.addr+3+(e?0:1)))}get_buffer_sz(){return this.heap.memory.get_number(this.addr+1)}try(e){if(e.is_recv()){if(this.buffer().sz()){const t=this.buffer().pop();if(this.heap.copy(e.io(),t),!this.wait_queue(!1).is_empty()){const e=new JY(this.heap,this.wait_queue(!1).pop_front());this.buffer().push(e.io()),e.unblock()}return!0}if(!this.wait_queue(!1).is_empty()){const t=new JY(this.heap,this.wait_queue(!1).pop_front());return this.heap.copy(e.io(),t.io()),t.unblock(),!0}}else{if(!this.wait_queue(!0).is_empty()){const t=new JY(this.heap,this.wait_queue(!0).pop_front());return this.heap.copy(t.io(),e.io()),t.unblock(),!0}if(this.buffer().sz()<this.get_buffer_sz())return this.buffer().push(e.io()),!0}return!1}wait(e){return this.wait_queue(e.is_recv()).push_back(e.addr)}get_children(){return[this.buffer().addr,this.wait_queue(!0).addr,this.wait_queue(!1).addr]}toString(){return"CHANNEL "+this.addr.toString()}}class JY extends WY{static create(e,t,n,r,o){const i=o.allocate(4);return o.set_tag(i,C$.REQ_INFO),o.memory.set_bits(r?1:0,i,1,16),o.memory.set_number(e,i+1),o.memory.set_number(t,i+2),o.memory.set_number(n,i+3),new JY(o,i)}is_recv(){return 1===this.heap.memory.get_bits(this.addr,1,16)}io(){return this.heap.memory.get_number(this.addr+1)}PC(){return this.heap.memory.get_number(this.addr+3)}context(){return new YY(this.heap,this.heap.memory.get_number(this.addr+2))}unblock(){const e=this.context();e.set_PC(this.PC()),this.is_recv()&&e.pushOS(this.io());const t=e.waitlist().get_children();for(const n of t){new XY(this.heap,n).del()}e.set_blocked(!1),this.heap.contexts.push(e.addr)}get_children(){return[this.context().addr,this.io()]}toString(){return"CHAN "+(this.is_recv()?"RECV":"SEND")+"\n"+this.heap.get_value(this.io()).toString()}}class e$ extends WY{static create(e,t,n){const r=n.allocate(3);return n.set_tag(r,C$.CHANNEL_REQ),n.memory.set_number(e,r+1),n.memory.set_number(t,r+2),new e$(n,r)}channel(){return new QY(this.heap,this.heap.memory.get_number(this.addr+1))}req(){return new JY(this.heap,this.heap.memory.get_number(this.addr+2))}get_children(){return[this.channel().addr,this.req().addr]}toString(){return this.channel().toString()+"\n"+this.req().toString()}}const t$={equal:(e,t)=>e===t,not_equal:(e,t)=>e!==t},n$={less:(e,t)=>e<t,less_or_equal:(e,t)=>e<=t,greater:(e,t)=>e>t,greater_or_equal:(e,t)=>e>=t,...t$},r$={sum:(e,t)=>e+t,difference:(e,t)=>e-t,bitwise_or:(e,t)=>e|t,bitwise_xor:(e,t)=>e^t,product:(e,t)=>e*t,quotient:(e,t)=>e/t,remainder:(e,t)=>e%t,left_shift:(e,t)=>e<<t,right_shift:(e,t)=>e>>t,bitwise_and:(e,t)=>e&t,bit_clear:(e,t)=>e&~t},o$={conditional_or:(e,t)=>e||t,conditional_and:(e,t)=>e&&t,...t$},i$={sum:(e,t)=>e+t},s$={plus:e=>e,negation:e=>-e,bitwise_complement:e=>~e},a$={not:e=>!e};class l$ extends WY{toString(){return this.get_value().toString()}}class c$ extends l${static create(e,t){const n=t.allocate(2);return t.set_tag(n,C$.NUMBER),t.memory.set_number(e,n+1),new c$(t,n)}static default(e){return c$.create(0,e)}get_value(){return this.heap.memory.get_number(this.addr+1)}apply_binop(e,t){if(r$[t])return c$.create(r$[t](this.get_value(),e.get_value()),this.heap);if(n$[t])return d$.create(n$[t](this.get_value(),e.get_value()),this.heap);throw Error("Invalid Operation")}apply_unary(e){if(s$[e])return c$.create(s$[e](this.get_value()),this.heap);throw Error("Invalid Operation")}}class u$ extends l${static create(e,t){const n=t.allocate(2);return t.set_tag(n,C$.FLOAT),t.memory.set_float(e,n+1),new u$(t,n)}static default(e){return u$.create(0,e)}get_value(){return this.heap.memory.get_float(this.addr+1)}apply_binop(e,t){if(r$[t])return u$.create(r$[t](this.get_value(),e.get_value()),this.heap);if(n$[t])return d$.create(n$[t](this.get_value(),e.get_value()),this.heap);throw Error("Invalid Operation")}apply_unary(e){if(s$[e])return u$.create(s$[e](this.get_value()),this.heap);throw Error("Invalid Operation")}}class d$ extends l${static create(e,t){const n=t.allocate(1);return t.set_tag(n,C$.BOOLEAN),t.memory.set_bits(e?1:0,n,1,16),new d$(t,n)}static default(e){return d$.create(!1,e)}get_value(){return 1===this.heap.memory.get_bits(this.addr,1,16)}apply_binop(e,t){if(o$[t])return d$.create(o$[t](this.get_value(),e.get_value()),this.heap);throw Error("Invalid Operation")}apply_unary(e){if(a$[e])return d$.create(a$[e](this.get_value()),this.heap);throw Error("Invalid Operation")}}class h$ extends l${static create(e,t){const n=t.allocate(2);t.set_tag(n,C$.STRING),t.temp_push(n),t.memory.set_number(-1,n+1);const r=t.allocate(Math.ceil((e.length+1)/_$)+1);t.set_tag(r,C$.STRING_LIST),t.memory.set_word(r,n+1),t.temp_pop();for(let o=0;o<=e.length;o++){let n=0;o<e.length&&(n=e.charCodeAt(o)),t.memory.set_bytes(n,Math.floor(o/_$)+r+1,1,o%_$)}return new h$(t,n)}static default(e){return h$.create("",e)}get_list(){return this.heap.memory.get_word(this.addr+1)}get_value(){let e="",t=0;const n=(this.heap.get_size(this.get_list())-1)*_$;for(;t<n;){const n=this.heap.memory.get_bytes(Math.floor(t/_$)+this.get_list()+1,1,t%_$);if(0===n)break;e+=String.fromCharCode(n),t++}return e}get_children(){return[this.get_list()]}apply_binop(e,t){if(i$[t])return h$.create(i$[t](this.get_value(),e.get_value()),this.heap);if(n$[t])return d$.create(n$[t](this.get_value(),e.get_value()),this.heap);throw Error("Invalid Operation")}apply_unary(e){throw Error("Invalid Opeartion")}}class f$ extends WY{}class p$ extends WY{static create(e){const t=e.allocate(1);return e.set_tag(t,C$.UNKNOWN),new p$(e,t)}}class m$ extends WY{static create(e,t,n){const r=n.allocate(3);return n.set_tag(r,C$.FUNC),n.memory.set_word(e,r+1),n.memory.set_word(t,r+2),new m$(n,r)}static default(e){return m$.create(-1,-1,e)}PC(){return this.heap.memory.get_word(this.addr+1)}E(){return this.heap.memory.get_word(this.addr+2)}get_children(){return[this.E()]}toString(){return"CLOSURE"}}class g$ extends WY{static create(e,t){const n=t.allocate(2);return t.set_tag(n,C$.CALLREF),t.memory.set_word(e,n+1),new g$(t,n)}PC(){return this.heap.memory.get_word(this.addr+1)}}class v$ extends WY{static create(e,t,n){const r=n.allocate(3);return n.set_tag(r,C$.METHOD),n.temp_push(r),n.memory.set_number(-1,r+2),n.memory.set_word(e,r+1),n.memory.set_word(h$.create(t,n).addr,r+2),n.temp_pop(),new v$(n,r)}receiverAddr(){return this.heap.memory.get_word(this.addr+1)}receiver(){return this.heap.get_value(this.receiverAddr())}identifierAddr(){return this.heap.memory.get_word(this.addr+2)}identifier(){return new h$(this.heap,this.identifierAddr()).get_value()}get_children(){return[this.receiverAddr(),this.identifierAddr()]}toString(){return this.identifier()}}class y$ extends WY{static create(e,t){const n=t.heap.allocate(3);t.heap.temp_push(n),t.heap.set_tag(n,C$.DEFER_FUNC),t.heap.memory.set_word(-1,n+2);const r=qY.create(t.heap);t.heap.memory.set_word(r.addr,n+2);for(let o=0;o<e;o++)r.push(t.context.popOS());return t.heap.memory.set_word(t.context.popOS(),n+1),t.heap.temp_pop(),new y$(t.heap,n)}funcAddr(){return this.heap.memory.get_word(this.addr+1)}func(){return new m$(this.heap,this.funcAddr())}argCount(){return this.heap.memory.get_number(this.addr+2)}stackAddr(){return this.heap.memory.get_word(this.addr+3)}stack(){return new qY(this.heap,this.stackAddr())}get_children(){return[this.funcAddr(),this.stackAddr()]}toString(){return"DEFER "+this.func().toString()}}class b$ extends WY{static create(e,t){const n=t.heap.allocate(3);t.heap.set_tag(n,C$.DEFER_METHOD),t.heap.temp_push(n),t.heap.memory.set_word(-1,n+1),t.heap.memory.set_word(-1,n+2);const r=qY.create(t.heap);t.heap.memory.set_word(r.addr,n+2);for(let i=0;i<e;i++)r.push(t.context.popOS());const o=t.context.popOS();return t.heap.memory.set_word(o,n+1),t.heap.temp_pop(),new b$(t.heap,n)}methodAddr(){return this.heap.memory.get_word(this.addr+1)}methodNode(){return this.heap.get_value(this.methodAddr())}stackAddr(){return this.heap.memory.get_word(this.addr+2)}stack(){return this.heap.get_value(this.stackAddr())}get_children(){return[this.methodAddr(),this.stackAddr()]}toString(){return"DEFER "+this.methodNode().toString()}}class w$ extends WY{static create(e){const t=e.allocate(1);return e.set_tag(t,C$.PKG),new w$(e,t)}static default(e){return w$.create(e)}toString(){return"PKG"}}class x$ extends WY{static create(e){const t=e.allocate(1);return e.set_tag(t,C$.FMT_PKG),new x$(e,t)}static default(e){return x$.create(e)}select(e,t){e.context.pushOS(v$.create(this.addr,t,this.heap).addr)}handleMethodCall(e,t,n){"Println"===t&&this.handlePrintln(e,n)}handlePrintln(e,t){const n=[];for(let r=0;r<t;r++)n.push(e.context.popOS());for(let r=t-1;r>=0;r--){const t=e.heap.get_value(n[r]).toString();e.print(t),e.print(r>0?" ":"\n")}e.context.popOS()}get_children(){return[]}toString(){return"FMT PACKAGE"}}class S$ extends WY{static create(e){const t=e.allocate(3);return e.set_tag(t,C$.WAIT_GROUP),e.temp_push(t),e.memory.set_number(-1,t+2),e.memory.set_number(0,t+1),e.memory.set_word(GY.create(e).addr,t+2),e.temp_pop(),new S$(e,t)}static default(e){return S$.create(e)}count(){return this.heap.memory.get_number(this.addr+1)}set_count(e){if(e<0)throw new Error("sync: negative WaitGroup counter.");this.heap.memory.set_number(e,this.addr+1)}queue(){return new GY(this.heap,this.heap.memory.get_word(this.addr+2))}select(e,t){e.context.pushOS(v$.create(this.addr,t,this.heap).addr)}handleMethodCall(e,t,n){"Add"===t?this.handleAdd(e):"Done"===t?this.handleDone(e):"Wait"===t&&this.handleWait(e)}handleAdd(e){const t=e.context.popOSNode(c$).get_value();e.context.popOS(),this.set_count(this.count()+t)}handleDone(e){if(e.context.popOS(),this.set_count(this.count()-1),0===this.count())for(;this.queue().sz();){const e=new YY(this.heap,this.queue().pop()),t=e.waitlist().get_children();for(const n of t){new XY(this.heap,n).del()}e.set_blocked(!1),this.heap.contexts.push(e.addr)}}handleWait(e){e.context.popOS(),0!==this.count()&&(this.queue().push(e.context.addr),e.context.set_waitlist(A$.create(1,e.heap).addr),e.context.waitlist().set_child(0,e.heap.blocked_contexts.push_back(e.context.addr)),e.context.set_blocked(!0))}get_children(){return[this.queue().addr]}toString(){return"WG COUNT "+this.count().toString()}}class k${constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(this.array=void 0,this.view=void 0,this.word_size=void 0,!Number.isInteger(Math.log(t)/Math.log(2)))throw Error("Word Size must be power of 2");this.word_size=t,this.array=new ArrayBuffer(e*t),this.view=new DataView(this.array)}check_valid(e,t){if(t>=32||e<0||t<0)throw Error("Invalid number of bits")}get_bits(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.check_valid(t,n);let r=0,o=1;for(;t>0;){const i=Math.min(t,32-n),s=(2**t-1)*2**n;r+=Math.floor(((s&this.view.getUint32(4*e))>>>0)/2**n)*o,o*=2**i,n=0,t-=i,e+=1}return r}set_bits(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(this.check_valid(n,r);n>0;){const o=Math.min(n,32-r),i=~((2**o-1)*2**r),s=(2**n-1&e%2**o)*2**r,a=this.view.getUint32(4*t)&i|s;this.view.setUint32(4*t,a),r=0,e=Math.floor(e/2**o),n-=o,t+=1}}set_bytes(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.set_bits(e,t,8*n,8*r)}get_bytes(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.get_bits(e,8*t,8*n)}set_word(e,t){this.view.setInt32(4*t,e>>>0)}get_word(e){return this.view.getInt32(4*e)}print(){let e="";const t=this.view.byteLength/4;for(let n=0;n<this.view.byteLength;n+=4){let r=(this.view.getUint32(n)>>>0).toString(2);r.length<32&&(r="0".repeat(32-r.length)+r);let o=(n/4).toString();o.length<t&&(o=" ".repeat(t-o.length)+o),e+=o+": "+r+"\n"}console.log(e)}get_number(e){return this.view.getInt32(e*this.word_size)}set_number(e,t){return this.view.setInt32(t*this.word_size,e)}get_float(e){return this.view.getFloat32(e*this.word_size)}set_float(e,t){return this.view.setFloat32(t*this.word_size,e)}}let C$=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.BOOLEAN=1]="BOOLEAN",e[e.NUMBER=2]="NUMBER",e[e.CONTEXT=3]="CONTEXT",e[e.FRAME=4]="FRAME",e[e.ENVIRONMENT=5]="ENVIRONMENT",e[e.FLOAT=6]="FLOAT",e[e.STRING=7]="STRING",e[e.STRING_LIST=8]="STRING_LIST",e[e.STACK=9]="STACK",e[e.STACK_LIST=10]="STACK_LIST",e[e.FUNC=11]="FUNC",e[e.CALLREF=12]="CALLREF",e[e.ARRAY=13]="ARRAY",e[e.QUEUE=14]="QUEUE",e[e.QUEUE_LIST=15]="QUEUE_LIST",e[e.LINKED_LIST=16]="LINKED_LIST",e[e.LINKED_LIST_ENTRY=17]="LINKED_LIST_ENTRY",e[e.CHANNEL=18]="CHANNEL",e[e.CHANNEL_REQ=19]="CHANNEL_REQ",e[e.REQ_INFO=20]="REQ_INFO",e[e.SLICE=21]="SLICE",e[e.WAIT_GROUP=22]="WAIT_GROUP",e[e.METHOD=23]="METHOD",e[e.DEFER_FUNC=24]="DEFER_FUNC",e[e.DEFER_METHOD=25]="DEFER_METHOD",e[e.PKG=26]="PKG",e[e.FMT_PKG=27]="FMT_PKG",e}({});const _$=4;class E${constructor(e){if(this.memory=void 0,this.size=void 0,this.UNASSIGNED=void 0,this.freelist=void 0,this.max_level=void 0,this.temp_roots=void 0,this.contexts=void 0,this.blocked_contexts=void 0,this.mem_left=void 0,this.temp=-1,this.debugger=void 0,this.size=e,this.mem_left=e,this.size%2===1&&(this.size-=1),this.size<34)throw Error("Insufficient Memory");this.memory=new k$(e,_$),this.max_level=Math.floor(Math.log2(e))+1,this.freelist=[];for(let r=0;r<this.max_level;r++)this.freelist.push(-1);let t=0;for(;t<e;){this.set_free(t,!0);const n=Math.floor(Math.log2(e-t));this.add_list(t,n),t+=2**n}this.UNASSIGNED=p$.create(this),this.temp_roots=qY.create(this),this.contexts=GY.create(this),this.blocked_contexts=$Y.create(this);const n=YY.create(this);this.contexts.push(n.addr)}get_value(e){switch(this.get_tag(e)){case C$.UNKNOWN:return new p$(this,e);case C$.NUMBER:return new c$(this,e);case C$.FLOAT:return new u$(this,e);case C$.STRING:return new h$(this,e);case C$.STRING_LIST:return new f$(this,e);case C$.BOOLEAN:return new d$(this,e);case C$.CONTEXT:return new YY(this,e);case C$.FRAME:return new HY(this,e);case C$.ENVIRONMENT:return new UY(this,e);case C$.STACK_LIST:return new KY(this,e);case C$.STACK:return new qY(this,e);case C$.FUNC:return new m$(this,e);case C$.CALLREF:return new g$(this,e);case C$.ARRAY:return new A$(this,e);case C$.SLICE:return new M$(this,e);case C$.QUEUE:return new GY(this,e);case C$.QUEUE_LIST:return new ZY(this,e);case C$.LINKED_LIST:return new $Y(this,e);case C$.LINKED_LIST_ENTRY:return new XY(this,e);case C$.CHANNEL:return new QY(this,e);case C$.CHANNEL_REQ:return new e$(this,e);case C$.REQ_INFO:return new JY(this,e);case C$.WAIT_GROUP:return new S$(this,e);case C$.METHOD:return new v$(this,e);case C$.DEFER_FUNC:return new y$(this,e);case C$.DEFER_METHOD:return new b$(this,e);case C$.PKG:return new w$(this,e);case C$.FMT_PKG:return new x$(this,e);default:throw Error("Unknown Data Type")}}print_freelist(){for(let e=0;e<this.freelist.length;e++){let t=this.freelist[e];const n=[];for(;-1!==t;){n.push(t);const e=this.get_next(t);if(e===t)break;t=e}console.log("LEVEL",e,n)}}add_list(e,t){this.set_level(e,t),this.set_prev(e,e),-1===this.freelist[t]?this.set_next(e,e):(this.set_next(e,this.freelist[t]),this.set_prev(this.freelist[t],e)),this.freelist[t]=e}pop_list(e){const t=this.get_level(e),n=this.get_prev(e),r=this.get_next(e);n===e?this.freelist[t]=r===e?-1:r:this.set_next(n,r===e?n:r),r!==e&&this.set_prev(r,n===e?r:n),this.memory.set_word(0,e)}get_prev(e){return 2*this.memory.get_bits(e,29,6)}set_prev(e,t){this.memory.set_bits(t/2,e,29,6)}get_next(e){return 2*this.memory.get_bits(e+1,29,3)}set_next(e,t){this.memory.set_bits(t/2,e+1,29,3)}set_level(e,t){this.memory.set_bits(t,e,5,1)}get_level(e){return this.memory.get_bits(e,5,1)}get_size(e){return 2**this.get_level(e)}is_free(e){return 1===this.memory.get_bits(e,1)}set_free(e,t){this.memory.set_bits(t?1:0,e,1)}allocate(e){const t=()=>{const t=Math.max(1,this.calc_level(e));for(let e=t;e<this.freelist.length;e++)if(-1!==this.freelist[e]){const n=this.freelist[e];for(this.pop_list(n),this.set_free(n,!1);e>t;){e--;const t=n+2**e;this.set_free(t,!0),this.add_list(t,e)}return this.set_level(n,t),n}return-1};let n=t();if(-1===n&&(this.mark_and_sweep(),n=t()),-1===n)throw Error("Ran out of memory!");return e=this.get_size(n),this.mem_left-=e,n}free(e){var t;let n=this.get_level(e);for(this.mem_left+=2**n;n<this.freelist.length;){const t=e^1<<n;if(t>=this.size||!this.is_free(t)||this.get_level(t)!==n)break;this.set_free(t,!1),this.pop_list(t),e=Math.min(e,t),n++}return this.set_free(e,!0),this.add_list(e,n),null===(t=this.debugger)||void 0===t||t.identifier_map.delete(e),e+(1<<n)}calc_level(e){return Math.ceil(Math.log2(e))}temp_push(e){this.temp=e,this.temp_roots.push(e),this.temp=-1}temp_pop(){this.temp_roots.pop()}is_marked(e){return 1===this.memory.get_bits(e,1,6)}set_mark(e,t){this.memory.set_bits(t?1:0,e,1,6)}get_child(e,t){return this.memory.get_word(e+t)}set_child(e,t,n){this.memory.set_word(e,t+n)}set_end_child(e,t){this.memory.set_number(-1,e+t)}set_children(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=this.get_size(e)+e;if(e+=n,t.length+e>r)throw Error("Too many children!");for(let o=0;o<t.length;o++)this.set_child(t[o],e,o);t.length+e<r&&this.set_end_child(e,t.length)}get_children(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=this.get_size(e)+e;e+=t;const r=[];let o=0;for(;o+e<n&&-1!==this.get_child(e,o);)r.push(this.get_child(e,o)),o++;return r}mark(e){if(-1===e)return;if(this.is_marked(e))return;this.set_mark(e,!0);const t=this.get_value(e).get_children();for(const n of t)this.mark(n)}mark_and_sweep(){console.log("CLEAN");const e=[this.contexts.addr,this.blocked_contexts.addr,this.temp_roots.addr,this.UNASSIGNED.addr,this.temp];for(const t of e)this.mark(t);for(let t=0;t<this.size;)this.is_free(t)||this.is_marked(t)?(this.is_marked(t)&&this.set_mark(t,!1),t+=this.get_size(t)):t=this.free(t)}copy(e,t){if(-1===e)return;const n=this.get_size(t);for(let r=0;r<n;r++)this.memory.set_word(this.memory.get_word(t+r),e+r)}clone(e){const t=2**this.get_level(e),n=this.allocate(t);return this.copy(n,e),n}set_tag(e,t){this.memory.set_bytes(t,e,1,1)}get_tag(e){return this.memory.get_bytes(e,1,1)}}class A$ extends WY{static create(e,t){const n=t.allocate(2+e);return t.set_tag(n,C$.ARRAY),t.memory.set_number(e,n+1),new A$(t,n)}static default(e,t,n){const r=n.allocate(2+e);n.set_tag(r,C$.ARRAY),n.memory.set_number(e,r+1),n.temp_push(r);for(let o=0;o<e;o++)n.memory.set_word(t(n),r+2+o);return n.temp_pop(),new A$(n,r)}length(){return this.heap.memory.get_number(this.addr+1)}capacity(){return this.length()}set_child(e,t){this.heap.memory.set_word(t,this.addr+2+e)}get_child(e){return this.heap.memory.get_word(this.addr+2+e)}get_children(){return[...Array(this.length()).keys()].map((e=>this.heap.get_child(this.addr+2,e)))}toString(){const e=this.length(),t=[];for(let n=0;n<e;n++)t.push(this.heap.get_value(this.get_child(n)).toString());return"[".concat(t.join(" "),"]")}}class M$ extends WY{static create(e,t,n,r){const o=r.allocate(5);return r.set_tag(o,C$.SLICE),r.memory.set_word(e,o+1),r.memory.set_number(t,o+2),r.memory.set_number(n,o+3),new M$(r,o)}static default(e){return M$.create(0,0,0,e)}array(){return this.heap.memory.get_word(this.addr+1)}arrayNode(){return new A$(this.heap,this.array())}start(){return this.heap.memory.get_number(this.addr+2)}end(){return this.heap.memory.get_number(this.addr+3)}length(){return this.end()-this.start()}capacity(){return this.arrayNode().length()-this.start()}get_child(e){return this.arrayNode().get_child(this.start()+e)}set_child(e,t){this.arrayNode().set_child(this.start()+e,t)}get_children(){return[this.array()]}toString(){const e=this.length(),t=[];for(let n=0;n<e;n++)t.push(this.heap.get_value(this.get_child(n)).toString());return"[".concat(t.join(" "),"]")}}class T${assignableBy(e){return this.equals(e)}select(e){throw new Error("undefined (type ".concat(this," has no field or method ").concat(e,")"))}}class P$ extends T${isPrimitive(){return!1}toString(){return""}equals(e){return e instanceof P$}defaultNodeCreator(){throw new Error("Cannot create values of type NoType")}}class O$ extends T${isPrimitive(){return!0}toString(){return"bool"}equals(e){return e instanceof O$}defaultNodeCreator(){return e=>d$.default(e).addr}}class N$ extends T${isPrimitive(){return!0}toString(){return"int64"}equals(e){return e instanceof N$}defaultNodeCreator(){return e=>c$.default(e).addr}}class D$ extends T${isPrimitive(){return!0}toString(){return"float64"}equals(e){return e instanceof D$}defaultNodeCreator(){return e=>u$.default(e).addr}}class R$ extends T${isPrimitive(){return!0}toString(){return"string"}equals(e){return e instanceof R$}defaultNodeCreator(){return e=>h$.default(e).addr}}class I$ extends T${constructor(e,t){super(),this.element=e,this.length=t}isPrimitive(){return!1}toString(){return"[".concat(this.length,"]").concat(this.element.toString())}equals(e){return e instanceof I$&&this.element.equals(e.element)&&this.length===e.length}defaultNodeCreator(){const e=this.element.defaultNodeCreator();return t=>A$.default(this.length,e,t).addr}}class z$ extends T${constructor(e){super(),this.element=e}isPrimitive(){return!1}toString(){return"[]".concat(this.element.toString())}equals(e){return e instanceof z$&&this.element.equals(e.element)}defaultNodeCreator(){return e=>M$.default(e).addr}}class L$ extends T${constructor(e,t){super(),this.identifier=e,this.type=t}isPrimitive(){return!1}toString(){return null===this.identifier?"".concat(this.type):"".concat(this.identifier," ").concat(this.type)}equals(e){return e instanceof L$&&this.type.equals(e.type)}defaultNodeCreator(){return e=>0}}class B$ extends T${constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(),this.parameters=e,this.results=t,this.variadic=n}isPrimitive(){return!1}toString(){const e=W$.arrayToString(this.parameters);return"func(".concat(e,") ").concat(this.results)}equals(e){return e instanceof B$&&this.parameters.length===e.parameters.length&&this.parameters.every(((t,n)=>t.equals(e.parameters[n])))&&this.results.equals(e.results)}defaultNodeCreator(){return e=>m$.default(e).addr}}class j$ extends T${constructor(e,t,n){super(),this.element=e,this.readable=t,this.writable=n}isPrimitive(){return!1}toString(){return this.readable&&this.writable?"chan ".concat(this.element):this.readable?"<-chan ".concat(this.element):"chan<- ".concat(this.element)}equals(e){return e instanceof j$&&this.readable===e.readable&&this.writable===e.writable&&this.element.equals(e.element)}assignableBy(e){return this.equals(e)||this.readable&&this.writable&&e instanceof j$&&this.element.equals(e.element)}defaultNodeCreator(){return e=>QY.default(e).addr}}class F$ extends T${constructor(e){super(),this.types=e}isPrimitive(){return!1}toString(){return"(".concat(W$.arrayToString(this.types),")")}equals(e){return e instanceof F$&&e.types.length===this.types.length&&this.types.every(((t,n)=>t.equals(e.types[n])))}defaultNodeCreator(){throw Error("Unreachable")}isVoid(){return 0===this.types.length}}class V$ extends T${constructor(e,t){super(),this.name=e,this.types=t}isPrimitive(){return!1}toString(){return"package ".concat(this.name)}equals(e){return e instanceof V$&&e.name===this.name}defaultNodeCreator(){return e=>w$.default(e).addr}select(e){if(!(e in this.types))throw new Error("undefined: ".concat(this.name,".").concat(e));return this.types[e]}}const W$={arrayToString:e=>(null!==e&&void 0!==e?e:[]).map((e=>e.toString())).join(", ")};class H${constructor(e){var t;this.parent=void 0,this.typings=void 0,this.expectedReturn=void 0,this.parent=e,this.typings={},this.expectedReturn=null!==(t=null===e||void 0===e?void 0:e.expectedReturn)&&void 0!==t?t:new F$([])}addType(e,t){this.typings[e]=t}extend(){return new H$(this)}pop(){if(!this.parent)throw Error("Type environment stack is empty when popped.");return this.parent}get(e){if(e in this.typings)return this.typings[e];if(void 0===this.parent)throw Error("Variable ".concat(e," not found"));return this.parent.get(e)}updateReturnType(e){this.expectedReturn=e}}class U${constructor(e){this.frames=void 0,e?(this.frames=e.frames.slice(),this.frames.push([])):this.frames=[[]]}find_var(e){let t=0;const n=this.frames.length-1;for(;n>=t;){let r=this.frames[n-t].length-1;for(;r>=0;){if(this.frames[n-t][r]===e)return[t,r];r--}t++}throw Error("Unable to find variable: "+e)}declare_var(e){const t=this.frames.length-1;for(const n of this.frames[t])if(n===e)throw Error("Variable already declared");return[0,this.frames[t].push(e)-1]}get_frame(){const e=this.frames.length-1;return this.frames[e]}}class q${constructor(){this.break_instrs=void 0,this.cont_instrs=void 0,this.break_instrs=[],this.cont_instrs=[]}}class K${constructor(){this.env=void 0,this.env_stack=void 0,this.loop_stack=void 0,this.env=new U$,this.env_stack=[this.env],this.loop_stack=[]}push_env(){const e=new U$(this.env);this.env_stack.push(this.env),this.env=e}pop_env(){const e=this.env_stack.pop();if(!e)throw Error("Compile Env Stack Empty!");this.env=e}push_loop(){this.loop_stack.push(new q$)}add_break(e){this.loop_stack[this.loop_stack.length-1].break_instrs.push(e)}add_continue(e){this.loop_stack[this.loop_stack.length-1].cont_instrs.push(e)}pop_loop(e,t){const n=this.loop_stack.pop();if(!n)throw Error("Compile Loop Stack Empty!");for(const r of n.cont_instrs)r.set_addr(e);for(const r of n.break_instrs)r.set_addr(t)}}class Y${constructor(e){this.tag=void 0,this.tag=e}toString(){return this.tag}}class $$ extends Y${constructor(){super("DONE")}static is(e){return"DONE"===e.tag}execute(e){}}class X$ extends Y${constructor(){super("POP")}static is(e){return"POP"===e.tag}execute(e){e.context.popOS()}}class G$ extends Y${constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super("BLOCK"),this.name=e,this.for_block=t,this.frame=[],this.identifiers=[]}set_frame(e){this.frame=[...e]}set_identifiers(e){this.identifiers=[...e]}toString(){return super.toString()+" "+this.name}execute(e){const t=HY.create(this.frame.length,e.heap);e.heap.temp_push(t.addr);for(let r=0;r<this.frame.length;r++){const n=this.frame[r];t.set_idx(n.defaultNodeCreator()(e.heap),r)}const n=e.context.E().extend_env(t.addr,this.for_block).addr;if(e.context.pushRTS(n),e.heap.temp_pop(),e.debug_mode){e.debugger.env_alloc_map.set(n,e.runtime_count),e.debugger.env_name_map.set(n,this.name);const r=t.get_children();for(let t=0;t<r.length;t++)e.debugger.identifier_map.set(r[t],this.identifiers[t])}}}class Z$ extends G${constructor(e){super("ANONY FUNC",!1),this.args=e,this.tag="FUNC_BLOCK"}toString(){return this.tag}execute(e){super.execute(e);for(let n=this.args-1;n>=0;n--){const t=e.context.popOS(),r=e.context.E().get_frame().get_idx(n);e.heap.copy(r,t)}const t=e.context.popOS();if(e.debug_mode){const n=e.debugger.identifier_map.get(t);n&&e.debugger.env_name_map.set(e.context.E().addr,n)}}}class Q$ extends Y${constructor(){super("EXIT_BLOCK")}execute(e){e.context.popRTS()}}class J$ extends Y${constructor(){super("BUILTIN_LEN")}execute(e){const t=e.heap.get_value(e.context.popOS());if(!(t instanceof A$||t instanceof M$))throw new Error("Unreachable");{const n=t.length();e.context.pushOS(c$.create(n,e.heap).addr)}}}class eX extends Y${constructor(){super("BUILTIN_CAP")}execute(e){const t=e.heap.get_value(e.context.popOS());if(!(t instanceof A$||t instanceof M$))throw new Error("Unreachable");{const n=t.capacity();e.context.pushOS(c$.create(n,e.heap).addr)}}}class tX extends Y${constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;super("FORK"),this.addr=void 0,this.addr=e}set_addr(e){this.addr=e}execute(e){const t=e.context.fork().addr;e.contexts.push(t),e.context.set_PC(this.addr),e.debug_mode&&e.debugger.context_id_map.set(t,e.debugger.context_id++)}}class nX extends Y${constructor(){super("LDCH")}toString(){return"LOAD CHANNEL"}execute(e){const t=new c$(e.heap,e.context.popOS()).get_value();e.context.pushOS(QY.create(t,e.heap).addr)}}class rX extends Y${constructor(e,t){super("LDCR"),this.recv=e,this.PC=t}toString(){return"LOAD CHAN "+(this.recv?"RECV":"SEND")+" REQ"}execute(e){const t=e.heap.clone(e.context.peekOS());e.heap.temp_push(t);const n=JY.create(t,e.context.addr,this.PC,this.recv,e.heap);e.heap.temp_pop(),e.context.popOS(),e.heap.temp_push(n.addr);const r=new QY(e.heap,e.context.popOS()),o=e$.create(r.addr,n.addr,e.heap);e.heap.temp_pop(),e.context.pushOS(o.addr)}}class oX extends Y${constructor(){super("TRY_CHAN_REQ")}execute(e){const t=new e$(e.heap,e.context.popOS());e.heap.temp_push(t.addr);const n=t.channel(),r=t.req();n.try(r)?(e.context.set_PC(r.PC()),r.is_recv()&&e.context.pushOS(r.io())):(e.context.set_waitlist(A$.create(2,e.heap).addr),e.context.waitlist().set_child(0,n.wait(r)),e.context.waitlist().set_child(1,e.heap.blocked_contexts.push_back(e.context.addr)),e.context.set_blocked(!0)),e.heap.temp_pop()}}class iX extends Y${constructor(e,t){super("SELECT CASES"),this.cases=e,this.default_case=t}execute(e){let t=-1;this.default_case&&(t=new c$(e.heap,e.context.popOS()).get_value());let n=[];for(let o=0;o<this.cases;o++)n.push(new e$(e.heap,e.context.peekOS())),e.heap.temp_push(e.context.popOS());n=n.map((t=>({sort:e.generator(),value:t}))).sort(((e,t)=>e.sort-t.sort)).map((e=>e.value));let r=!1;for(const o of n){const t=o.channel(),n=o.req();if(t.try(n)){r=!0,e.context.set_PC(n.PC()),n.is_recv()&&e.context.pushOS(n.io());break}}if(!r)if(-1!==t)e.context.set_PC(t);else{e.context.set_blocked(!0),e.context.set_waitlist(A$.create(n.length+1,e.heap).addr);for(let t=0;t<n.length;t++){const r=n[t].channel(),o=n[t].req();e.context.waitlist().set_child(t,r.wait(o))}e.context.waitlist().set_child(n.length,e.heap.blocked_contexts.push_back(e.context.addr))}for(let o=0;o<n.length;o++)e.heap.temp_pop()}}class sX extends Y${constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;super("JUMP"),this.addr=void 0,this.addr=e}toString(){return super.toString()+" "+this.addr.toString()}set_addr(e){this.addr=e}execute(e){e.context.set_PC(this.addr)}}class aX extends sX{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0),this.tag="JUMP_IF_FALSE"}execute(e){e.heap.get_value(e.context.popOS()).get_value()||e.context.set_PC(this.addr)}}class lX extends sX{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0),this.tag="JUMP_LOOP"}execute(e){for(;!e.context.E().if_for_block();)e.context.popRTS();e.context.set_PC(this.addr)}}class cX extends Y${constructor(e){super("LF"),this.PC=void 0,this.PC=e}toString(){return"LOAD FUNC"}static is(e){return"LF"===e.tag}execute(e){e.context.pushOS(m$.create(this.PC,e.context.E().addr,e.heap).addr)}}class uX extends Y${constructor(e){super("CALL"),this.args=e}toString(){return"CALL "+this.args.toString()+" ARGS"}static is(e){return"CALL"===e.tag}execute(e){const t=e.heap.get_value(e.context.peekOSIdx(this.args));if(!(t instanceof m$)&&!(t instanceof v$))throw Error("Stack does not contain closure");if(t instanceof m$)e.context.pushDeferStack(),e.context.pushRTS(g$.create(e.context.PC(),e.heap).addr),e.context.pushRTS(t.E()),e.context.set_PC(t.PC());else{t.receiver().handleMethodCall(e,t.identifier(),this.args)}}}class dX extends Y${constructor(e){super("DEFERRED_CALL"),this.args=e}toString(){return"DEFER CALL "+this.args.toString()+" ARGS"}static fromCallInstruction(e){return new dX(e.args)}static is(e){return"DEFERRED_CALL"===e.tag}execute(e){const t=e.heap.get_value(e.context.peekOSIdx(this.args));if(!(t instanceof m$)&&!(t instanceof v$))throw Error("Stack does not contain closure");let n;n=t instanceof m$?y$.create(this.args,e):b$.create(this.args,e),e.context.peekDeferStack().push(n.addr)}}class hX extends Y${constructor(){super("RET")}static is(e){return"RET"===e.tag}execute(e){for(;!(e.context.peekRTS()instanceof g$);)e.context.popRTS();const t=e.context.peekDeferStack();if(t.sz()){const n=e.heap.get_value(t.pop());if(!(n instanceof y$)&&!(n instanceof b$))throw new Error("Unreachable");if(n instanceof y$){for(e.context.pushOS(n.funcAddr());n.stack().sz();)e.context.pushOS(n.stack().pop());e.context.pushDeferStack(),e.context.pushRTS(g$.create(e.context.PC()-1,e.heap).addr),e.context.pushRTS(n.func().E()),e.context.set_PC(n.func().PC())}else{const t=n.methodNode();e.context.pushOS(t.addr),e.context.pushOS(t.receiverAddr());const r=n.stack().sz();for(;n.stack().sz();)e.context.pushOS(n.stack().pop());t.receiver().handleMethodCall(e,t.identifier(),r),e.context.set_PC(e.context.PC()-1)}return}e.context.popDeferStack();const n=e.heap.get_value(e.context.popRTS());if(!(n instanceof g$))throw new Error("Unreachable");e.context.set_PC(n.PC())}}class fX extends Y${constructor(e,t){super("LDC"),this.val=void 0,this.data_type=void 0,this.val=e,this.data_type=t}toString(){return"LOAD "+this.val.toString()}static is(e){return"LDC"===e.tag}execute(e){if(this.data_type instanceof O$)e.context.pushOS(d$.create(this.val,e.heap).addr);else if(this.data_type instanceof D$)e.context.pushOS(u$.create(this.val,e.heap).addr);else if(this.data_type instanceof N$){const t=c$.create(this.val,e.heap).addr;e.context.pushOS(t)}else this.data_type instanceof R$&&e.context.pushOS(h$.create(this.val,e.heap).addr)}}class pX extends Y${constructor(e){super("LDD"),this.dataType=e}toString(){return"LOAD DEFAULT "+this.dataType.toString()}execute(e){const t=this.dataType.defaultNodeCreator()(e.heap);e.context.pushOS(t)}}class mX extends Y${constructor(e){super("LDA"),this.length=e}toString(){return"LOAD ARRAY "+this.length.toString()}execute(e){const t=A$.create(this.length,e.heap);for(let n=this.length-1;n>=0;n--)t.set_child(n,e.context.popOS());e.context.pushOS(t.addr)}}class gX extends Y${constructor(){super("LDAE")}toString(){return"LOAD ARRAY ENTRY"}execute(e){const t=new c$(e.heap,e.context.popOS()).get_value(),n=new A$(e.heap,e.context.popOS());if(t<0||t>=n.length())throw new Error("Index out of range [".concat(t,"] with length ").concat(n.length()));const r=n.get_child(t);e.context.pushOS(r)}}class vX extends Y${constructor(){super("LDAE")}execute(e){const t=e.context.popOSNode(c$).get_value(),n=e.context.popOSNode(M$).arrayNode();if(t<0||t>=n.length())throw new Error("Index out of range [".concat(t,"] with length ").concat(n.length()));const r=n.get_child(t);e.context.pushOS(r)}}class yX extends Y${constructor(){super("LDS")}execute(e){const t=e.context.popOSNode(c$).get_value(),n=e.context.popOSNode(c$).get_value(),r=e.context.popOS(),o=M$.create(r,n,t,e.heap);e.context.pushOS(o.addr)}}class bX extends Y${constructor(e,t,n){super("LD"),this.frame_idx=e,this.var_idx=t,this.id=n}toString(){return"LOAD VAR "+this.id}execute(e){e.context.pushOS(e.context.E().get_var(this.frame_idx,this.var_idx))}}class wX extends Y${constructor(){super("LDP")}execute(e){if("fmt"!==e.context.popOSNode(h$).get_value())throw new Error("Unreachable");const t=x$.default(e.heap);e.context.pushOS(t.addr)}}class xX extends Y${constructor(e,t){super(e),this.op=void 0,this.op=t}}class SX extends xX{constructor(e){super("UNARY",e)}toString(){return"UNARY "+this.op}execute(e){const t=e.heap.get_value(e.context.popOS());e.context.pushOS(t.apply_unary(this.op).addr)}}class kX extends xX{constructor(e){super("BINOP",e)}toString(){return"BINOP "+this.op}execute(e){const t=e.heap.get_value(e.context.popOS()),n=e.heap.get_value(e.context.popOS());e.context.pushOS(n.apply_binop(t,this.op).addr)}}class CX extends Y${constructor(){super("SLICEOP")}execute(e){const t=e.heap.get_value(e.context.popOS()),n=e.heap.get_value(e.context.popOS()),r=e.heap.get_value(e.context.popOS()),o=n instanceof c$?n.get_value():0,i=t instanceof c$?t.get_value():null;if(r instanceof A$)e.context.pushOS(this.sliceArray(e,r,o,i));else{if(!(r instanceof M$))throw new Error("Unreachable");e.context.pushOS(this.sliceSlice(e,r,o,i))}}sliceArray(e,t,n,r){var o,i;null!==(o=n)&&void 0!==o||(n=0),null!==(i=r)&&void 0!==i||(r=t.length()),this.checkSliceRange(n,r,t.length());return M$.create(t.addr,n,r,e.heap).addr}sliceSlice(e,t,n,r){var o,i;null!==(o=n)&&void 0!==o||(n=0),null!==(i=r)&&void 0!==i||(r=t.capacity()),this.checkSliceRange(n,r,t.capacity());const s=n+t.start(),a=r+t.start();return M$.create(t.array(),s,a,e.heap).addr}checkSliceRange(e,t,n){if(e<0||e>n||t<0||t>n||t<e)throw new Error("Slice bounds out of range")}}class _X extends Y${constructor(){super("SELECTOP")}execute(e){const t=e.context.popOSNode(h$).get_value();e.heap.get_value(e.context.popOS()).select(e,t)}}class EX extends Y${constructor(){super("STORE")}execute(e){const t=e.context.popOS(),n=e.context.popOS();e.heap.copy(t,n),e.debug_mode&&e.debugger.modified_buffer.add(t)}}class AX extends Error{constructor(e,t){super(e),this.sourceLocation=t}}class MX{constructor(){this.instructions=[],this.symbols=[],this.context=new K$,this.type_environment=new H$}compile_program(e){e.compile(this),this.instructions.push(new $$)}throwCompileError(e,t){throw new AX(e,t)}}class TX{constructor(e,t){this.type=e,this.sourceLocation=t}pushInstruction(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.instructions.push(...n),e.symbols.push(...Array(n.length).fill(this.sourceLocation))}compile(e){try{return this.compileUnchecked(e)}catch(t){if(t instanceof AX)throw t;e.throwCompileError(t.message,this.sourceLocation)}}}class PX extends TX{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"BLOCK";super("block",e),this.statements=t,this.name=n}compileUnchecked(e){e.context.push_env();const t=new G$(this.name);this.pushInstruction(e,t),e.type_environment=e.type_environment.extend();let n=!1;for(const i of this.statements){const t=i.compile(e);n||(n=t instanceof F$)}const r=n?e.type_environment.expectedReturn:new P$,o=e.context.env.get_frame();return t.set_frame(o.map((t=>e.type_environment.get(t)))),t.set_identifiers(o),e.type_environment=e.type_environment.pop(),e.context.pop_env(),this.pushInstruction(e,new Q$),r}}class OX extends TX{constructor(e,t,n){super("function_declaration",e),this.name=t,this.func=n}compileUnchecked(e){const[t,n]=e.context.env.declare_var(this.name.identifier);return e.type_environment.addType(this.name.identifier,this.func.signature.compile(e)),this.func.compile(e),this.pushInstruction(e,new bX(t,n,this.name.identifier)),this.pushInstruction(e,new EX),new P$}}class NX extends TX{}class DX extends NX{constructor(e,t,n){super("short_variable_declaration",e),this.identifiers=t,this.expressions=n}compileUnchecked(e){const{identifiers:t,expressions:n}=this;for(let r=0;r<t.length;r++){const o=t[r].identifier,i=n[r],[s,a]=e.context.env.declare_var(o),l=i.compile(e);e.type_environment.addType(o,l),this.pushInstruction(e,new bX(s,a,o)),this.pushInstruction(e,new EX)}return new P$}}class RX extends NX{constructor(e,t,n,r){super("variable_declaration",e),this.identifiers=t,this.varType=n,this.expressions=r}compileUnchecked(e){const{identifiers:t,varType:n,expressions:r}=this;if(void 0===n&&void 0===r)throw Error("Either variable type or assignment value(s) must be defined in variable declaration.");for(const i of t)e.context.env.declare_var(i.identifier);const o=n?n.compile(e):void 0;if(r){if(t.length!==r.length)throw Error("Assignment mismatch: ".concat(t.length," variable(s) but ").concat(r.length," value(s)."));for(let n=0;n<t.length;n++){const i=t[n].identifier,s=r[n],[a,l]=e.context.env.find_var(i),c=s.compile(e);if(o&&!o.assignableBy(c))throw Error("Cannot use ".concat(c," as ").concat(o," in variable declaration"));e.type_environment.addType(i,c),this.pushInstruction(e,new bX(a,l,i)),this.pushInstruction(e,new EX)}}else for(const i of t)e.type_environment.addType(i.identifier,o);return new P$}}class IX extends NX{constructor(e,t,n,r){super("const_declaration",e),this.identifiers=t,this.expressions=n,this.varType=r}compileUnchecked(e){const{identifiers:t,varType:n,expressions:r}=this,o=n?n.compile(e):void 0;for(let i=0;i<t.length;i++){const n=t[i].identifier,s=r[i],[a,l]=e.context.env.declare_var(n),c=s.compile(e);if(o&&!c.assignableBy(o))throw Error("Cannot use ".concat(c," as ").concat(o," in constant declaration"));e.type_environment.addType(n,c),this.pushInstruction(e,new bX(a,l,n)),this.pushInstruction(e,new EX)}return new P$}}class zX extends TX{constructor(e,t){super("empty_expression",e),this.argType=t}compileUnchecked(e){return this.argType}}class LX extends TX{constructor(e,t,n){super("primary_expression",e),this.operand=t,this.rest=n}compileUnchecked(e){let t=this.operand.compile(e);for(const r of null!==(n=this.rest)&&void 0!==n?n:[]){var n;t=r.compile(e,t)}return t}}class BX{constructor(e,t){this.type=e,this.sourceLocation=t}pushInstruction(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.instructions.push(...n),e.symbols.push(...Array(n.length).fill(this.sourceLocation))}}class jX extends BX{constructor(e,t){super("selector",e),this.identifier=t}compile(e,t){const n=t.select(this.identifier);return this.pushInstruction(e,new fX(this.identifier,new R$),new _X),n}}class FX extends BX{constructor(e,t){super("index",e),this.expression=t}compile(e,t){if(t instanceof I$)return this.compileIndex(e),this.pushInstruction(e,new gX),t.element;if(t instanceof z$)return this.compileIndex(e),this.pushInstruction(e,new vX),t.element;throw Error("Invalid operation: Cannot index a variable of type ".concat(t))}compileIndex(e){const t=this.expression.compile(e);if(!(t instanceof N$))throw new Error("Invalid argument: Index has type ".concat(t," but must be an integer"))}}class VX extends BX{constructor(e,t,n){super("slice",e),this.from=t,this.to=n}compile(e,t){if(t instanceof I$||t instanceof z$)return this.compileIndex(e,this.from),this.compileIndex(e,this.to),this.pushInstruction(e,new CX),new z$(t.element);throw new Error("Invalid operation: Cannot slice ".concat(t))}compileIndex(e,t){t?t.compile(e):this.pushInstruction(e,new fX(!1,new O$))}}class WX extends BX{constructor(e,t){super("call",e),this.expressions=void 0,this.expressions=null!==t&&void 0!==t?t:[]}compile(e,t){if(!(t instanceof B$))throw Error("Invalid operation: cannot call non-function (of type ".concat(t,")"));const n=this.expressions.map((t=>t.compile(e)));if(this.pushInstruction(e,new uX(this.expressions.length)),!t.variadic){if(n.length<t.parameters.length)throw Error("Not enough arguments in function call\n"+"have (".concat(W$.arrayToString(n),")\n")+"want (".concat(W$.arrayToString(t.parameters),")"));if(n.length>t.parameters.length)throw Error("Too many arguments in function call\n"+"have (".concat(W$.arrayToString(n),")\n")+"want (".concat(W$.arrayToString(t.parameters),")"));for(let e=0;e<n.length;e++)if(!n[e].assignableBy(t.parameters[e].type))throw Error("Cannot use ".concat(n[e]," as ").concat(t.parameters[e]," in argument to function call"))}return t.results.isVoid()?new P$:1===t.results.types.length?t.results.types[0]:t.results}}class HX extends TX{constructor(e,t,n,r){super("builtin",e),this.name=t,this.firstTypeArg=n,this.args=r}compileUnchecked(e){if("make"===this.name)return this.compileMake(e);if("len"===this.name)return this.compileLen(e);if("cap"===this.name)return this.compileCap(e);throw new Error("Builtin function ".concat(this.name," is not yet implemented."))}compileCap(e){1!==this.args.length&&this.throwArgumentLengthError("cap",1,this.args.length);const t=this.args[0].compile(e);return t instanceof I$||t instanceof z$?this.pushInstruction(e,new eX):this.throwArgumentTypeError("cap",t),new N$}compileLen(e){1!==this.args.length&&this.throwArgumentLengthError("len",1,this.args.length);const t=this.args[0].compile(e);return t instanceof I$||t instanceof z$?this.pushInstruction(e,new J$):this.throwArgumentTypeError("len",t),new N$}compileMake(e){const t=this.firstTypeArg.compile(e);if(!(t instanceof z$||t instanceof j$))throw new Error("Invalid argument: cannot make ".concat(t,"; type must be slice, map, or channel"));if(t instanceof j$)if(0===this.args.length)this.pushInstruction(e,new fX(0,new N$));else{if(!(this.args[0].compile(e)instanceof N$))throw new Error("Non-integer condition in channel buffer size")}return this.pushInstruction(e,new nX),t}throwArgumentLengthError(e,t,n){const r=t<n?"Invalid operation: too many arguments for ".concat(e," (expected ").concat(t,", found ").concat(n,")"):"Invalid operation: not enough arguments for ".concat(e," (expected ").concat(t,", found ").concat(n,")");throw new Error(r)}throwArgumentTypeError(e,t){const n="Invalid argument: (".concat(t,") for ").concat(e);throw new Error(n)}}HX.validNames=["append","clear","close","delete","len","cap","make","min","max"],HX.namesThatTakeType=["make"];class UX extends TX{constructor(e,t){super("identifier",e),this.identifier=t}static isValidIdentifier(e){return!["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"].includes(e)}compileUnchecked(e){const[t,n]=e.context.env.find_var(this.identifier);return this.pushInstruction(e,new bX(t,n,this.identifier)),e.type_environment.get(this.identifier)}}class qX extends TX{constructor(e,t,n){super("qualified_identifier",e),this.pkg=t,this.identifier=n}compileUnchecked(e){const t=e.type_environment.get(this.pkg);if(!(t instanceof V$))throw new Error("".concat(this," is not a type"));return t.select(this.identifier)}toString(){return"".concat(this.pkg,".").concat(this.identifier)}}class KX extends TX{constructor(e,t){super("literal",e),this.value=t}static is(e){return"literal"===e.type}}class YX extends KX{static fromSource(e,t,n){const r=parseInt(t.replace("_",""),n);return new YX(e,r)}getValue(){return this.value}compileUnchecked(e){return this.pushInstruction(e,new fX(this.value,new N$)),new N$}}class $X extends KX{static fromSource(e,t){const n=parseFloat(t);return new $X(e,n)}getValue(){return this.value}compileUnchecked(e){return this.pushInstruction(e,new fX(this.value,new D$)),new D$}}class XX extends KX{static fromSourceRaw(e,t){return t=t.replaceAll("\r",""),new XX(e,t)}static fromSourceInterpreted(e,t){return new XX(e,t)}getValue(){return this.value}compileUnchecked(e){return this.pushInstruction(e,new fX(this.value,new R$)),new R$}}class GX extends TX{constructor(e,t,n){super("function_literal",e),this.signature=t,this.body=n}compileUnchecked(e){e.context.push_env();const t=new sX;this.pushInstruction(e,t);const n=e.instructions.length,r=new Z$(this.signature.parameters.length);this.pushInstruction(e,r);const o=this.signature.compile(e);e.type_environment=e.type_environment.extend(),e.type_environment.updateReturnType(o.results);let i=0;for(const l of this.signature.parameters){const t=l.identifier||(i++).toString();e.context.env.declare_var(t),e.type_environment.addType(t,l.type.compile(e))}let s=!1;for(const l of this.body.statements){const t=l.compile(e);s||(s=t instanceof F$)}const a=e.context.env.get_frame();if(r.set_frame(a.map((t=>e.type_environment.get(t)))),r.set_identifiers(a),e.type_environment=e.type_environment.pop(),e.context.pop_env(),this.pushInstruction(e,new hX),t.set_addr(e.instructions.length),this.pushInstruction(e,new cX(n)),!s&&o.results.types.length>0)throw new Error("Missing return.");return o}}class ZX extends TX{constructor(e,t){super("literal_value",e),this.elements=t}compileUnchecked(e){throw new Error("Do not use LiteralValueToken.compile, instead use LiteralValueToken.compileWithType")}compileWithType(e,t){if(t instanceof I$){if(this.elements.length>t.length)throw new Error("Array literal has ".concat(this.elements.length," elements but only expected ").concat(t.length,", in type ").concat(t,"."));for(const n of this.elements)this.compileElement(e,t.element,n,"array literal");for(let n=0;n<t.length-this.elements.length;n++)this.pushInstruction(e,new pX(t.element));this.pushInstruction(e,new mX(t.length))}else{if(!(t instanceof z$))throw new Error("Parser Bug: Type of literal value is not supported.");{for(const r of this.elements)this.compileElement(e,t.element,r,"slice literal");const n=this.elements.length;this.pushInstruction(e,new mX(n),new fX(0,new N$),new fX(n,new N$),new yX)}}}compileElement(e,t,n,r){if(n instanceof ZX)n.compileWithType(e,t);else{const o=n.compile(e);if(!t.equals(o))throw new Error("Cannot use ".concat(o," as ").concat(t," value in ").concat(r,"."))}}}class QX extends TX{constructor(e,t,n){super("array_literal",e),this.arrayType=t,this.body=n}compileUnchecked(e){const t=this.arrayType.compile(e);return this.body.compileWithType(e,t),t}}class JX extends TX{constructor(e,t,n){super("slice_literal",e),this.sliceType=t,this.body=n}compileUnchecked(e){const t=this.sliceType.compile(e);return this.body.compileWithType(e,t),t}}class eG extends TX{constructor(e,t,n,r){super(e,t),this.name=void 0,this.children=void 0,this.name=n,this.children=r}}class tG extends eG{constructor(e,t,n){super("unary_operator",e,t,[n])}static fromSource(e,t){return n=>new tG(e,t,n)}compileUnchecked(e){const t=this.children[0].compile(e);if("receive"===this.name){if(!(t instanceof j$))throw Error("Receive Expression not chan");const n=t.element;return this.pushInstruction(e,new pX(n)),this.pushInstruction(e,new rX(!0,e.instructions.length+2)),this.pushInstruction(e,new oX),n}return this.pushInstruction(e,new SX(this.name)),t}}class nG extends eG{constructor(e,t,n,r){super("binary_operator",e,t,[n,r])}static fromSource(e,t){return(n,r)=>new nG(e,t,n,r)}compileUnchecked(e){const t=this.children[0].compile(e),n=this.children[1].compile(e);if(!t.equals(n))throw Error("Invalid operation (mismatched types ".concat(t," and ").concat(n,")"));this.pushInstruction(e,new kX(this.name));return["equal","not_equal","less","less_or_equal","greater","greater_or_equal","conditional_or","conditional_and"].includes(this.name)?new O$:t}}class rG extends T${isPrimitive(){return!1}toString(){return"sync.WaitGroup"}equals(e){return e instanceof rG}defaultNodeCreator(){return e=>S$.default(e).addr}select(e){if("Add"===e)return new B$([new L$(null,new N$)],new F$([]));if("Done"===e)return new B$([],new F$([]));if("Wait"===e)return new B$([],new F$([]));throw new Error(".".concat(e," undefined (type ").concat(this," has no field or method ").concat(e,")"))}}const oG={fmt:e=>{const t=new V$("fmt",{Println:new B$([],new F$([]),!0)});e.type_environment.addType("fmt",t);const[n,r]=e.context.env.declare_var("fmt");return e.instructions.push(new fX("fmt",new R$),new wX,new bX(n,r,"fmt"),new EX),e.symbols.push(...Array(4).fill(null)),t},sync:e=>{const t=new V$("sync",{WaitGroup:new rG});return e.type_environment.addType("sync",t),t}};class iG extends TX{constructor(e,t,n,r){super("source_file",e),this.pkg=t,this.imports=n,this.declarations=r}compileUnchecked(e){const t=new G$("GLOBAL");this.pushInstruction(e,t),e.context.push_env(),e.type_environment=e.type_environment.extend();for(const s of null!==(n=this.imports)&&void 0!==n?n:[]){var n;s.compile(e)}this.predeclareConstants(e);for(const s of this.declarations||[])s.compile(e);const[r,o]=e.context.env.find_var("main");this.pushInstruction(e,new bX(r,o,"main")),this.pushInstruction(e,new uX(0));const i=e.context.env.get_frame();return t.set_frame(i.map((t=>e.type_environment.get(t)))),t.set_identifiers(i),new P$}predeclareConstants(e){const t=[{name:"true",loadInstruction:new fX(!0,new O$),type:new O$},{name:"false",loadInstruction:new fX(!1,new O$),type:new O$}];for(const n of t){const{name:t,loadInstruction:r,type:o}=n,[i,s]=e.context.env.declare_var(t);this.pushInstruction(e,r,new bX(i,s,t),new EX),e.type_environment.addType(t,o)}}}class sG extends TX{constructor(e,t,n){super("import",e),this.importPath=t,this.pkgName=n}compileUnchecked(e){const t=this.importPath.getValue();return t in oG&&oG[t](e),new P$}}class aG extends TX{constructor(e,t,n,r){super("assignment",e),this.left=t,this.operation=n,this.right=r}compileUnchecked(e){for(let t=0;t<this.left.length;t++){const n=this.left[t],r=this.right[t];let o;if("+="===this.operation){const t=n.compile(e),i=r.compile(e);if(!t.equals(i))throw Error("Invalid operation (mismatched types ".concat(t," and ").concat(i,")"));o=t,this.pushInstruction(e,new kX("sum"))}else if("*="===this.operation){const t=n.compile(e),i=r.compile(e);if(!t.equals(i))throw Error("Invalid operation (mismatched types ".concat(t," and ").concat(i,")"));o=t,this.pushInstruction(e,new kX("product"))}else{if("="!==this.operation)throw Error("Unimplemented");o=r.compile(e)}const i=n.compile(e);if(!i.assignableBy(o))throw Error("Cannot use ".concat(o," as ").concat(i," in assignment"));this.pushInstruction(e,new EX)}return new P$}}class lG extends TX{constructor(e,t,n){super("inc_dec",e),this.expression=t,this.operation=n}compileUnchecked(e){return this.expression.compile(e),this.pushInstruction(e,new fX(1,new N$)),"++"===this.operation?this.pushInstruction(e,new kX("sum")):"--"===this.operation&&this.pushInstruction(e,new kX("difference")),this.expression.compile(e),this.pushInstruction(e,new EX),new P$}}class cG extends TX{constructor(e,t){super("return",e),this.returns=t}compileUnchecked(e){var t;const n=new F$((null!==(t=this.returns)&&void 0!==t?t:[]).map((t=>t.compile(e))));if(n.types.length>e.type_environment.expectedReturn.types.length)throw new Error("Too many return values\nhave ".concat(n,"\nwant ").concat(e.type_environment.expectedReturn));if(!n.equals(e.type_environment.expectedReturn))throw new Error("Cannot use ".concat(n," as ").concat(e.type_environment.expectedReturn," value in return statement."));return this.pushInstruction(e,new hX),n}}class uG extends TX{constructor(e){super("break",e)}compileUnchecked(e){const t=new lX;return e.context.add_break(t),this.pushInstruction(e,t),new P$}}class dG extends TX{constructor(e){super("continue",e)}compileUnchecked(e){const t=new lX;return e.context.add_continue(t),this.pushInstruction(e,t),new P$}}class hG extends TX{constructor(e){super("fallthrough",e)}compileUnchecked(e){return new P$}}class fG extends TX{constructor(e,t,n,r,o){super("if",e),this.initialization=t,this.predicate=n,this.consequent=r,this.alternative=o}compileUnchecked(e){e.context.push_env();const t=new G$("IF BLOCK");this.pushInstruction(e,t),e.type_environment=e.type_environment.extend(),this.initialization&&this.initialization.compile(e);if(!(this.predicate.compile(e)instanceof O$))throw new Error("Non-boolean condition in if statement.");const n=new aX;this.pushInstruction(e,n),this.consequent.name="IF BODY";const r=this.consequent.compile(e),o=new sX;this.pushInstruction(e,o),n.set_addr(e.instructions.length);let i=e.type_environment.expectedReturn;this.alternative&&(this.alternative instanceof G$&&(this.alternative.name="IF BODY"),i=this.alternative.compile(e)),o.set_addr(e.instructions.length),this.pushInstruction(e,new Q$);const s=e.context.env.get_frame();return t.set_frame(s.map((t=>e.type_environment.get(t)))),t.set_identifiers(s),e.type_environment=e.type_environment.pop(),e.context.pop_env(),r instanceof F$&&i instanceof F$?r:new P$}}class pG extends TX{constructor(e,t,n,r){super("switch",e),this.init=t,this.expressions=n,this.cases=r}compileUnchecked(e){return new P$}}class mG extends TX{constructor(e,t,n){super("case",e),this.expressions=t,this.statements=n}compileUnchecked(e){return new P$}}class gG extends TX{constructor(e,t,n,r,o){super("for",e),this.initialization=t,this.condition=n,this.post=r,this.body=o}compileUnchecked(e){e.context.push_env(),e.type_environment=e.type_environment.extend();const t=new G$("FOR INIT",!0);this.pushInstruction(e,t),e.context.push_loop(),this.initialization&&this.initialization.compile(e);const n=e.instructions.length,r=new aX;if(this.condition){if(!(this.condition.compile(e)instanceof O$))throw new Error("Non-boolean condition in for statement condition.");this.pushInstruction(e,r)}this.body.name="FOR BODY";const o=this.body.compile(e),i=e.instructions.length;this.post&&this.post.compile(e),this.pushInstruction(e,new sX(n));const s=e.instructions.length;r.set_addr(s),e.context.pop_loop(i,s),this.pushInstruction(e,new Q$);const a=e.context.env.get_frame();return t.set_frame(a.map((t=>e.type_environment.get(t)))),t.set_identifiers(a),e.type_environment=e.type_environment.pop(),e.context.pop_env(),o}}class vG extends TX{constructor(e,t){super("defer",e),this.expression=t}compileUnchecked(e){if(!this.isFunctionCall())throw new Error("Expression in defer must be function call.");this.expression.compile(e);const t=e.instructions[e.instructions.length-1];return e.instructions[e.instructions.length-1]=dX.fromCallInstruction(t),new P$}isFunctionCall(){var e;if(!(this.expression instanceof LX))return!1;const t=null!==(e=this.expression.rest)&&void 0!==e?e:[];return 0!==t.length&&t[t.length-1]instanceof WX}}class yG extends TX{constructor(e,t){super("go",e),this.call=t}static isValidGoroutine(e){return e.rest&&e.rest.length>0&&e.rest[e.rest.length-1]instanceof WX}compileUnchecked(e){const t=new tX;return this.pushInstruction(e,t),this.call.compile(e),this.pushInstruction(e,new $$),t.set_addr(e.instructions.length),new P$}}class bG extends TX{constructor(e,t,n){super("send",e),this.channel=t,this.value=n}compileUnchecked(e){const t=this.channel.compile(e);if(!(t instanceof j$))throw Error("Not instance of channel type");const n=t.element,r=this.value.compile(e);if(!n.assignableBy(r))throw Error("Cannot use ".concat(r," as ").concat(n," in assignment"));if(!n.equals(r))throw Error("");return this.pushInstruction(e,new rX(!1,e.instructions.length+2)),this.pushInstruction(e,new oX),new P$}}class wG extends TX{constructor(e,t,n,r){super("receive",e),this.declaration=t,this.identifiers=n,this.expression=r}static isReceiveStatement(e){return null===e||e.length>0&&e.length<=2}compileUnchecked(e){return this.expression.compile(e)}}class xG extends TX{constructor(e,t){super("select",e),this.clauses=t}compileUnchecked(e){let t=!1;const n=[];for(const r of this.clauses){if("default"===r.predicate){if(t)throw Error("Multiple Default cases!");t=!0;continue}r.compile(e);const o=new sX;this.pushInstruction(e,o),n.push(o)}if(t)for(const r of this.clauses)if("default"===r.predicate){r.compile(e);const t=new sX;this.pushInstruction(e,t),n.push(t);break}this.pushInstruction(e,new iX(this.clauses.length-(t?1:0),t));for(const r of n)r.set_addr(e.instructions.length);return new P$}}class SG extends TX{constructor(e,t,n){super("communication_clause",e),this.predicate=t,this.body=n}compileUnchecked(e){if(this.predicate instanceof wG){const t=this.predicate.expression.compile(e);e.instructions.pop(),e.symbols.pop();const n=new sX;this.pushInstruction(e,n),this.predicate.identifiers?this.predicate.declaration?this.body.unshift(new DX(this.sourceLocation,this.predicate.identifiers,[new zX(this.sourceLocation,t)])):this.body.unshift(new aG(this.sourceLocation,[new LX(this.sourceLocation,this.predicate.identifiers[0],null)],"=",[new zX(this.sourceLocation,t)])):this.pushInstruction(e,new X$),new PX(this.sourceLocation,this.body,"CASE BLOCK").compile(e),n.set_addr(e.instructions.length+1)}else{if("default"===this.predicate){const t=new fX(e.instructions.length+2,new N$);this.pushInstruction(e,t)}else this.predicate.compile(e),e.instructions.pop(),e.symbols.pop();const t=new sX;this.pushInstruction(e,t),new PX(this.sourceLocation,this.body,"CASE BLOCK").compile(e),t.set_addr(e.instructions.length+1)}return new P$}}var kG;class CG extends TX{constructor(e){super("type",e)}}class _G extends CG{constructor(e,t){if(super(e),this.name=void 0,!_G.isPrimitive(t))throw Error("Invalid primitive type: ".concat(t));this.name=t}compileUnchecked(e){return"bool"===this.name?new O$:"float64"===this.name?new D$:"int"===this.name||"int64"===this.name?new N$:"string"===this.name?new R$:new P$}}kG=_G,_G.primitiveTypes=["bool","int64","float64","int","string"],_G.isPrimitive=e=>kG.primitiveTypes.includes(e),_G.isPrimitiveToken=e=>e instanceof kG&&kG.isPrimitive(e.name);class EG extends CG{constructor(e,t,n){super(e),this.element=t,this.length=n}compileUnchecked(e){return new I$(this.element.compile(e),this.length.getValue())}}class AG extends CG{constructor(e,t){super(e),this.element=t}compileUnchecked(e){return new z$(this.element.compile(e))}}class MG extends CG{constructor(e,t,n){super(e),this.parameters=void 0,this.results=void 0,this.parameters=t,this.results=null!==n&&void 0!==n?n:[]}compileUnchecked(e){const t=this.parameters.map((t=>new L$(t.identifier,t.type.compile(e)))),n=new F$(this.results.map((t=>t.type.compile(e))));return new B$(t,n)}}class TG extends CG{constructor(e,t,n){super(e),this.key=t,this.element=n}compileUnchecked(e){return new P$}}class PG extends CG{constructor(e,t,n,r){super(e),this.element=t,this.readable=n,this.writable=r}compileUnchecked(e){return new j$(this.element.compile(e),this.readable,this.writable)}}function OG(e,t){if(!e.length)return t;let n=e.pop();return n[2](OG(e,n[0]),t)}function NG(e,t,n,r){var o=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(o,NG.prototype),o.expected=t,o.found=n,o.location=r,o.name="SyntaxError",o}function DG(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(NG,Error),NG.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,i=this.location.source&&"function"===typeof this.location.source.offset?this.location.source.offset(o):o,s=this.location.source+":"+i.line+":"+i.column;if(r){var a=this.location.end,l=DG("",i.line.toString().length," "),c=r[o.line-1],u=(o.line===a.line?a.column:c.length+1)-o.column||1;t+="\n --\x3e "+s+"\n"+l+" |\n"+i.line+" | "+c+"\n"+l+" | "+DG("",o.column-1," ")+DG("",u,"^")}else t+="\n at "+s}return t},NG.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function s(e){return n[e.type](e)}return"Expected "+function(e){var t,n,r=e.map(s);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."};const RG={parse:function(e,t){var n,r={},o=(t=void 0!==t?t:{}).grammarSource,i={start:To},s=To,a="\n",l="_",c="//",u="/*",d="*/",h="0",f="b",p=".",m="`",g='"',v="(",y=")",b="[",w="]",x="struct",S="{",k=";",C="}",_="*",E="func",A=",",M="interface",T="|",P="~",O="map",N="chan",D="<-",R="const",I="=",z="type",L="var",B=":=",j=":",F="==",V="!=",W="<=",H=">=",U="<",q="-",K=">",Y="+",$="^",X="/",G="%",Z="<<",Q=">>",J="&",ee="&^",te="||",ne="&&",re="!",oe="++",ie="--",se="if",ae="else",le="switch",ce="case",ue="default",de="for",he="go",fe="select",pe="return",me="break",ge="continue",ve="goto",ye="fallthrough",be="defer",we="package",xe="import",Se=/^[ \t\r\n]/,ke=/^[0-9]/,Ce=/^[0-1]/,_e=/^[0-7]/,Ee=/^[0-9a-fA-F]/,Ae=/^[oO]/,Me=/^[1-9]/,Te=/^[xX]/,Pe=/^[eE]/,Oe=/^[+\-]/,Ne=/^[^`]/,De=/^[^\n"]/,Re=/^[a-zA-Z]/,Ie=/^[*+]/,ze=Co([" ","\t","\r","\n"],!1,!1),Le=ko("\n",!1),Be={type:"any"},je=ko("_",!1),Fe=Co([["0","9"]],!1,!1),Ve=Co([["0","1"]],!1,!1),We=Co([["0","7"]],!1,!1),He=Co([["0","9"],["a","f"],["A","F"]],!1,!1),Ue=ko("//",!1),qe=ko("/*",!1),Ke=ko("*/",!1),Ye=ko("0",!1),$e=ko("b",!1),Xe=Co(["o","O"],!1,!1),Ge=Co([["1","9"]],!1,!1),Ze=Co(["x","X"],!1,!1),Qe=ko(".",!1),Je=Co(["e","E"],!1,!1),et=Co(["+","-"],!1,!1),tt=ko("`",!1),nt=Co(["`"],!0,!1),rt=ko('"',!1),ot=Co(["\n",'"'],!0,!1),it=ko("(",!1),st=ko(")",!1),at=ko("[",!1),lt=ko("]",!1),ct=ko("struct",!1),ut=ko("{",!1),dt=ko(";",!1),ht=ko("}",!1),ft=ko("*",!1),pt=ko("func",!1),mt=ko(",",!1),gt=ko("interface",!1),vt=ko("|",!1),yt=ko("~",!1),bt=ko("map",!1),wt=ko("chan",!1),xt=ko("<-",!1),St=ko("const",!1),kt=ko("=",!1),Ct=ko("type",!1),_t=ko("var",!1),Et=ko(":=",!1),At=ko(":",!1),Mt=Co([["a","z"],["A","Z"]],!1,!1),Tt=ko("==",!1),Pt=ko("!=",!1),Ot=ko("<=",!1),Nt=ko(">=",!1),Dt=ko("<",!1),Rt=ko("-",!1),It=ko(">",!1),zt=ko("+",!1),Lt=ko("^",!1),Bt=ko("/",!1),jt=ko("%",!1),Ft=ko("<<",!1),Vt=ko(">>",!1),Wt=ko("&",!1),Ht=ko("&^",!1),Ut=ko("||",!1),qt=ko("&&",!1),Kt=ko("!",!1),Yt=ko("++",!1),$t=ko("--",!1),Xt=Co(["*","+"],!1,!1),Gt=ko("if",!1),Zt=ko("else",!1),Qt=ko("switch",!1),Jt=ko("case",!1),en=ko("default",!1),tn=ko("for",!1),nn=(ko("range",!1),ko("go",!1)),rn=ko("select",!1),on=ko("return",!1),sn=ko("break",!1),an=ko("continue",!1),ln=ko("goto",!1),cn=ko("fallthrough",!1),un=ko("defer",!1),dn=ko("package",!1),hn=ko("import",!1),fn=function(e){return"\n"!=e},pn=function(e){return e.match(/^\p{L}$/u)},mn=function(e){return e.match(/^\p{N}$/u)},gn=function(e){return UX.isValidIdentifier(e)},vn=function(e){return new UX(So(),e)},yn=function(e){return YX.fromSource(So(),e,2)},bn=function(e){return YX.fromSource(So(),e,8)},wn=function(e){return YX.fromSource(So(),e,10)},xn=function(e){return YX.fromSource(So(),e,16)},Sn=function(e){return $X.fromSource(So(),e)},kn=function(e){return XX.fromSourceRaw(So(),e)},Cn=function(e){return XX.fromSourceInterpreted(So(),e)},_n=function(e){return _G.isPrimitive(e.identifier)},En=function(e){return new _G(So(),e.identifier)},An=function(e,t){return new EG(So(),t,e)},Mn=function(e){return new AG(So(),e)},Tn=function(e,t){return new MG(So(),e,t)},Pn=function(e){return[{type:e}]},On=function(e){return null!==e&&void 0!==e?e:[]},Nn=function(e,t){return[e,...t].flat()},Dn=function(e,t){return null==e||0===e.length?[{identifier:null,type:t}]:e.map((e=>({identifier:e.identifier,type:t})))},Rn=function(e){return[{identifier:null,type:e}]},In=function(e,t){return new TG(So(),e,t)},zn=function(e){return new PG(So(),e,!1,!0)},Ln=function(e){return new PG(So(),e,!0,!1)},Bn=function(e){return new PG(So(),e,!0,!0)},jn=function(e){return new PX(So(),e)},Fn=function(e,t,n){return{varType:t,expressions:n}},Vn=function(e,t){return new IX(So(),e,t.expressions,t.varType)},Wn=function(e,t){return[e,...t]},Hn=function(e,t){return[e,...t]},Un=function(e,t,n){return{varType:t,expressions:n}},qn=function(e,t){return{varType:void 0,expressions:t}},Kn=function(e,t){return new RX(So(),e,t.varType,t.expressions)},Yn=function(e,t){return new DX(So(),e,t)},$n=function(e,t,n){return new OX(So(),e,new GX(So(),t,n))},Xn=function(e,t){return new qX(So(),e.identifier,t.identifier)},Gn=function(e,t){return new QX(So(),e,t)},Zn=function(e,t){return new JX(So(),e,t)},Qn=function(e){return new ZX(So(),null!==e&&void 0!==e?e:[])},Jn=function(e,t){return[e,...t]},er=function(e,t){return new GX(So(),e,t)},tr=function(e,t){return new LX(So(),e,t)},nr=function(e){return new jX(So(),e.identifier)},rr=function(e){return new FX(So(),e)},or=function(e,t){return new VX(So(),e,t)},ir=function(e){return new WX(So(),e)},sr=function(e,t,n){return HX.validNames.includes(e)&&HX.namesThatTakeType.includes(e)},ar=function(e,t,n){return new HX(So(),e,t,null!==n&&void 0!==n?n:[])},lr=function(e,t){return HX.validNames.includes(e)&&!HX.namesThatTakeType.includes(e)},cr=function(e,t){return new HX(So(),e,null,null!==t&&void 0!==t?t:[])},ur=function(e,t){return OG(e,t)},dr=function(e,t){return OG(e,t)},hr=function(e,t){return OG(e,t)},fr=function(e,t){return OG(e,t)},pr=function(e,t){return OG(e,t)},mr=function(e,t){return e(t)},gr=function(){return nG.fromSource(So(),"equal")},vr=function(){return nG.fromSource(So(),"not_equal")},yr=function(){return nG.fromSource(So(),"less_or_equal")},br=function(){return nG.fromSource(So(),"greater_or_equal")},wr=function(){return nG.fromSource(So(),"less")},xr=function(){return nG.fromSource(So(),"greater")},Sr=function(){return nG.fromSource(So(),"sum")},kr=function(){return nG.fromSource(So(),"difference")},Cr=function(){return nG.fromSource(So(),"bitwise_or")},_r=function(){return nG.fromSource(So(),"bitwise_xor")},Er=function(){return nG.fromSource(So(),"product")},Ar=function(){return nG.fromSource(So(),"quotient")},Mr=function(){return nG.fromSource(So(),"remainder")},Tr=function(){return nG.fromSource(So(),"left_shift")},Pr=function(){return nG.fromSource(So(),"right_shift")},Or=function(){return nG.fromSource(So(),"bitwise_and")},Nr=function(){return nG.fromSource(So(),"bit_clear")},Dr=function(){return nG.fromSource(So(),"conditional_or")},Rr=function(){return nG.fromSource(So(),"conditional_and")},Ir=function(){return tG.fromSource(So(),"plus")},zr=function(){return tG.fromSource(So(),"negation")},Lr=function(){return tG.fromSource(So(),"not")},Br=function(){return tG.fromSource(So(),"bitwise_complement")},jr=function(){return tG.fromSource(So(),"indirection")},Fr=function(){return tG.fromSource(So(),"address")},Vr=function(){return tG.fromSource(So(),"receive")},Wr=function(e,t){return new bG(So(),e,t)},Hr=function(e,t){return new lG(So(),e,t)},Ur=function(e,t,n){return new aG(So(),e,t,n)},qr=function(e,t,n,r){return new fG(So(),e,t,n,r)},Kr=function(e,t,n){return new pG(So(),e,t,n)},Yr=function(e){return new mG(So(),null,e)},$r=function(e,t){return new mG(So(),e,t)},Xr=function(e){return{init:void 0,cond:e,post:void 0}},Gr=function(e,t){return new gG(So(),null===e||void 0===e?void 0:e.init,null===e||void 0===e?void 0:e.cond,null===e||void 0===e?void 0:e.post,t)},Zr=function(e,t,n){return{init:null!==e&&void 0!==e?e:void 0,cond:null!==t&&void 0!==t?t:void 0,post:null!==n&&void 0!==n?n:void 0}},Qr=function(e){return yG.isValidGoroutine(e)},Jr=function(e){return new yG(So(),e)},eo=function(e){return new xG(So(),null!==e&&void 0!==e?e:[])},to=function(e,t){return new SG(So(),e,t)},no=function(e,t){return wG.isReceiveStatement(e)},ro=function(e,t){return new wG(So(),!0,e,t)},oo=function(e,t){return wG.isReceiveStatement(e)},io=function(e,t){return new wG(So(),!1,e,t)},so=function(e){return e instanceof tG&&"receive"===e.name},ao=function(e){return e},lo=function(e){return new cG(So(),e)},co=function(){return new uG(So())},uo=function(){return new dG(So())},ho=function(){return new hG(So())},fo=function(e){return new vG(So(),e)},po=function(e,t,n){return new iG(So(),e,t,n)},mo=function(e,t){return new sG(So(),t,e)},go=0|t.peg$currPos,vo=go,yo=[{line:1,column:1}],bo=go,wo=t.peg$maxFailExpected||[],xo=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=i[t.startRule]}function So(){return Eo(vo,go)}function ko(e,t){return{type:"literal",text:e,ignoreCase:t}}function Co(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function _o(t){var n,r=yo[t];if(r)return r;if(t>=yo.length)n=yo.length-1;else for(n=t;!yo[--n];);for(r={line:(r=yo[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return yo[t]=r,r}function Eo(e,t,n){var r=_o(e),i=_o(t),s={source:o,start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:i.line,column:i.column}};return n&&o&&"function"===typeof o.offset&&(s.start=o.offset(s.start),s.end=o.offset(s.end)),s}function Ao(e){go<bo||(go>bo&&(bo=go,wo=[]),wo.push(e))}function Mo(e,t,n){return new NG(NG.buildMessage(e,t),e,t,n)}function To(){var t,n;return t=go,Po(),n=function(){var t,n,o,i,s,a,l,c,u,d;if(t=go,n=function(){var t,n,o;t=go,e.substr(go,7)===we?(n=we,go+=7):(n=r,0===xo&&Ao(dn));n!==r?(Po(),(o=jo())!==r?t=o:(go=t,t=r)):(go=t,t=r);return t}(),n!==r){for(Po(),59===e.charCodeAt(go)?(o=k,go++):(o=r,0===xo&&Ao(dt)),o===r&&(o=null),Po(),i=[],s=go,a=Po(),(l=Ri())!==r?(c=Po(),59===e.charCodeAt(go)?(u=k,go++):(u=r,0===xo&&Ao(dt)),u===r&&(u=null),d=Po(),s=l):(go=s,s=r);s!==r;)i.push(s),s=go,a=Po(),(l=Ri())!==r?(c=Po(),59===e.charCodeAt(go)?(u=k,go++):(u=r,0===xo&&Ao(dt)),u===r&&(u=null),d=Po(),s=l):(go=s,s=r);for(s=[],a=go,l=Po(),(c=ii())!==r?(u=Po(),59===e.charCodeAt(go)?(d=k,go++):(d=r,0===xo&&Ao(dt)),d===r&&(d=null),a=c):(go=a,a=r);a!==r;)s.push(a),a=go,l=Po(),(c=ii())!==r?(u=Po(),59===e.charCodeAt(go)?(d=k,go++):(d=r,0===xo&&Ao(dt)),d===r&&(d=null),a=c):(go=a,a=r);vo=t,t=po(n,i,s)}else go=t,t=r;return t}(),n!==r?(Po(),t=n):(go=t,t=r),t}function Po(){var t,n;for(t=[],n=e.charAt(go),Se.test(n)?go++:(n=r,0===xo&&Ao(ze)),n===r&&(n=Bo());n!==r;)t.push(n),n=e.charAt(go),Se.test(n)?go++:(n=r,0===xo&&Ao(ze)),n===r&&(n=Bo());return t}function Oo(){var t,n,o;return t=go,e.length>go?(n=e.charAt(go),go++):(n=r,0===xo&&Ao(Be)),n!==r?(vo=go,(o=(o=fn(n))?void 0:r)!==r?t=n=[n,o]:(go=t,t=r)):(go=t,t=r),t}function No(){var t,n,o;return t=go,e.length>go?(n=e.charAt(go),go++):(n=r,0===xo&&Ao(Be)),n!==r?(vo=go,(o=(o=mn(n))?void 0:r)!==r?t=n=[n,o]:(go=t,t=r)):(go=t,t=r),t}function Do(){var t;return(t=function(){var t,n,o;return t=go,e.length>go?(n=e.charAt(go),go++):(n=r,0===xo&&Ao(Be)),n!==r?(vo=go,(o=(o=pn(n))?void 0:r)!==r?t=n=[n,o]:(go=t,t=r)):(go=t,t=r),t}())===r&&(95===e.charCodeAt(go)?(t=l,go++):(t=r,0===xo&&Ao(je))),t}function Ro(){var t;return t=e.charAt(go),ke.test(t)?go++:(t=r,0===xo&&Ao(Fe)),t}function Io(){var t;return t=e.charAt(go),Ce.test(t)?go++:(t=r,0===xo&&Ao(Ve)),t}function zo(){var t;return t=e.charAt(go),_e.test(t)?go++:(t=r,0===xo&&Ao(We)),t}function Lo(){var t;return t=e.charAt(go),Ee.test(t)?go++:(t=r,0===xo&&Ao(He)),t}function Bo(){var t,n,o,i,s,l;if(t=go,e.substr(go,2)===c?(n=c,go+=2):(n=r,0===xo&&Ao(Ue)),n!==r){for(o=[],i=Oo();i!==r;)o.push(i),i=Oo();i=function(){var t;return 10===e.charCodeAt(go)?(t=a,go++):(t=r,0===xo&&Ao(Le)),t}(),i!==r?t=n=[n,o,i]:(go=t,t=r)}else go=t,t=r;if(t===r)if(t=go,e.substr(go,2)===u?(n=u,go+=2):(n=r,0===xo&&Ao(qe)),n!==r){for(o=[],i=go,s=go,xo++,e.substr(go,2)===d?(l=d,go+=2):(l=r,0===xo&&Ao(Ke)),xo--,l===r?s=void 0:(go=s,s=r),s!==r?(e.length>go?(l=e.charAt(go),go++):(l=r,0===xo&&Ao(Be)),l!==r?i=s=[s,l]:(go=i,i=r)):(go=i,i=r);i!==r;)o.push(i),i=go,s=go,xo++,e.substr(go,2)===d?(l=d,go+=2):(l=r,0===xo&&Ao(Ke)),xo--,l===r?s=void 0:(go=s,s=r),s!==r?(e.length>go?(l=e.charAt(go),go++):(l=r,0===xo&&Ao(Be)),l!==r?i=s=[s,l]:(go=i,i=r)):(go=i,i=r);e.substr(go,2)===d?(i=d,go+=2):(i=r,0===xo&&Ao(Ke)),i!==r?t=n=[n,o,i]:(go=t,t=r)}else go=t,t=r;return t}function jo(){var t,n,o,i,s,a;if(t=go,n=go,o=go,(i=Do())!==r){for(s=[],(a=Do())===r&&(a=No());a!==r;)s.push(a),(a=Do())===r&&(a=No());o=i=[i,s]}else go=o,o=r;return(n=o!==r?e.substring(n,go):o)!==r?(vo=go,(o=(o=gn(n))?void 0:r)!==r?(vo=t,t=vn(n)):(go=t,t=r)):(go=t,t=r),t}function Fo(){var t,n;return t=go,n=function(){var t,n,o,i,s,a;t=go,48===e.charCodeAt(go)?(n=h,go++):(n=r,0===xo&&Ao(Ye));n!==r?(98===e.charCodeAt(go)?(o=f,go++):(o=r,0===xo&&Ao($e)),o!==r?(95===e.charCodeAt(go)?(i=l,go++):(i=r,0===xo&&Ao(je)),i===r&&(i=null),s=go,a=function(){var t,n,o,i,s,a;if(t=go,n=Io(),n!==r){for(o=[],i=go,95===e.charCodeAt(go)?(s=l,go++):(s=r,0===xo&&Ao(je)),s===r&&(s=null),(a=Io())!==r?i=s=[s,a]:(go=i,i=r);i!==r;)o.push(i),i=go,95===e.charCodeAt(go)?(s=l,go++):(s=r,0===xo&&Ao(je)),s===r&&(s=null),(a=Io())!==r?i=s=[s,a]:(go=i,i=r);t=n=[n,o]}else go=t,t=r;return t}(),(s=a!==r?e.substring(s,go):a)!==r?t=n=[n,o,i,s]:(go=t,t=r)):(go=t,t=r)):(go=t,t=r);return t}(),n!==r&&(vo=t,n=yn(n)),(t=n)===r&&(t=go,n=function(){var t,n,o,i,s,a;t=go,48===e.charCodeAt(go)?(n=h,go++):(n=r,0===xo&&Ao(Ye));n!==r?(o=e.charAt(go),Ae.test(o)?go++:(o=r,0===xo&&Ao(Xe)),o===r&&(o=null),95===e.charCodeAt(go)?(i=l,go++):(i=r,0===xo&&Ao(je)),i===r&&(i=null),s=go,a=function(){var t,n,o,i,s,a;if(t=go,n=zo(),n!==r){for(o=[],i=go,95===e.charCodeAt(go)?(s=l,go++):(s=r,0===xo&&Ao(je)),s===r&&(s=null),(a=zo())!==r?i=s=[s,a]:(go=i,i=r);i!==r;)o.push(i),i=go,95===e.charCodeAt(go)?(s=l,go++):(s=r,0===xo&&Ao(je)),s===r&&(s=null),(a=zo())!==r?i=s=[s,a]:(go=i,i=r);t=n=[n,o]}else go=t,t=r;return t}(),(s=a!==r?e.substring(s,go):a)!==r?t=n=[n,o,i,s]:(go=t,t=r)):(go=t,t=r);return t}(),n!==r&&(vo=t,n=bn(n)),(t=n)===r&&(t=go,n=function(){var t,n,o,i,s;t=go,n=go,o=e.charAt(go),Me.test(o)?go++:(o=r,0===xo&&Ao(Ge));o!==r?(95===e.charCodeAt(go)?(i=l,go++):(i=r,0===xo&&Ao(je)),i===r&&(i=null),(s=Vo())===r&&(s=null),n=o=[o,i,s]):(go=n,n=r);t=n!==r?e.substring(t,go):n;t===r&&(48===e.charCodeAt(go)?(t=h,go++):(t=r,0===xo&&Ao(Ye)));return t}(),n!==r&&(vo=t,n=wn(n)),(t=n)===r&&(t=go,n=function(){var t,n,o,i,s,a;t=go,48===e.charCodeAt(go)?(n=h,go++):(n=r,0===xo&&Ao(Ye));n!==r?(o=e.charAt(go),Te.test(o)?go++:(o=r,0===xo&&Ao(Ze)),o!==r?(95===e.charCodeAt(go)?(i=l,go++):(i=r,0===xo&&Ao(je)),i===r&&(i=null),s=go,a=function(){var t,n,o,i,s,a;if(t=go,n=Lo(),n!==r){for(o=[],i=go,95===e.charCodeAt(go)?(s=l,go++):(s=r,0===xo&&Ao(je)),s===r&&(s=null),(a=Lo())!==r?i=s=[s,a]:(go=i,i=r);i!==r;)o.push(i),i=go,95===e.charCodeAt(go)?(s=l,go++):(s=r,0===xo&&Ao(je)),s===r&&(s=null),(a=Lo())!==r?i=s=[s,a]:(go=i,i=r);t=n=[n,o]}else go=t,t=r;return t}(),(s=a!==r?e.substring(s,go):a)!==r?t=n=[n,o,i,s]:(go=t,t=r)):(go=t,t=r)):(go=t,t=r);return t}(),n!==r&&(vo=t,n=xn(n)),t=n))),t}function Vo(){var t,n,o,i,s,a;if(t=go,(n=Ro())!==r){for(o=[],i=go,95===e.charCodeAt(go)?(s=l,go++):(s=r,0===xo&&Ao(je)),s===r&&(s=null),(a=Ro())!==r?i=s=[s,a]:(go=i,i=r);i!==r;)o.push(i),i=go,95===e.charCodeAt(go)?(s=l,go++):(s=r,0===xo&&Ao(je)),s===r&&(s=null),(a=Ro())!==r?i=s=[s,a]:(go=i,i=r);t=n=[n,o]}else go=t,t=r;return t}function Wo(){var t,n,o;return t=go,n=go,o=function(){var t,n,o,i,s;t=go,n=Vo(),n!==r?(46===e.charCodeAt(go)?(o=p,go++):(o=r,0===xo&&Ao(Qe)),o!==r?((i=Vo())===r&&(i=null),(s=Ho())===r&&(s=null),t=n=[n,o,i,s]):(go=t,t=r)):(go=t,t=r);t===r&&(t=go,(n=Vo())!==r&&(o=Ho())!==r?t=n=[n,o]:(go=t,t=r),t===r&&(t=go,46===e.charCodeAt(go)?(n=p,go++):(n=r,0===xo&&Ao(Qe)),n!==r&&(o=Vo())!==r?((i=Ho())===r&&(i=null),t=n=[n,o,i]):(go=t,t=r)));return t}(),(n=o!==r?e.substring(n,go):o)!==r&&(vo=t,n=Sn(n)),t=n}function Ho(){var t,n,o,i;return t=go,n=e.charAt(go),Pe.test(n)?go++:(n=r,0===xo&&Ao(Je)),n!==r?(o=e.charAt(go),Oe.test(o)?go++:(o=r,0===xo&&Ao(et)),o===r&&(o=null),(i=Vo())!==r?t=n=[n,o,i]:(go=t,t=r)):(go=t,t=r),t}function Uo(){var t;return(t=function(){var t,n,o,i,s;t=go,96===e.charCodeAt(go)?(n=m,go++):(n=r,0===xo&&Ao(tt));if(n!==r){for(o=go,i=[],s=e.charAt(go),Ne.test(s)?go++:(s=r,0===xo&&Ao(nt));s!==r;)i.push(s),s=e.charAt(go),Ne.test(s)?go++:(s=r,0===xo&&Ao(nt));o=e.substring(o,go),96===e.charCodeAt(go)?(i=m,go++):(i=r,0===xo&&Ao(tt)),i!==r?(vo=t,t=kn(o)):(go=t,t=r)}else go=t,t=r;return t}())===r&&(t=function(){var t,n,o,i,s;t=go,34===e.charCodeAt(go)?(n=g,go++):(n=r,0===xo&&Ao(rt));if(n!==r){for(o=go,i=[],s=e.charAt(go),De.test(s)?go++:(s=r,0===xo&&Ao(ot));s!==r;)i.push(s),s=e.charAt(go),De.test(s)?go++:(s=r,0===xo&&Ao(ot));o=e.substring(o,go),34===e.charCodeAt(go)?(i=g,go++):(i=r,0===xo&&Ao(rt)),i!==r?(vo=t,t=Cn(o)):(go=t,t=r)}else go=t,t=r;return t}()),t}function qo(){var t,n,o,i,s,a;return t=go,(n=Ko())!==r?t=n:(go=t,t=r),t===r&&(t=function(){var t;t=Yo(),t===r&&(t=function(){var t,n,o,i,s,a,l,c,u,d,h;t=go,e.substr(go,6)===x?(n=x,go+=6):(n=r,0===xo&&Ao(ct));if(n!==r)if(o=Po(),123===e.charCodeAt(go)?(i=S,go++):(i=r,0===xo&&Ao(ut)),i!==r){for(s=Po(),a=[],l=go,c=Po(),(u=Xo())!==r?(d=Po(),59===e.charCodeAt(go)?(h=k,go++):(h=r,0===xo&&Ao(dt)),h===r&&(h=null),l=c=[c,u,d,h]):(go=l,l=r);l!==r;)a.push(l),l=go,c=Po(),(u=Xo())!==r?(d=Po(),59===e.charCodeAt(go)?(h=k,go++):(h=r,0===xo&&Ao(dt)),h===r&&(h=null),l=c=[c,u,d,h]):(go=l,l=r);l=Po(),125===e.charCodeAt(go)?(c=C,go++):(c=r,0===xo&&Ao(ht)),c!==r?t=n=[n,o,i,s,a,l,c]:(go=t,t=r)}else go=t,t=r;else go=t,t=r;return t}(),t===r&&(t=function(){var t,n,o;t=go,42===e.charCodeAt(go)?(n=_,go++):(n=r,0===xo&&Ao(ft));n!==r&&(o=qo())!==r?t=n=[n,o]:(go=t,t=r);return t}(),t===r&&(t=function(){var t,n,o;t=go,e.substr(go,4)===E?(n=E,go+=4):(n=r,0===xo&&Ao(pt));n!==r?(Po(),(o=Go())!==r?t=o:(go=t,t=r)):(go=t,t=r);return t}(),t===r&&(t=function(){var t,n,o,i,s,a,l,c,u,d,h;t=go,e.substr(go,9)===M?(n=M,go+=9):(n=r,0===xo&&Ao(gt));if(n!==r)if(o=Po(),123===e.charCodeAt(go)?(i=S,go++):(i=r,0===xo&&Ao(ut)),i!==r){for(s=Po(),a=[],l=go,c=Po(),(u=Jo())!==r?(d=Po(),59===e.charCodeAt(go)?(h=k,go++):(h=r,0===xo&&Ao(dt)),h===r&&(h=null),l=c=[c,u,d,h]):(go=l,l=r);l!==r;)a.push(l),l=go,c=Po(),(u=Jo())!==r?(d=Po(),59===e.charCodeAt(go)?(h=k,go++):(h=r,0===xo&&Ao(dt)),h===r&&(h=null),l=c=[c,u,d,h]):(go=l,l=r);l=Po(),125===e.charCodeAt(go)?(c=C,go++):(c=r,0===xo&&Ao(ht)),c!==r?t=n=[n,o,i,s,a,l,c]:(go=t,t=r)}else go=t,t=r;else go=t,t=r;return t}(),t===r&&(t=$o())===r&&(t=function(){var t,n,o,i,s,a;t=go,e.substr(go,3)===O?(n=O,go+=3):(n=r,0===xo&&Ao(bt));n!==r?(Po(),91===e.charCodeAt(go)?(o=b,go++):(o=r,0===xo&&Ao(at)),o!==r?(Po(),(i=qo())!==r?(Po(),93===e.charCodeAt(go)?(s=w,go++):(s=r,0===xo&&Ao(lt)),s!==r?(Po(),(a=qo())!==r?(vo=t,t=In(i,a)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r);return t}(),t===r&&(t=function(){var t,n,o,i;t=go,e.substr(go,4)===N?(n=N,go+=4):(n=r,0===xo&&Ao(wt));n!==r?(Po(),e.substr(go,2)===D?(o=D,go+=2):(o=r,0===xo&&Ao(xt)),o!==r?(Po(),(i=qo())!==r?(vo=t,t=zn(i)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r);t===r&&(t=go,e.substr(go,2)===D?(n=D,go+=2):(n=r,0===xo&&Ao(xt)),n!==r?(Po(),e.substr(go,4)===N?(o=N,go+=4):(o=r,0===xo&&Ao(wt)),o!==r?(Po(),(i=qo())!==r?(vo=t,t=Ln(i)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r),t===r&&(t=go,e.substr(go,4)===N?(n=N,go+=4):(n=r,0===xo&&Ao(wt)),n!==r?(Po(),(o=qo())!==r?(vo=t,t=Bn(o)):(go=t,t=r)):(go=t,t=r)));return t}()))))));return t}(),t===r&&(t=go,40===e.charCodeAt(go)?(n=v,go++):(n=r,0===xo&&Ao(it)),n!==r?(o=Po(),(i=qo())!==r?(s=Po(),41===e.charCodeAt(go)?(a=y,go++):(a=r,0===xo&&Ao(st)),a!==r?t=n=[n,o,i,s,a]:(go=t,t=r)):(go=t,t=r)):(go=t,t=r))),t}function Ko(){var e,t;return e=go,(t=jo())!==r?(vo=go,(_n(t)?void 0:r)!==r?(vo=e,e=En(t)):(go=e,e=r)):(go=e,e=r),e===r&&(e=go,(t=di())!==r?e=t:(go=e,e=r)),e}function Yo(){var t,n,o,i,s;return t=go,91===e.charCodeAt(go)?(n=b,go++):(n=r,0===xo&&Ao(at)),n!==r?(Po(),(o=Fo())!==r?(Po(),93===e.charCodeAt(go)?(i=w,go++):(i=r,0===xo&&Ao(lt)),i!==r&&(s=qo())!==r?(vo=t,t=An(o,s)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r),t}function $o(){var t,n,o,i;return t=go,91===e.charCodeAt(go)?(n=b,go++):(n=r,0===xo&&Ao(at)),n!==r?(93===e.charCodeAt(go)?(o=w,go++):(o=r,0===xo&&Ao(lt)),o!==r&&(i=qo())!==r?(vo=t,t=Mn(i)):(go=t,t=r)):(go=t,t=r),t}function Xo(){var t,n,o,i;return t=go,n=go,(o=si())!==r&&(i=qo())!==r?n=o=[o,i]:(go=n,n=r),n===r&&(n=function(){var t,n,o;t=go,42===e.charCodeAt(go)?(n=_,go++):(n=r,0===xo&&Ao(ft));n===r&&(n=null);o=Ko(),o!==r?t=n=[n,o]:(go=t,t=r);return t}()),n!==r?((o=Uo())===r&&(o=null),t=n=[n,o]):(go=t,t=r),t}function Go(){var e,t,n;return e=go,(t=Zo())!==r?(Po(),n=function(){var e,t;e=go,t=Zo(),t!==r?e=t:(go=e,e=r);e===r&&(e=go,(t=qo())!==r&&(vo=e,t=Pn(t)),e=t);return e}(),n===r&&(n=null),vo=e,e=Tn(t,n)):(go=e,e=r),e}function Zo(){var t,n,o,i,s;return t=go,40===e.charCodeAt(go)?(n=v,go++):(n=r,0===xo&&Ao(it)),n!==r?(Po(),o=function(){var t,n,o,i,s,a;if(t=go,n=Qo(),n!==r){for(o=[],i=go,Po(),44===e.charCodeAt(go)?(s=A,go++):(s=r,0===xo&&Ao(mt)),s!==r?(Po(),(a=Qo())!==r?i=a:(go=i,i=r)):(go=i,i=r);i!==r;)o.push(i),i=go,Po(),44===e.charCodeAt(go)?(s=A,go++):(s=r,0===xo&&Ao(mt)),s!==r?(Po(),(a=Qo())!==r?i=a:(go=i,i=r)):(go=i,i=r);vo=t,t=Nn(n,o)}else go=t,t=r;return t}(),o===r&&(o=null),Po(),44===e.charCodeAt(go)?(i=A,go++):(i=r,0===xo&&Ao(mt)),i===r&&(i=null),Po(),41===e.charCodeAt(go)?(s=y,go++):(s=r,0===xo&&Ao(st)),s!==r?(vo=t,t=On(o)):(go=t,t=r)):(go=t,t=r),t}function Qo(){var e,t,n;return e=go,(t=si())===r&&(t=null),Po(),(n=qo())!==r?(vo=e,e=Dn(t,n)):(go=e,e=r),e===r&&(e=go,(t=qo())!==r&&(vo=e,t=Rn(t)),e=t),e}function Jo(){var e;return(e=function(){var e,t,n,o;e=go,(t=jo())!==r?(n=Po(),(o=Go())!==r?e=t=[t,n,o]:(go=e,e=r)):(go=e,e=r);return e}())===r&&(e=ei()),e}function ei(){var t,n,o,i,s,a,l,c;if(t=go,(n=ti())!==r){for(o=Po(),i=[],s=go,124===e.charCodeAt(go)?(a=T,go++):(a=r,0===xo&&Ao(vt)),a!==r?(l=Po(),(c=ti())!==r?s=a=[a,l,c,Po()]:(go=s,s=r)):(go=s,s=r);s!==r;)i.push(s),s=go,124===e.charCodeAt(go)?(a=T,go++):(a=r,0===xo&&Ao(vt)),a!==r?(l=Po(),(c=ti())!==r?s=a=[a,l,c,Po()]:(go=s,s=r)):(go=s,s=r);t=n=[n,o,i]}else go=t,t=r;return t}function ti(){var t;return(t=qo())===r&&(t=function(){var t,n,o;t=go,126===e.charCodeAt(go)?(n=P,go++):(n=r,0===xo&&Ao(yt));n!==r&&(o=qo())!==r?t=n=[n,o]:(go=t,t=r);return t}()),t}function ni(){var t,n,o,i;return t=go,123===e.charCodeAt(go)?(n=S,go++):(n=r,0===xo&&Ao(ut)),n!==r?(Po(),o=ri(),Po(),125===e.charCodeAt(go)?(i=C,go++):(i=r,0===xo&&Ao(ht)),i!==r?(vo=t,t=jn(o)):(go=t,t=r)):(go=t,t=r),t}function ri(){var t,n,o,i;for(t=[],n=go,Po(),(o=Ai())!==r?(Po(),59===e.charCodeAt(go)?(i=k,go++):(i=r,0===xo&&Ao(dt)),i===r&&(i=null),n=o):(go=n,n=r);n!==r;)t.push(n),n=go,Po(),(o=Ai())!==r?(Po(),59===e.charCodeAt(go)?(i=k,go++):(i=r,0===xo&&Ao(dt)),i===r&&(i=null),n=o):(go=n,n=r);return t}function oi(){var t;return(t=function(){var t,n,o;t=go,e.substr(go,5)===R?(n=R,go+=5):(n=r,0===xo&&Ao(St));n!==r?(Po(),o=function(){var t,n,o,i,s,a;t=go,n=si(),n!==r?(Po(),o=go,(i=qo())===r&&(i=null),Po(),61===e.charCodeAt(go)?(s=I,go++):(s=r,0===xo&&Ao(kt)),s!==r?(Po(),(a=ai())!==r?(vo=o,o=Fn(n,i,a)):(go=o,o=r)):(go=o,o=r),o!==r?(vo=t,t=Vn(n,o)):(go=t,t=r)):(go=t,t=r);return t}(),o!==r?t=o:(go=t,t=r)):(go=t,t=r);return t}())===r&&(t=function(){var t,n,o,i,s,a,l,c,u,d,h,f;t=go,e.substr(go,4)===z?(n=z,go+=4):(n=r,0===xo&&Ao(Ct));if(n!==r){if(o=Po(),(i=li())===r)if(i=go,40===e.charCodeAt(go)?(s=v,go++):(s=r,0===xo&&Ao(it)),s!==r){for(a=Po(),l=[],c=go,u=Po(),(d=li())!==r?(h=Po(),59===e.charCodeAt(go)?(f=k,go++):(f=r,0===xo&&Ao(dt)),f===r&&(f=null),c=u=[u,d,h,f]):(go=c,c=r);c!==r;)l.push(c),c=go,u=Po(),(d=li())!==r?(h=Po(),59===e.charCodeAt(go)?(f=k,go++):(f=r,0===xo&&Ao(dt)),f===r&&(f=null),c=u=[u,d,h,f]):(go=c,c=r);c=Po(),41===e.charCodeAt(go)?(u=y,go++):(u=r,0===xo&&Ao(st)),u!==r?i=s=[s,a,l,c,u]:(go=i,i=r)}else go=i,i=r;i!==r?t=n=[n,o,i]:(go=t,t=r)}else go=t,t=r;return t}())===r&&(t=function(){var t,n,o;t=go,e.substr(go,3)===L?(n=L,go+=3):(n=r,0===xo&&Ao(_t));n!==r?(Po(),o=function(){var t,n,o,i,s,a,l;t=go,n=si(),n!==r?(Po(),o=go,(i=qo())!==r?(s=go,Po(),61===e.charCodeAt(go)?(a=I,go++):(a=r,0===xo&&Ao(kt)),a!==r?(Po(),(l=ai())!==r?s=l:(go=s,s=r)):(go=s,s=r),s===r&&(s=null),vo=o,o=Un(n,i,s)):(go=o,o=r),o===r&&(o=go,i=Po(),61===e.charCodeAt(go)?(s=I,go++):(s=r,0===xo&&Ao(kt)),s!==r?(Po(),(a=ai())!==r?(vo=o,o=qn(n,a)):(go=o,o=r)):(go=o,o=r)),o!==r?(vo=t,t=Kn(n,o)):(go=t,t=r)):(go=t,t=r);return t}(),o!==r?t=o:(go=t,t=r)):(go=t,t=r);return t}()),t}function ii(){var t;return(t=oi())===r&&(t=function(){var t,n,o,i,s;t=go,e.substr(go,4)===E?(n=E,go+=4):(n=r,0===xo&&Ao(pt));n!==r?(Po(),(o=jo())!==r?(Po(),(i=Go())!==r?(Po(),(s=ni())===r&&(s=null),vo=t,t=$n(o,i,s)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r);return t}())===r&&(t=function(){var t,n,o,i,s,a,l,c,u,d;t=go,e.substr(go,4)===E?(n=E,go+=4):(n=r,0===xo&&Ao(pt));n!==r?(o=Po(),(i=Zo())!==r?(s=Po(),(a=jo())!==r?(l=Po(),(c=Go())!==r?(u=Po(),(d=ni())===r&&(d=null),t=n=[n,o,i,s,a,l,c,u,d]):(go=t,t=r)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r);return t}()),t}function si(){var t,n,o,i,s,a;if(t=go,(n=jo())!==r){for(o=[],i=go,Po(),44===e.charCodeAt(go)?(s=A,go++):(s=r,0===xo&&Ao(mt)),s!==r?(Po(),(a=jo())!==r?(Po(),i=a):(go=i,i=r)):(go=i,i=r);i!==r;)o.push(i),i=go,Po(),44===e.charCodeAt(go)?(s=A,go++):(s=r,0===xo&&Ao(mt)),s!==r?(Po(),(a=jo())!==r?(Po(),i=a):(go=i,i=r)):(go=i,i=r);vo=t,t=Wn(n,o)}else go=t,t=r;return t}function ai(){var t,n,o,i,s,a;if(t=go,(n=gi())!==r){for(o=[],i=go,Po(),44===e.charCodeAt(go)?(s=A,go++):(s=r,0===xo&&Ao(mt)),s!==r?(Po(),(a=gi())!==r?(Po(),i=a):(go=i,i=r)):(go=i,i=r);i!==r;)o.push(i),i=go,Po(),44===e.charCodeAt(go)?(s=A,go++):(s=r,0===xo&&Ao(mt)),s!==r?(Po(),(a=gi())!==r?(Po(),i=a):(go=i,i=r)):(go=i,i=r);vo=t,t=Hn(n,o)}else go=t,t=r;return t}function li(){var t;return(t=function(){var t,n,o,i,s,a;t=go,(n=jo())!==r?(o=Po(),61===e.charCodeAt(go)?(i=I,go++):(i=r,0===xo&&Ao(kt)),i!==r?(s=Po(),(a=qo())!==r?t=n=[n,o,i,s,a]:(go=t,t=r)):(go=t,t=r)):(go=t,t=r);return t}())===r&&(t=function(){var t,n,o,i,s,a;t=go,(n=jo())!==r?(o=Po(),i=function(){var t,n,o,i,s,a,l,c;t=go,91===e.charCodeAt(go)?(n=b,go++):(n=r,0===xo&&Ao(at));n!==r?(o=Po(),i=function(){var t,n,o,i,s,a,l,c;if(t=go,n=ci(),n!==r){for(o=[],i=go,s=Po(),44===e.charCodeAt(go)?(a=A,go++):(a=r,0===xo&&Ao(mt)),a!==r?(l=Po(),(c=ci())!==r?i=s=[s,a,l,c]:(go=i,i=r)):(go=i,i=r);i!==r;)o.push(i),i=go,s=Po(),44===e.charCodeAt(go)?(a=A,go++):(a=r,0===xo&&Ao(mt)),a!==r?(l=Po(),(c=ci())!==r?i=s=[s,a,l,c]:(go=i,i=r)):(go=i,i=r);t=n=[n,o]}else go=t,t=r;return t}(),i!==r?(s=Po(),44===e.charCodeAt(go)?(a=A,go++):(a=r,0===xo&&Ao(mt)),a===r&&(a=null),l=Po(),93===e.charCodeAt(go)?(c=w,go++):(c=r,0===xo&&Ao(lt)),c!==r?t=n=[n,o,i,s,a,l,c]:(go=t,t=r)):(go=t,t=r)):(go=t,t=r);return t}(),i===r&&(i=null),s=Po(),(a=qo())!==r?t=n=[n,o,i,s,a]:(go=t,t=r)):(go=t,t=r);return t}()),t}function ci(){var e,t,n,o;return e=go,(t=si())!==r?(n=Po(),(o=ei())!==r?e=t=[t,n,o]:(go=e,e=r)):(go=e,e=r),e}function ui(){var t,n,o,i;return t=function(){var t;t=function(){var e;e=Wo(),e===r&&(e=Fo())===r&&(e=Uo());return e}(),t===r&&(t=function(){var e,t,n;e=go,t=Yo(),t!==r?(Po(),(n=hi())!==r?(vo=e,e=Gn(t,n)):(go=e,e=r)):(go=e,e=r);e===r&&(e=go,(t=$o())!==r?(Po(),(n=hi())!==r?(vo=e,e=Zn(t,n)):(go=e,e=r)):(go=e,e=r));return e}(),t===r&&(t=function(){var t,n,o,i;t=go,e.substr(go,4)===E?(n=E,go+=4):(n=r,0===xo&&Ao(pt));n!==r?(Po(),(o=Go())!==r?(Po(),(i=ni())!==r?(vo=t,t=er(o,i)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r);return t}()));return t}(),t===r&&(t=function(){var e;e=jo(),e===r&&(e=di());return e}())===r&&(t=go,40===e.charCodeAt(go)?(n=v,go++):(n=r,0===xo&&Ao(it)),n!==r?(Po(),(o=gi())!==r?(Po(),41===e.charCodeAt(go)?(i=y,go++):(i=r,0===xo&&Ao(st)),i!==r?t=o:(go=t,t=r)):(go=t,t=r)):(go=t,t=r)),t}function di(){var t,n,o,i;return t=go,(n=jo())!==r?(46===e.charCodeAt(go)?(o=p,go++):(o=r,0===xo&&Ao(Qe)),o!==r&&(i=jo())!==r?(vo=t,t=Xn(n,i)):(go=t,t=r)):(go=t,t=r),t}function hi(){var t,n,o,i,s;return t=go,123===e.charCodeAt(go)?(n=S,go++):(n=r,0===xo&&Ao(ut)),n!==r?(o=go,i=function(){var t,n,o,i,s,a;if(t=go,n=fi(),n!==r){for(o=[],i=go,Po(),44===e.charCodeAt(go)?(s=A,go++):(s=r,0===xo&&Ao(mt)),s!==r?(Po(),(a=fi())!==r?i=a:(go=i,i=r)):(go=i,i=r);i!==r;)o.push(i),i=go,Po(),44===e.charCodeAt(go)?(s=A,go++):(s=r,0===xo&&Ao(mt)),s!==r?(Po(),(a=fi())!==r?i=a:(go=i,i=r)):(go=i,i=r);vo=t,t=Jn(n,o)}else go=t,t=r;return t}(),i!==r?(Po(),44===e.charCodeAt(go)?(s=A,go++):(s=r,0===xo&&Ao(mt)),s===r&&(s=null),Po(),o=i):(go=o,o=r),o===r&&(o=null),125===e.charCodeAt(go)?(i=C,go++):(i=r,0===xo&&Ao(ht)),i!==r?(vo=t,t=Qn(o)):(go=t,t=r)):(go=t,t=r),t}function fi(){var e;return(e=gi())===r&&(e=hi()),e}function pi(){var t,n,o,i,s;if(t=go,n=go,o=function(){var t,n,o,i,s,a,l,c,u;t=go,n=go,o=[],i=e.charAt(go),Re.test(i)?go++:(i=r,0===xo&&Ao(Mt));if(i!==r)for(;i!==r;)o.push(i),i=e.charAt(go),Re.test(i)?go++:(i=r,0===xo&&Ao(Mt));else o=r;n=o!==r?e.substring(n,go):o;n!==r?(o=Po(),40===e.charCodeAt(go)?(i=v,go++):(i=r,0===xo&&Ao(it)),i!==r?(Po(),(s=qo())!==r?(Po(),a=go,44===e.charCodeAt(go)?(l=A,go++):(l=r,0===xo&&Ao(mt)),l!==r?(c=Po(),(u=ai())!==r?a=u:(go=a,a=r)):(go=a,a=r),a===r&&(a=null),l=Po(),41===e.charCodeAt(go)?(c=y,go++):(c=r,0===xo&&Ao(st)),c!==r?(vo=go,(u=(u=sr(n,s,a))?void 0:r)!==r?(vo=t,t=ar(n,s,a)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r);if(t===r){if(t=go,n=go,o=[],i=e.charAt(go),Re.test(i)?go++:(i=r,0===xo&&Ao(Mt)),i!==r)for(;i!==r;)o.push(i),i=e.charAt(go),Re.test(i)?go++:(i=r,0===xo&&Ao(Mt));else o=r;(n=o!==r?e.substring(n,go):o)!==r?(o=Po(),40===e.charCodeAt(go)?(i=v,go++):(i=r,0===xo&&Ao(it)),i!==r?(Po(),(s=ai())===r&&(s=null),Po(),41===e.charCodeAt(go)?(a=y,go++):(a=r,0===xo&&Ao(st)),a!==r?(vo=go,(l=(l=lr(n,s))?void 0:r)!==r?(vo=t,t=cr(n,s)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r)}return t}(),o!==r?n=o:(go=n,n=r),n===r&&(n=go,(o=ui())!==r?n=o:(go=n,n=r)),n!==r){for(o=Po(),i=[],s=mi();s!==r;)i.push(s),s=mi();vo=t,t=tr(n,i)}else go=t,t=r;return t}function mi(){var t;return(t=function(){var t,n,o;t=go,46===e.charCodeAt(go)?(n=p,go++):(n=r,0===xo&&Ao(Qe));n!==r&&(o=jo())!==r?(vo=t,t=nr(o)):(go=t,t=r);return t}())===r&&(t=function(){var t,n,o,i,s,a;t=go,91===e.charCodeAt(go)?(n=b,go++):(n=r,0===xo&&Ao(at));n!==r?(Po(),(o=gi())!==r?(i=go,s=Po(),44===e.charCodeAt(go)?(a=A,go++):(a=r,0===xo&&Ao(mt)),a!==r?i=s=[s,a]:(go=i,i=r),i===r&&(i=null),s=Po(),93===e.charCodeAt(go)?(a=w,go++):(a=r,0===xo&&Ao(lt)),a!==r?(vo=t,t=rr(o)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r);return t}())===r&&(t=function(){var t,n,o,i,s,a;t=go,91===e.charCodeAt(go)?(n=b,go++):(n=r,0===xo&&Ao(at));n!==r?(Po(),(o=gi())===r&&(o=null),Po(),58===e.charCodeAt(go)?(i=j,go++):(i=r,0===xo&&Ao(At)),i!==r?(Po(),(s=gi())===r&&(s=null),Po(),93===e.charCodeAt(go)?(a=w,go++):(a=r,0===xo&&Ao(lt)),a!==r?(vo=t,t=or(o,s)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r);return t}())===r&&(t=function(){var t,n,o,i,s,a,l,c;t=go,46===e.charCodeAt(go)?(n=p,go++):(n=r,0===xo&&Ao(Qe));n!==r?(o=Po(),40===e.charCodeAt(go)?(i=v,go++):(i=r,0===xo&&Ao(it)),i!==r?(s=Po(),(a=qo())!==r?(l=Po(),41===e.charCodeAt(go)?(c=y,go++):(c=r,0===xo&&Ao(st)),c!==r?t=n=[n,o,i,s,a,l,c]:(go=t,t=r)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r);return t}())===r&&(t=function(){var t,n,o,i,s;t=go,40===e.charCodeAt(go)?(n=v,go++):(n=r,0===xo&&Ao(it));n!==r?(Po(),(o=ai())===r&&(o=null),Po(),44===e.charCodeAt(go)?(i=A,go++):(i=r,0===xo&&Ao(mt)),i===r&&(i=null),Po(),41===e.charCodeAt(go)?(s=y,go++):(s=r,0===xo&&Ao(st)),s!==r?(vo=t,t=ir(o)):(go=t,t=r)):(go=t,t=r);return t}()),t}function gi(){var e,t,n,o,i,s;for(e=go,t=[],n=go,(o=vi())!==r?(i=Po(),(s=_i())!==r?n=o=[o,i,s,Po()]:(go=n,n=r)):(go=n,n=r);n!==r;)t.push(n),n=go,(o=vi())!==r?(i=Po(),(s=_i())!==r?n=o=[o,i,s,Po()]:(go=n,n=r)):(go=n,n=r);return(n=vi())!==r?(vo=e,e=ur(t,n)):(go=e,e=r),e===r&&(e=vi()),e}function vi(){var e,t,n,o,i,s;for(e=go,t=[],n=go,(o=yi())!==r?(i=Po(),(s=Ei())!==r?n=o=[o,i,s,Po()]:(go=n,n=r)):(go=n,n=r);n!==r;)t.push(n),n=go,(o=yi())!==r?(i=Po(),(s=Ei())!==r?n=o=[o,i,s,Po()]:(go=n,n=r)):(go=n,n=r);return(n=yi())!==r?(vo=e,e=dr(t,n)):(go=e,e=r),e===r&&(e=yi()),e}function yi(){var e,t,n,o,i,s;for(e=go,t=[],n=go,(o=bi())!==r?(i=Po(),(s=Si())!==r?n=o=[o,i,s,Po()]:(go=n,n=r)):(go=n,n=r);n!==r;)t.push(n),n=go,(o=bi())!==r?(i=Po(),(s=Si())!==r?n=o=[o,i,s,Po()]:(go=n,n=r)):(go=n,n=r);return(n=bi())!==r?(vo=e,e=hr(t,n)):(go=e,e=r),e===r&&(e=bi()),e}function bi(){var e,t,n,o,i,s;for(e=go,t=[],n=go,(o=wi())!==r?(i=Po(),(s=ki())!==r?n=o=[o,i,s,Po()]:(go=n,n=r)):(go=n,n=r);n!==r;)t.push(n),n=go,(o=wi())!==r?(i=Po(),(s=ki())!==r?n=o=[o,i,s,Po()]:(go=n,n=r)):(go=n,n=r);return(n=wi())!==r?(vo=e,e=fr(t,n)):(go=e,e=r),e===r&&(e=wi()),e}function wi(){var e,t,n,o,i,s;for(e=go,t=[],n=go,(o=xi())!==r?(i=Po(),(s=Ci())!==r?n=o=[o,i,s,Po()]:(go=n,n=r)):(go=n,n=r);n!==r;)t.push(n),n=go,(o=xi())!==r?(i=Po(),(s=Ci())!==r?n=o=[o,i,s,Po()]:(go=n,n=r)):(go=n,n=r);return(n=xi())!==r?(vo=e,e=pr(t,n)):(go=e,e=r),e===r&&(e=xi()),e}function xi(){var t,n,o;return(t=pi())===r&&(t=go,n=function(){var t,n;t=go,43===e.charCodeAt(go)?(n=Y,go++):(n=r,0===xo&&Ao(zt));n!==r&&(vo=t,n=Ir());t=n,t===r&&(t=go,45===e.charCodeAt(go)?(n=q,go++):(n=r,0===xo&&Ao(Rt)),n!==r&&(vo=t,n=zr()),(t=n)===r&&(t=go,33===e.charCodeAt(go)?(n=re,go++):(n=r,0===xo&&Ao(Kt)),n!==r&&(vo=t,n=Lr()),(t=n)===r&&(t=go,94===e.charCodeAt(go)?(n=$,go++):(n=r,0===xo&&Ao(Lt)),n!==r&&(vo=t,n=Br()),(t=n)===r&&(t=go,42===e.charCodeAt(go)?(n=_,go++):(n=r,0===xo&&Ao(ft)),n!==r&&(vo=t,n=jr()),(t=n)===r&&(t=go,38===e.charCodeAt(go)?(n=J,go++):(n=r,0===xo&&Ao(Wt)),n!==r&&(vo=t,n=Fr()),(t=n)===r&&(t=go,e.substr(go,2)===D?(n=D,go+=2):(n=r,0===xo&&Ao(xt)),n!==r&&(vo=t,n=Vr()),t=n))))));return t}(),n!==r?(Po(),(o=xi())!==r?(vo=t,t=mr(n,o)):(go=t,t=r)):(go=t,t=r)),t}function Si(){var t,n,o,i;return t=go,e.substr(go,2)===F?(n=F,go+=2):(n=r,0===xo&&Ao(Tt)),n!==r&&(vo=t,n=gr()),(t=n)===r&&(t=go,e.substr(go,2)===V?(n=V,go+=2):(n=r,0===xo&&Ao(Pt)),n!==r&&(vo=t,n=vr()),(t=n)===r&&(t=go,e.substr(go,2)===W?(n=W,go+=2):(n=r,0===xo&&Ao(Ot)),n!==r&&(vo=t,n=yr()),(t=n)===r&&(t=go,e.substr(go,2)===H?(n=H,go+=2):(n=r,0===xo&&Ao(Nt)),n!==r&&(vo=t,n=br()),(t=n)===r&&(t=go,60===e.charCodeAt(go)?(n=U,go++):(n=r,0===xo&&Ao(Dt)),n!==r?(o=go,xo++,45===e.charCodeAt(go)?(i=q,go++):(i=r,0===xo&&Ao(Rt)),xo--,i===r?o=void 0:(go=o,o=r),o!==r?(vo=t,t=wr()):(go=t,t=r)):(go=t,t=r),t===r&&(t=go,62===e.charCodeAt(go)?(n=K,go++):(n=r,0===xo&&Ao(It)),n!==r&&(vo=t,n=xr()),t=n))))),t}function ki(){var t,n,o,i;return t=go,43===e.charCodeAt(go)?(n=Y,go++):(n=r,0===xo&&Ao(zt)),n!==r?(o=go,xo++,43===e.charCodeAt(go)?(i=Y,go++):(i=r,0===xo&&Ao(zt)),xo--,i===r?o=void 0:(go=o,o=r),o!==r?(vo=t,t=Sr()):(go=t,t=r)):(go=t,t=r),t===r&&(t=go,45===e.charCodeAt(go)?(n=q,go++):(n=r,0===xo&&Ao(Rt)),n!==r?(o=go,xo++,45===e.charCodeAt(go)?(i=q,go++):(i=r,0===xo&&Ao(Rt)),xo--,i===r?o=void 0:(go=o,o=r),o!==r?(vo=t,t=kr()):(go=t,t=r)):(go=t,t=r),t===r&&(t=go,124===e.charCodeAt(go)?(n=T,go++):(n=r,0===xo&&Ao(vt)),n!==r?(o=go,xo++,124===e.charCodeAt(go)?(i=T,go++):(i=r,0===xo&&Ao(vt)),xo--,i===r?o=void 0:(go=o,o=r),o!==r?(vo=t,t=Cr()):(go=t,t=r)):(go=t,t=r),t===r&&(t=go,94===e.charCodeAt(go)?(n=$,go++):(n=r,0===xo&&Ao(Lt)),n!==r?(o=go,xo++,94===e.charCodeAt(go)?(i=$,go++):(i=r,0===xo&&Ao(Lt)),xo--,i===r?o=void 0:(go=o,o=r),o!==r?(vo=t,t=_r()):(go=t,t=r)):(go=t,t=r)))),t}function Ci(){var t,n,o,i;return t=go,42===e.charCodeAt(go)?(n=_,go++):(n=r,0===xo&&Ao(ft)),n!==r?(o=go,xo++,42===e.charCodeAt(go)?(i=_,go++):(i=r,0===xo&&Ao(ft)),xo--,i===r?o=void 0:(go=o,o=r),o!==r?(vo=t,t=Er()):(go=t,t=r)):(go=t,t=r),t===r&&(t=go,47===e.charCodeAt(go)?(n=X,go++):(n=r,0===xo&&Ao(Bt)),n!==r?(o=go,xo++,47===e.charCodeAt(go)?(i=X,go++):(i=r,0===xo&&Ao(Bt)),xo--,i===r?o=void 0:(go=o,o=r),o!==r?(vo=t,t=Ar()):(go=t,t=r)):(go=t,t=r),t===r&&(t=go,37===e.charCodeAt(go)?(n=G,go++):(n=r,0===xo&&Ao(jt)),n!==r&&(vo=t,n=Mr()),(t=n)===r&&(t=go,e.substr(go,2)===Z?(n=Z,go+=2):(n=r,0===xo&&Ao(Ft)),n!==r&&(vo=t,n=Tr()),(t=n)===r&&(t=go,e.substr(go,2)===Q?(n=Q,go+=2):(n=r,0===xo&&Ao(Vt)),n!==r&&(vo=t,n=Pr()),(t=n)===r&&(t=go,38===e.charCodeAt(go)?(n=J,go++):(n=r,0===xo&&Ao(Wt)),n!==r?(o=go,xo++,38===e.charCodeAt(go)?(i=J,go++):(i=r,0===xo&&Ao(Wt)),xo--,i===r?o=void 0:(go=o,o=r),o!==r?(vo=t,t=Or()):(go=t,t=r)):(go=t,t=r),t===r&&(t=go,e.substr(go,2)===ee?(n=ee,go+=2):(n=r,0===xo&&Ao(Ht)),n!==r&&(vo=t,n=Nr()),t=n)))))),t}function _i(){var t,n;return t=go,e.substr(go,2)===te?(n=te,go+=2):(n=r,0===xo&&Ao(Ut)),n!==r&&(vo=t,n=Dr()),t=n}function Ei(){var t,n;return t=go,e.substr(go,2)===ne?(n=ne,go+=2):(n=r,0===xo&&Ao(qt)),n!==r&&(vo=t,n=Rr()),t=n}function Ai(){var t;return(t=oi())===r&&(t=function(){var t,n,o,i,s,a;t=go,(n=jo())!==r?(o=Po(),58===e.charCodeAt(go)?(i=j,go++):(i=r,0===xo&&Ao(At)),i!==r?(s=Po(),(a=Ai())!==r?t=n=[n,o,i,s,a]:(go=t,t=r)):(go=t,t=r)):(go=t,t=r);return t}())===r&&(t=Mi())===r&&(t=function(){var t,n,o;t=go,e.substr(go,2)===he?(n=he,go+=2):(n=r,0===xo&&Ao(nn));n!==r?(Po(),(o=pi())!==r?(vo=go,(Qr(o)?void 0:r)!==r?(vo=t,t=Jr(o)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r);return t}())===r&&(t=function(){var t,n,o;t=go,e.substr(go,6)===pe?(n=pe,go+=6):(n=r,0===xo&&Ao(on));n!==r?(Po(),(o=ai())===r&&(o=null),vo=t,t=lo(o)):(go=t,t=r);return t}())===r&&(t=function(){var t,n;t=go,e.substr(go,5)===me?(n=me,go+=5):(n=r,0===xo&&Ao(sn));n!==r?(Po(),jo()===r&&null,vo=t,t=co()):(go=t,t=r);return t}())===r&&(t=function(){var t,n;t=go,e.substr(go,8)===ge?(n=ge,go+=8):(n=r,0===xo&&Ao(an));n!==r?(Po(),jo()===r&&null,vo=t,t=uo()):(go=t,t=r);return t}())===r&&(t=function(){var t,n,o,i;t=go,e.substr(go,4)===ve?(n=ve,go+=4):(n=r,0===xo&&Ao(ln));n!==r?(o=Po(),(i=jo())!==r?t=n=[n,o,i]:(go=t,t=r)):(go=t,t=r);return t}())===r&&(t=function(){var t,n;t=go,e.substr(go,11)===ye?(n=ye,go+=11):(n=r,0===xo&&Ao(cn));n!==r&&(vo=t,n=ho());return t=n,t}())===r&&(t=ni())===r&&(t=Pi())===r&&(t=function(){var t,n,o,i,s,a,l,c,u,d;t=go,e.substr(go,6)===le?(n=le,go+=6):(n=r,0===xo&&Ao(Qt));if(n!==r)if(Po(),o=go,(i=Mi())!==r?(s=Po(),59===e.charCodeAt(go)?(a=k,go++):(a=r,0===xo&&Ao(dt)),a!==r?o=i:(go=o,o=r)):(go=o,o=r),o===r&&(o=null),i=Po(),(s=gi())===r&&(s=null),a=Po(),123===e.charCodeAt(go)?(l=S,go++):(l=r,0===xo&&Ao(ut)),l!==r){for(Po(),c=[],u=go,Po(),(d=Oi())!==r?(Po(),u=d):(go=u,u=r);u!==r;)c.push(u),u=go,Po(),(d=Oi())!==r?(Po(),u=d):(go=u,u=r);125===e.charCodeAt(go)?(u=C,go++):(u=r,0===xo&&Ao(ht)),u!==r?(vo=t,t=Kr(o,s,c)):(go=t,t=r)}else go=t,t=r;else go=t,t=r;return t}())===r&&(t=function(){var t,n,o,i,s,a,l;t=go,e.substr(go,6)===fe?(n=fe,go+=6):(n=r,0===xo&&Ao(rn));if(n!==r)if(Po(),123===e.charCodeAt(go)?(o=S,go++):(o=r,0===xo&&Ao(ut)),o!==r){for(Po(),i=[],s=go,a=Po(),(l=Ni())!==r?(Po(),s=l):(go=s,s=r);s!==r;)i.push(s),s=go,a=Po(),(l=Ni())!==r?(Po(),s=l):(go=s,s=r);s=Po(),125===e.charCodeAt(go)?(a=C,go++):(a=r,0===xo&&Ao(ht)),a!==r?(vo=t,t=eo(i)):(go=t,t=r)}else go=t,t=r;else go=t,t=r;return t}())===r&&(t=function(){var t,n,o,i,s;t=go,e.substr(go,3)===de?(n=de,go+=3):(n=r,0===xo&&Ao(tn));n!==r?(Po(),o=function(){var t,n,o,i,s,a;t=go,n=Mi(),n===r&&(n=null);Po(),59===e.charCodeAt(go)?(o=k,go++):(o=r,0===xo&&Ao(dt));o!==r?(Po(),(i=gi())===r&&(i=null),Po(),59===e.charCodeAt(go)?(s=k,go++):(s=r,0===xo&&Ao(dt)),s!==r?(Po(),(a=Mi())===r&&(a=null),vo=t,t=Zr(n,i,a)):(go=t,t=r)):(go=t,t=r);return t}(),o===r&&(o=go,(i=gi())!==r&&(vo=o,i=Xr(i)),o=i),o===r&&(o=null),i=Po(),(s=ni())!==r?(vo=t,t=Gr(o,s)):(go=t,t=r)):(go=t,t=r);return t}())===r&&(t=function(){var t,n,o;t=go,e.substr(go,5)===be?(n=be,go+=5):(n=r,0===xo&&Ao(un));n!==r?(Po(),(o=gi())!==r?(vo=t,t=fo(o)):(go=t,t=r)):(go=t,t=r);return t}()),t}function Mi(){var t;return(t=Ti())===r&&(t=function(){var t,n,o;t=go,(n=gi())!==r?(Po(),e.substr(go,2)===oe?(o=oe,go+=2):(o=r,0===xo&&Ao(Yt)),o===r&&(e.substr(go,2)===ie?(o=ie,go+=2):(o=r,0===xo&&Ao($t))),o!==r?(vo=t,t=Hr(n,o)):(go=t,t=r)):(go=t,t=r);return t}())===r&&(t=function(){var t,n,o,i,s;t=go,(n=ai())!==r?(Po(),o=go,i=function(){var t,n,o;t=go,n=e.charAt(go),Ie.test(n)?go++:(n=r,0===xo&&Ao(Xt));n===r&&(n=null);61===e.charCodeAt(go)?(o=I,go++):(o=r,0===xo&&Ao(kt));o!==r?t=n=[n,o]:(go=t,t=r);return t}(),(o=i!==r?e.substring(o,go):i)!==r?(i=Po(),(s=ai())!==r?(vo=t,t=Ur(n,o,s)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r);return t}())===r&&(t=function(){var t,n,o,i;return t=go,(n=si())!==r?(Po(),e.substr(go,2)===B?(o=B,go+=2):(o=r,0===xo&&Ao(Et)),o!==r?(Po(),(i=ai())!==r?(vo=t,t=Yn(n,i)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r),t}())===r&&(t=gi()),t}function Ti(){var t,n,o,i;return t=go,(n=jo())!==r?(Po(),e.substr(go,2)===D?(o=D,go+=2):(o=r,0===xo&&Ao(xt)),o!==r?(Po(),(i=gi())!==r?(vo=t,t=Wr(n,i)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r),t}function Pi(){var t,n,o,i,s,a,l,c,u,d;return t=go,e.substr(go,2)===se?(n=se,go+=2):(n=r,0===xo&&Ao(Gt)),n!==r?(Po(),o=go,(i=Mi())!==r?(s=Po(),59===e.charCodeAt(go)?(a=k,go++):(a=r,0===xo&&Ao(dt)),a!==r?o=i:(go=o,o=r)):(go=o,o=r),o===r&&(o=null),i=Po(),(s=gi())!==r?(a=Po(),(l=ni())!==r?(Po(),c=go,e.substr(go,4)===ae?(u=ae,go+=4):(u=r,0===xo&&Ao(Zt)),u!==r?(Po(),(d=Pi())===r&&(d=ni()),d!==r?c=d:(go=c,c=r)):(go=c,c=r),c===r&&(c=null),vo=t,t=qr(o,s,l,c)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r),t}function Oi(){var t,n,o,i,s;return t=go,e.substr(go,4)===ce?(n=ce,go+=4):(n=r,0===xo&&Ao(Jt)),n!==r?(Po(),e.substr(go,7)===ue?(o=ue,go+=7):(o=r,0===xo&&Ao(en)),o!==r?(Po(),58===e.charCodeAt(go)?(i=j,go++):(i=r,0===xo&&Ao(At)),i!==r?(Po(),(s=ri())!==r?(vo=t,t=Yr(s)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r),t===r&&(t=go,e.substr(go,4)===ce?(n=ce,go+=4):(n=r,0===xo&&Ao(Jt)),n!==r?(Po(),(o=ai())!==r?(Po(),58===e.charCodeAt(go)?(i=j,go++):(i=r,0===xo&&Ao(At)),i!==r?(Po(),(s=ri())!==r?(vo=t,t=$r(o,s)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r)),t}function Ni(){var t,n,o,i;return t=go,n=function(){var t,n,o;t=go,e.substr(go,4)===ce?(n=ce,go+=4):(n=r,0===xo&&Ao(Jt));n!==r?(Po(),o=function(){var t,n,o,i,s,a;t=go,n=si(),n!==r?(o=Po(),e.substr(go,2)===B?(i=B,go+=2):(i=r,0===xo&&Ao(Et)),i!==r?(s=Po(),(a=Di())!==r?(vo=go,(no(n,a)?void 0:r)!==r?(vo=t,t=ro(n,a)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r);t===r&&(t=go,n=go,(o=si())!==r?(i=Po(),61===e.charCodeAt(go)?(s=I,go++):(s=r,0===xo&&Ao(kt)),s!==r?n=o:(go=n,n=r)):(go=n,n=r),n===r&&(n=null),o=Po(),(i=Di())!==r?(vo=go,(s=(s=oo(n,i))?void 0:r)!==r?(vo=t,t=io(n,i)):(go=t,t=r)):(go=t,t=r));return t}(),o===r&&(o=Ti()),o!==r?t=o:(go=t,t=r)):(go=t,t=r);t===r&&(t=go,e.substr(go,7)===ue?(n=ue,go+=7):(n=r,0===xo&&Ao(en)),n!==r?t=n:(go=t,t=r));return t}(),n!==r?(Po(),58===e.charCodeAt(go)?(o=j,go++):(o=r,0===xo&&Ao(At)),o!==r?(Po(),(i=ri())!==r?(vo=t,t=to(n,i)):(go=t,t=r)):(go=t,t=r)):(go=t,t=r),t}function Di(){var e,t;return e=go,(t=gi())!==r?(vo=go,(so(t)?void 0:r)!==r?(vo=e,e=ao(t)):(go=e,e=r)):(go=e,e=r),e}function Ri(){var t,n,o,i,s,a,l,c,u,d,h;if(t=go,e.substr(go,6)===xe?(n=xe,go+=6):(n=r,0===xo&&Ao(hn)),n!==r){if(Po(),(o=Ii())===r)if(o=go,40===e.charCodeAt(go)?(i=v,go++):(i=r,0===xo&&Ao(it)),i!==r){for(s=Po(),a=[],l=go,c=Po(),(u=Ii())!==r?(d=Po(),59===e.charCodeAt(go)?(h=k,go++):(h=r,0===xo&&Ao(dt)),h===r&&(h=null),l=c=[c,u,d,h]):(go=l,l=r);l!==r;)a.push(l),l=go,c=Po(),(u=Ii())!==r?(d=Po(),59===e.charCodeAt(go)?(h=k,go++):(h=r,0===xo&&Ao(dt)),h===r&&(h=null),l=c=[c,u,d,h]):(go=l,l=r);l=Po(),41===e.charCodeAt(go)?(c=y,go++):(c=r,0===xo&&Ao(st)),c!==r?o=i=[i,s,a,l,c]:(go=o,o=r)}else go=o,o=r;o!==r?t=o:(go=t,t=r)}else go=t,t=r;return t}function Ii(){var t,n,o;return t=go,46===e.charCodeAt(go)?(n=p,go++):(n=r,0===xo&&Ao(Qe)),n===r&&(n=jo()),n===r&&(n=null),Po(),(o=Uo())!==r?(vo=t,t=mo(n,o)):(go=t,t=r),t}if(n=s(),t.peg$library)return{peg$result:n,peg$currPos:go,peg$FAILED:r,peg$maxFailExpected:wo,peg$maxFailPos:bo};if(n!==r&&go===e.length)return n;throw n!==r&&go<e.length&&Ao({type:"end"}),Mo(wo,bo<e.length?e.charAt(bo):null,bo<e.length?Eo(bo,bo+1):Eo(bo,bo))}},IG=RG;var zG=n(334),LG=n.n(zG);class BG{constructor(e,t,n){this.heap=e,this.instructions=t,this.symbols=n,this.identifier_map=new Map,this.env_name_map=new Map,this.env_alloc_map=new Map,this.context_id_map=new Map,this.context_id=1,this.data=[],this.modified_buffer=new Set}get_all_env(e,t,n){if(-1===e)return;t.add(e);const r=this.heap.get_value(e);r instanceof UY&&n.add(e);const o=r.get_children();for(const i of o)t.has(i)||this.get_all_env(i,t,n)}dfs_env(e,t,n){const r=(t.get(e)||[]).map((e=>[this.env_alloc_map.get(e)||-1,e])).sort(((e,t)=>e[0]-t[0])).map((e=>e[1])).map((e=>this.dfs_env(e,t,n))),o=new UY(this.heap,e).get_frame().get_children().map((e=>({name:this.identifier_map.get(e),val:this.heap.get_value(e).toString(),modified:this.modified_buffer.has(e)})));return{addr:e,name:this.env_name_map.get(e),vars:o,alloc_time:this.env_alloc_map.get(e),children:r,cur:e===n}}generate_state(e,t){const n=[...this.heap.contexts.list().get_children(),...this.heap.blocked_contexts.get_items()].map((e=>new YY(this.heap,e))),r=[],o=new Set;let i=!0;for(const a of n){if(o.has(a.addr))continue;o.add(a.addr);const t=a.OS().list().get_children().map((e=>{const t=this.identifier_map.get(e);return{val:(t?t+": ":"")+this.heap.get_value(e).toString(),addr:e}}));if(this.data.length){const e=this.data[this.data.length-1].contexts;let n;for(const t of e)t.addr===a.addr&&(n=t);if(n){let e=!0;for(let r=0;r<t.length;r++)(r>=n.OS.length||n.OS[r].addr!==t[r].addr)&&(e=!1),e||(t[r].modified=!0)}else for(const r of t)r.modified=!0}else for(const e of t)e.modified=!0;const n=[],l=i?e:a.PC();i=!1;let c=0,u=this.instructions.length-1;l<3?(c=0,u=6):l+3>=this.instructions.length?(c=this.instructions.length-7,u=this.instructions.length-1):(c=l-3,u=l+3);for(let e=c;e<=u;e++)n.push({val:this.instructions[e].toString(),idx:e,cur:e===l});const d=new Set,h=new Set;this.get_all_env(a.addr,h,d);const f=new Map;for(const e of d)f.set(e,[]);let p=0;for(const e of d){var s;const t=new UY(this.heap,e),n=t.get_parent(0);n?null===(s=f.get(n.addr))||void 0===s||s.push(t.addr):p=e}const m=this.dfs_env(p,f,a.E().addr);r.push({OS:t,id:this.context_id_map.get(a.addr)||-1,addr:a.addr,blocked:a.is_blocked(),instrs:n,envs:m})}this.data.push({contexts:r,output:t,location:this.symbols[e]}),this.modified_buffer.clear()}}class jG{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.instructions=void 0,this.heap=void 0,this.context=void 0,this.contexts=void 0,this.stdout=void 0,this.generator=void 0,this.debug_mode=void 0,this.debugger=void 0,this.runtime_count=0,this.instructions=e,this.heap=new E$(t),this.contexts=this.heap.contexts,this.context=new YY(this.heap,this.contexts.peek()),this.stdout="",console.log(this.heap.mem_left);const o=HY.create(0,this.heap),i=UY.create(o.addr,[],!1,this.heap);this.context.set_E(i.addr);const s=Math.random().toString(36).substring(2);console.log("Random Seed",s),this.generator=LG()(s),this.debug_mode=r,this.debugger=new BG(this.heap,this.instructions,n),this.debug_mode&&this.debugger.context_id_map.set(this.context.addr,this.debugger.context_id++),this.heap.debugger=this.debugger}start(){try{const e=30;for(this.runtime_count=0;this.contexts.sz();){this.context=new YY(this.heap,this.contexts.peek());let t=0;for(;!$$.is(this.instructions[this.context.PC()]);){if(t>=e){this.contexts.push(this.context.addr);break}const n=this.context.PC();if(this.instructions[this.context.incr_PC()].execute(this),this.runtime_count+=1,t+=1,this.debug_mode&&this.debugger.generate_state(n,this.stdout),this.context.is_blocked())break}if(this.contexts.pop(),this.runtime_count>10**5)throw Error("Time Limit Exceeded!")}if(!this.heap.blocked_contexts.is_empty())throw Error("All threads are blocked!");return{stdout:this.stdout,visual_data:this.debug_mode?this.debugger.data:[]}}catch(e){let t;return console.warn(e),e instanceof Error&&(t="Execution Error: "+e.message),{stdout:"An Error Occurred!",visual_data:this.debug_mode?this.debugger.data:[],errorMessage:t}}}print(e){this.stdout+=e}}const FG=function(e,t){let n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{n=IG.parse(e),console.log(n)}catch(a){return{instructions:[],output:"Syntax Error!",error:{message:a.message,type:"parse",details:a},visualData:[]}}let o=[],i=[];try{const e=(e=>{const t=new MX;return t.compile_program(e),{instructions:t.instructions,symbols:t.symbols}})(n);o=e.instructions,i=e.symbols,console.log(o)}catch(a){return{instructions:[],output:"Compilation Error!",error:{message:a.message,type:"compile",details:a},visualData:[]}}const s=function(e,t,n){return new jG(e,t,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3]).start()}(o,t,i,r);return s.errorMessage?(console.warn(s.errorMessage),{instructions:[],output:"Runtime Error!",error:{message:s.errorMessage,type:"runtime",details:s.errorMessage},visualData:[]}):{instructions:[],output:s.stdout,visualData:s.visual_data,error:void 0}};var VG;const WG=(0,t.createContext)(void 0),HG="code_value",UG="visual_mode",qG=()=>{const{setVisualData:e,currentStep:n,setStep:r,data:o,setOutput:i}=gR((e=>({data:e.data,setVisualData:e.setVisualData,currentStep:e.currentStep,setStep:e.setStep,setOutput:e.setOutput}))),[s,a]=(0,t.useState)(!0),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(1),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(""),[y,b]=(0,t.useState)(2048),[w,x]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=VY.get(HG),t=VY.get(UG);if(e)try{v(atob(e))}catch(n){VY.remove(HG)}"true"===t&&x(!0)}),[]);const S=RY(),k=function(e){S({title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"An Error Has Occured!",description:e,status:"error",duration:2e3,isClosable:!0,containerStyle:{whiteSpace:"pre-line"}})};LY((()=>{n>=0&&n+1<o.length&&r(n+1),n>=o.length-1&&c(!1)}),l?Math.ceil(1e3/h):null);const[C,_]=(0,t.useState)([0]),E=jt(VG||(VG=ue(["  \n    from {transform: rotate(0deg);}   \n    to {transform: rotate(360deg)} \n  "])));return(0,Wt.jsxs)(WG.Provider,{value:m,children:[p?(0,Wt.jsx)(BY,{position:"absolute",h:"100%",w:"100%",bg:"rgba(0, 0, 0, .5)",zIndex:3e3,children:(0,Wt.jsx)(ZB,{src:"gopher.png",width:"150px",animation:"".concat(E," infinite 0.5s linear")})}):null,(0,Wt.jsxs)(ER,{children:[(0,Wt.jsx)(AR,{minWidth:"500px",w:"30%",borderRightWidth:"1px",children:(0,Wt.jsx)(fL,{editing:s,toggleMode:async()=>{if(s){if(m(!0),""===g)return m(!1),void k("Code cannot be empty!");i("Compiling and Running your code...");const{error:t,output:n,visualData:r}=FG(g,y,w);if(t){const e={parse:"Syntax Error",compile:"Compile Error",runtime:"Runtime Error"}[t.type];if(m(!1),k(t.message,e),"compile"===t.type){const e=t.details,n=e.sourceLocation.start.line;let r=e.sourceLocation.end.line;1===e.sourceLocation.end.column&&r--,_([[n,r]])}}else _([0]);console.log(t,!t,"runtime"===(null===t||void 0===t?void 0:t.type)),t&&"runtime"!==t.type||(a(!s),e(r),0===r.length&&i(n||""),c(!0),d(!1),setTimeout((function(){m(!1)}),500))}else c(!1),a(!s)},isDisabled:p,heapsize:y,setHeapsize:b})}),(0,Wt.jsx)(ER,{position:"relative",flex:1,children:(0,Wt.jsxs)(ER,{borderRightWidth:"1px",flexDirection:"column",w:"100%",children:[(0,Wt.jsx)(qB,{}),(0,Wt.jsxs)(ER,{flex:1,flexDirection:"column",w:"100%",children:[(0,Wt.jsx)(ER,{flex:1,children:(0,Wt.jsx)(AY,{})}),(0,Wt.jsx)(AR,{children:(0,Wt.jsx)(HB,{length:o.length-1,playing:l,curSpeed:h,setSpeed:f,togglePlaying:()=>{(l||n<o.length)&&c(!l)},disabled:0===o.length||s,wasPlaying:u,setWasPlaying:d,moveStep:e=>{const t=Math.min(o.length,Math.max(0,(e?1:-1)*h+n));r(t),t>=o.length&&c(!1)},toggleVisual:()=>{VY.set(UG,(!w).toString()),x(!w)},visual:w})})]})]})})]})]})},KG=[{path:"/",component:(0,Wt.jsx)(qG,{})},{path:"/go-virtual-machine",component:(0,Wt.jsx)(qG,{})}],YG=()=>(0,Wt.jsx)(oe,{children:KG.map((e=>(0,Wt.jsx)(ne,{path:e.path,element:e.component},e.path)))}),$G=()=>(0,Wt.jsxs)(hb,{theme:DY,children:[(0,Wt.jsx)(QB,{}),(0,Wt.jsx)(YG,{})]});o.createRoot(document.getElementById("root")).render((0,Wt.jsx)(t.StrictMode,{children:(0,Wt.jsx)(ae,{children:(0,Wt.jsx)($G,{})})}))})()})();
//# sourceMappingURL=main.9a315da8.js.map